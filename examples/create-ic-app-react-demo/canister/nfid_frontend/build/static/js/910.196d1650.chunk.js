"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[910],{91557:(e,a,s)=>{s.r(a),s.d(a,{default:()=>X});var r=s(18414),t=s(87273),i=s(94244),l=s(21882),n=s(21325),o=s(69491),c=s(58688),d=s(33693);const u=e=>{let{className:a,onClick:s}=e;return(0,d.jsxs)("svg",{viewBox:"0 0 34 34",fill:"none",className:(0,r.Z)("w-6 h-6",a),onClick:s,children:[(0,d.jsx)("path",{d:"M28.3333 22.666C28.1473 22.6661 27.963 22.6295 27.7911 22.5583C27.6192 22.4871 27.463 22.3827 27.3315 22.2512C27.1999 22.1196 27.0956 21.9634 27.0244 21.7915C26.9532 21.6196 26.9166 21.4354 26.9167 21.2493L26.9167 8.49935L7.08333 8.49935L7.08333 21.2493C7.08333 21.6251 6.93408 21.9854 6.6684 22.2511C6.40272 22.5168 6.04239 22.666 5.66667 22.666C5.29094 22.666 4.93061 22.5168 4.66493 22.2511C4.39926 21.9854 4.25 21.6251 4.25 21.2493L4.25 8.49935C4.25086 7.74817 4.54965 7.02799 5.08081 6.49683C5.61198 5.96566 6.33215 5.66687 7.08333 5.66602L26.9167 5.66602C27.6678 5.66687 28.388 5.96566 28.9192 6.49683C29.4504 7.02799 29.7491 7.74817 29.75 8.49935L29.75 21.2493C29.75 21.4354 29.7134 21.6196 29.6423 21.7915C29.5711 21.9634 29.4667 22.1196 29.3352 22.2512C29.2036 22.3827 29.0474 22.4871 28.8755 22.5583C28.7036 22.6295 28.5194 22.6661 28.3333 22.666Z",fill:"#0E62FF"}),(0,d.jsx)("path",{d:"M31.167 28.3321L2.83366 28.3321C2.45794 28.3321 2.0976 28.1829 1.83192 27.9172C1.56625 27.6515 1.41699 27.2912 1.41699 26.9154C1.41699 26.5397 1.56625 26.1794 1.83192 25.9137C2.0976 25.648 2.45794 25.4988 2.83366 25.4988L31.167 25.4988C31.5427 25.4988 31.9031 25.648 32.1687 25.9137C32.4344 26.1794 32.5837 26.5397 32.5837 26.9154C32.5837 27.2912 32.4344 27.6515 32.1687 27.9172C31.9031 28.1829 31.5427 28.3321 31.167 28.3321Z",fill:"#0E62FF"})]})},h=()=>(0,d.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,d.jsx)("path",{d:"M4 20V4C4 3.46957 4.21071 2.96086 4.58579 2.58579C4.96086 2.21071 5.46957 2 6 2H14L20 8V20",stroke:"#0E62FF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,d.jsx)("path",{d:"M14 2V8H20",stroke:"#0E62FF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,d.jsx)("path",{d:"M16 13H8",stroke:"#0E62FF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,d.jsx)("path",{d:"M16 17H8",stroke:"#0E62FF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,d.jsx)("path",{d:"M10 9H9H8",stroke:"#0E62FF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),p=e=>{let{className:a,onClick:s}=e;return(0,d.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:(0,r.Z)("w-6 h-6",a),onClick:s,children:[(0,d.jsx)("rect",{id:"Rectangle 2",x:"2",y:"4",width:"20",height:"16",rx:"2",stroke:"#9CA3AF",strokeWidth:"2"}),(0,d.jsx)("path",{id:"Vector 4",d:"M2 9L11.1056 13.5528C11.6686 13.8343 12.3314 13.8343 12.8944 13.5528L22 9",stroke:"#9CA3AF",strokeWidth:"2"})]})},m=e=>{let{className:a,onClick:s}=e;return(0,d.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:(0,r.Z)("w-6 h-6",a),onClick:s,children:[(0,d.jsx)("path",{id:"Vector",d:"M22.0016 12.2296C22.0016 11.557 21.942 10.9184 21.8398 10.2969H12.2188V14.1368H17.7275C17.4805 15.3969 16.7568 16.4612 15.684 17.1849V19.7391H18.9705C20.8947 17.9597 22.0016 15.3373 22.0016 12.2296Z",fill:"#9CA3AF"}),(0,d.jsx)("path",{id:"Vector_2",d:"M12.2203 22.2204C14.9789 22.2204 17.2863 21.3009 18.9721 19.7428L15.6856 17.1885C14.766 17.8016 13.5996 18.1762 12.2203 18.1762C9.55534 18.1762 7.29908 16.3797 6.49022 13.9531H3.10156V16.584C4.77886 19.9216 8.22713 22.2204 12.2203 22.2204Z",fill:"#9CA3AF"}),(0,d.jsx)("path",{id:"Vector_3",d:"M6.487 13.9445C6.27414 13.3314 6.16346 12.6759 6.16346 11.9947C6.16346 11.3136 6.28266 10.658 6.487 10.045V7.41406H3.09833C2.40017 8.79337 2 10.343 2 11.9947C2 13.6465 2.40017 15.1961 3.09833 16.5754L6.487 13.9445Z",fill:"#9CA3AF"}),(0,d.jsx)("path",{id:"Vector_4",d:"M12.2203 5.82551C13.7273 5.82551 15.0726 6.34488 16.1368 7.35807L19.0487 4.4462C17.2863 2.79444 14.9789 1.78125 12.2203 1.78125C8.22713 1.78125 4.77886 4.08009 3.10156 7.41767L6.49022 10.0486C7.29908 7.62201 9.55534 5.82551 12.2203 5.82551Z",fill:"#9CA3AF"})]})},g=e=>{let{className:a,onClick:s}=e;return(0,d.jsxs)("svg",{viewBox:"0 0 34 34",fill:"none",className:(0,r.Z)("w-6 h-6",a),onClick:s,children:[(0,d.jsx)("path",{fill:"#0E62FF",d:"M17 31.168a1.417 1.417 0 01-1.417-1.417v-4.25h-8.5a4.255 4.255 0 01-4.25-4.25V7.084a4.255 4.255 0 014.25-4.25h19.833a4.255 4.255 0 014.25 4.25v14.167a4.255 4.255 0 01-4.25 4.25H15.583a1.416 1.416 0 110-2.833h11.333a1.418 1.418 0 001.417-1.417V7.084a1.418 1.418 0 00-1.417-1.416H7.083a1.418 1.418 0 00-1.417 1.416v14.167a1.418 1.418 0 001.417 1.417H17a1.417 1.417 0 011.416 1.416v5.667A1.417 1.417 0 0117 31.168z"}),(0,d.jsx)("path",{fill:"#0E62FF",d:"M21.25 31.166h-8.5a1.417 1.417 0 110-2.833h8.5a1.417 1.417 0 010 2.833zM17 21.249a1.404 1.404 0 01-1.417-1.417 1.417 1.417 0 112.833 0A1.404 1.404 0 0117 21.249z"})]})},y=e=>{let{className:a,onClick:s}=e;return(0,d.jsxs)("svg",{viewBox:"0 0 34 34",fill:"none",className:(0,r.Z)("w-6 h-6",a),onClick:s,children:[(0,d.jsx)("path",{d:"M8.49902 7.08333C8.49902 5.51853 9.76755 4.25 11.3324 4.25H22.6657C24.2305 4.25 25.499 5.51853 25.499 7.08333V26.9167C25.499 28.4815 24.2305 29.75 22.6657 29.75H11.3324C9.76755 29.75 8.49902 28.4815 8.49902 26.9167V7.08333ZM22.6657 7.08333H11.3324V26.9167H22.6657V7.08333Z",fill:"#0E62FF"}),(0,d.jsx)("path",{d:"M14.167 7.08325H19.8337V7.08325C19.8337 7.86566 19.1994 8.49992 18.417 8.49992H15.5837C14.8013 8.49992 14.167 7.86566 14.167 7.08325V7.08325Z",fill:"#0E62FF"})]})},b=e=>{let{className:a,onClick:s}=e;return(0,d.jsxs)("svg",{viewBox:"0 0 34 34",fill:"none",className:(0,r.Z)("w-6 h-6",a),onClick:s,children:[(0,d.jsx)("path",{fill:"#0E62FF",d:"M5.667 5.668A2.833 2.833 0 018.5 2.834h17a2.833 2.833 0 012.834 2.834v22.666a2.833 2.833 0 01-2.834 2.834h-17a2.833 2.833 0 01-2.833-2.834V5.668zm19.833 0h-17v22.666h17V5.668z"}),(0,d.jsx)("path",{fill:"#0E62FF",d:"M12.75 5.666h8.5v.417a1 1 0 01-1 1h-6.5a1 1 0 01-1-1v-.417z"})]})},v=e=>{let{className:a,onClick:s}=e;return(0,d.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:(0,r.Z)("w-6 h-6",a),onClick:s,children:[(0,d.jsx)("path",{d:"M9.02393 9.65484C9.038 9.11985 9.16753 8.67214 9.4125 8.31172C9.66029 7.9513 9.98692 7.68099 10.3924 7.50078C10.8007 7.32057 11.2512 7.23047 11.744 7.23047C12.2818 7.23047 12.7548 7.3248 13.1631 7.51345C13.5742 7.70211 13.8938 7.97102 14.1219 8.32017C14.3528 8.66651 14.4682 9.07761 14.4682 9.55348C14.4682 9.87447 14.4161 10.1617 14.3119 10.4151C14.2106 10.6685 14.0656 10.8938 13.8769 11.0909C13.6882 11.288 13.4644 11.464 13.2053 11.6188C12.9773 11.7596 12.79 11.906 12.6436 12.0581C12.5 12.2102 12.393 12.389 12.3226 12.5945C12.255 12.7972 12.2198 13.0478 12.217 13.3463V13.5002",stroke:"#9CA3AF",strokeWidth:"2",strokeLinecap:"round"}),(0,d.jsx)("path",{d:"M12.2065 18.1776C11.9082 18.1776 11.6514 18.0715 11.4359 17.8594C11.2205 17.6473 11.1128 17.3887 11.1128 17.0838C11.1128 16.7855 11.2205 16.5303 11.4359 16.3182C11.6514 16.1061 11.9082 16 12.2065 16C12.5015 16 12.7567 16.1061 12.9722 16.3182C13.1909 16.5303 13.3003 16.7855 13.3003 17.0838C13.3003 17.286 13.2489 17.4699 13.1462 17.6357C13.0467 17.8014 12.9142 17.9339 12.7484 18.0334C12.586 18.1295 12.4054 18.1776 12.2065 18.1776Z",fill:"#9CA3AF"}),(0,d.jsx)("path",{d:"M5.90214 3.17157C6.4802 2.59351 6.76923 2.30448 7.13677 2.15224C7.50432 2 7.91307 2 8.73057 2H15.326C16.1517 2 16.5646 2 16.9351 2.15505C17.3056 2.31011 17.5954 2.60419 18.175 3.19234L20.849 5.90579C21.4171 6.4822 21.7011 6.7704 21.8505 7.13498C22 7.49956 22 7.90419 22 8.71345V15.3431C22 16.1606 22 16.5694 21.8478 16.9369C21.6955 17.3045 21.4065 17.5935 20.8284 18.1716L18.1716 20.8284C17.5935 21.4065 17.3045 21.6955 16.9369 21.8478C16.5694 22 16.1606 22 15.3431 22H8.71345C7.90419 22 7.49956 22 7.13498 21.8505C6.7704 21.7011 6.4822 21.4171 5.90579 20.849L3.19234 18.175C2.60419 17.5954 2.31011 17.3056 2.15505 16.9351C2 16.5646 2 16.1517 2 15.326V8.73057C2 7.91307 2 7.50432 2.15224 7.13677C2.30448 6.76923 2.59351 6.4802 3.17157 5.90214L5.90214 3.17157Z",stroke:"#9CA3AF",strokeWidth:"2"})]})},x=e=>{let{className:a,onClick:s}=e;return(0,d.jsx)("svg",{viewBox:"0 0 17 24",fill:"none",className:(0,r.Z)("w-6 h-6",a),onClick:s,children:(0,d.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.21218 5.51102C6.01785 5.51102 5.89783 5.29903 5.9978 5.1324L9.00107 0.126953L12.0043 5.1324C12.1043 5.29903 11.9843 5.51102 11.79 5.51102H10V13.8821L13.4104 12.3473C13.7692 12.1858 14 11.8289 14 11.4354V11.0002H13.25C13.1119 11.0002 13 10.8883 13 10.7502V7.25024C13 7.11217 13.1119 7.00024 13.25 7.00024H16.75C16.8881 7.00024 17 7.11217 17 7.25024V10.7502C17 10.8883 16.8881 11.0002 16.75 11.0002H16V11.4354C16 12.6159 15.3077 13.6866 14.2312 14.1711L10 16.0753V17.5716V18.6368C11.0379 19.0389 11.7738 20.0469 11.7738 21.2268C11.7738 22.7603 10.5307 24.0034 8.9972 24.0034C7.46371 24.0034 6.22058 22.7603 6.22058 21.2268C6.22058 20.0448 6.95917 19.0353 8 18.6346V18.2182L3.76881 16.3139C2.69231 15.8295 2 14.7587 2 13.5782V12.6639C1.1674 12.3024 0.585083 11.4728 0.585083 10.5073C0.585083 9.20938 1.63724 8.15723 2.93514 8.15723C4.23304 8.15723 5.2852 9.20938 5.2852 10.5073C5.2852 11.4219 4.76274 12.2144 4 12.6028V13.5782C4 13.9717 4.23077 14.3286 4.5896 14.4901L8 16.025V15.4287V5.51102H6.21218Z",fill:"#0E62FF"})})},f=e=>{let{icon:a,onClick:s,className:r}=e;switch(a){case"mobile":return(0,d.jsx)(y,{className:r,onClick:s});case"tablet":return(0,d.jsx)(b,{className:r,onClick:s});case"laptop":return(0,d.jsx)(u,{className:r,onClick:s});case"desktop":return(0,d.jsx)(g,{className:r,onClick:s});case"document":return(0,d.jsx)(h,{className:r,onClick:s});case"usb":return(0,d.jsx)(x,{className:r,onClick:s});case"google":return(0,d.jsx)(m,{className:r,onClick:s});case"unknown":default:return(0,d.jsx)(v,{className:r,onClick:s});case"email":return(0,d.jsx)(p,{className:r,onClick:s})}};var w=s(47200),k=s(17974),j=s(41577),C=s(62467);const N=e=>{var a;let{device:s,children:r}=e;const[n,o]=t.useState(!1),{data:c}=(0,i.ZP)(null!==s&&void 0!==s&&null!==(a=s.credentialId)&&void 0!==a&&a.length?[s.credentialId,"_passkeyMetadata"]:null,(e=>{let[a]=e;return j.f.getPasskeyByCredentialID(a)}));return(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{onClick:()=>o(!0),children:r}),(0,d.jsxs)(C.z,{isVisible:n,onClose:()=>o(!1),className:"p-5 w-[95%] md:w-[540px] z-[100] lg:rounded-xl",children:[(0,d.jsx)("p",{className:"text-2xl font-bold",children:"Passkey details"}),(0,d.jsxs)("table",{className:"w-full",children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{className:"w-[130px] sm:w-[180px]"}),(0,d.jsx)("th",{className:"w-auto"})]})}),(0,d.jsxs)("tbody",{className:"text-sm break-all",children:[(0,d.jsxs)("tr",{className:"border-b border-gray-200 h-14",children:[(0,d.jsx)("td",{className:"text-gray-400",children:"Name"}),(0,d.jsx)("td",{children:s.label})]}),(0,d.jsxs)("tr",{className:"border-b border-gray-200 h-14",children:[(0,d.jsx)("td",{className:"text-gray-400",children:"Passkey type"}),(0,d.jsx)("td",{children:s.isMultiDevice?"Multi-device passkey":"Single-device passkey"})]}),(0,d.jsxs)("tr",{className:"border-b border-gray-200 h-14",children:[(0,d.jsx)("td",{className:"text-gray-400",children:"Created"}),(0,d.jsx)("td",{children:s.created_at})]}),(0,d.jsxs)("tr",{className:"border-b border-gray-200 h-14",children:[(0,d.jsx)("td",{className:"text-gray-400",children:"Last activity"}),(0,d.jsx)("td",{children:s.last_used})]}),(0,d.jsxs)("tr",{className:"border-b border-gray-200 h-14",children:[(0,d.jsx)("td",{className:"text-gray-400",children:"Transports"}),(0,d.jsx)("td",{children:null===c||void 0===c?void 0:c.transports.join(", ")})]}),(0,d.jsxs)("tr",{className:"border-b border-gray-200 h-14",children:[(0,d.jsx)("td",{className:"text-gray-400",children:"User verification"}),(0,d.jsx)("td",{children:null!==c&&void 0!==c&&c.flags.userVerified?"True":"False"})]}),(0,d.jsxs)("tr",{className:"border-b border-gray-200 h-14",children:[(0,d.jsx)("td",{className:"text-gray-400",children:"User presence"}),(0,d.jsx)("td",{children:null!==c&&void 0!==c&&c.flags.userPresent?"True":"False"})]}),(0,d.jsxs)("tr",{className:"border-b border-gray-200 h-14",children:[(0,d.jsx)("td",{className:"text-gray-400",children:"AAGUID"}),(0,d.jsx)("td",{children:null===c||void 0===c?void 0:c.aaguid})]})]})]}),(0,d.jsx)(l.zx,{className:"mt-5",type:"primary",block:!0,onClick:()=>o(!1),children:"Close"})]})]})};var L=s(96349),D=s(13791),z=s(23439),A=s(30365);async function F(e,a,s,r){r&&await(0,A.Dv)(e,s),await(0,z.xC)(a)}var V=s(3209),M=s(16345);const I=e=>!e.label.includes("Security Key")&&(e.type===n.Yi.Recovery||e.label.includes("Recovery")),Z=e=>!e.label.includes("Recovery")&&!e.label.includes("Google")&&(e.type===n.Yi.Passkey||e.type===n.Yi.Unknown||e.label.includes("Security Key"));var P=s(14634),_=s.n(P),H=s(53734).Buffer;const T=new class{constructor(){this.getDevices=async()=>{var e;const a=await this.getIMDevices(),s=await this.getIIDevices(),r=(await(0,z.In)()).wallet===n.TD.II?s.map((e=>({...e,...a.find((a=>a.principal===e.principal))}))):a,t=null===(e=r.filter((e=>!e.isLegacyDevice)))||void 0===e?void 0:e.map((e=>e.credentialId)).filter((e=>null===e||void 0===e?void 0:e.length)),i=t.length?(await(0,n.at)(t)).map((e=>({key:e.key,data:JSON.parse(e.data)}))):[],l=null===r||void 0===r?void 0:r.map((e=>{var a,s;let r=i.find((a=>a.key===(null===e||void 0===e?void 0:e.credentialId)));return{label:e.label,icon:null===e||void 0===e?void 0:e.icon,isLegacyDevice:!r,isMultiDevice:"cross-platform"===(null===r||void 0===r?void 0:r.data.type)||(null===r||void 0===r?void 0:r.data.transports.includes("hybrid")),created_at:null!==r&&void 0!==r&&null!==(a=r.data)&&void 0!==a&&a.created_at?(0,V.Z)(new Date(null===r||void 0===r||null===(s=r.data)||void 0===s?void 0:s.created_at),"MMM dd, yyyy"):"",last_used:null!==e&&void 0!==e&&e.last_used?(0,V.Z)(new Date(Number(BigInt(null===e||void 0===e?void 0:e.last_used)/BigInt(1e6))),"MMM dd, yyyy"):"",type:e.type,principal:e.principal,credentialId:null===r||void 0===r?void 0:r.key,publickey:e.publickey}}));return{recoveryDevice:l.find(I),passkeys:l.filter(Z),emailDevice:l.find((e=>e.type===n.Yi.Email))}}}async getIMDevices(){var e;const{data:a}=await n.im.read_access_points();return(null!==(e=a[0])&&void 0!==e?e:[]).map((e=>{var a;return{type:"Recovery phrase"===e.device?n.Yi.Recovery:Object.keys(e.device_type)[0],label:e.device,icon:e.icon,created_at:"",last_used:String(e.last_used),isMultiDevice:!1,isLegacyDevice:!1,principal:e.principal_id,credentialId:null!==(a=e.credential_id[0])&&void 0!==a?a:""}}))}async getIIDevices(){const e=await(0,z.In)();if(e.wallet!==n.TD.II)return[];return(e=>e.map((e=>({type:"authentication"in e.purpose?n.Yi.Passkey:n.Yi.Recovery,label:e.alias,icon:"recovery"in e.purpose?n.JO.document:n.JO.unknown,created_at:"",last_used:"",isMultiDevice:!1,isLegacyDevice:!0,principal:D.Principal.selfAuthenticating(new Uint8Array(e.pubkey)).toText(),credentialId:e.credential_id[0]?_().encode(H.from(e.credential_id[0])):"",credentialIdBuffer:e.credential_id[0],publickey:e.pubkey}))))(await(0,A.Tl)(BigInt(null===e||void 0===e?void 0:e.anchor)))}async createRecoveryPhrase(e){const a=await(0,z.In)(),s=null===e||void 0===e?void 0:e.split(" ");null===s||void 0===s||s.shift();const r=await(0,M.F)(s.join(" "),A.Bt);return(null===a||void 0===a?void 0:a.wallet)===n.TD.II&&(0,A.S6)(BigInt(null===a||void 0===a?void 0:a.anchor),"Recovery phrase",{seed_phrase:null},{recovery:null},r.getPublicKey().toDer(),void 0,!0),await n.im.create_access_point({icon:n.JO.document,device:"Recovery Phrase",browser:"",pub_key:D.Principal.selfAuthenticating(new Uint8Array(await new Blob([r.getPublicKey().toDer()]).arrayBuffer())).toText(),device_type:{Recovery:null},credential_id:[]}).catch((e=>{throw new Error(`createRecoveryDevice im.create_access_point: ${e.message}`)}))}async deleteRecoveryPhrase(e){const a=await(0,z.In)(),s=null===e||void 0===e?void 0:e.split(" ");null===s||void 0===s||s.shift();const r=n.fD.get().delegationIdentity;if(!r)throw new Error("No delegation identity found");try{const e=await(0,M.F)(s.join(" "),A.Bt);await(0,n.Ru)(n.im,e),await F(BigInt(a.anchor),e.getPrincipal().toText(),Array.from(new Uint8Array(e.getPublicKey().toDer())),a.wallet===n.TD.II)}catch(t){console.log({e:t}),L.Am.error("We could not delete your recovery phrase. Please make sure you have entered the correct phrase.")}finally{(0,n.Ru)(n.im,r)}}async toggle2FA(e){if(e){var a;const e=(await(0,z.In)()).accessPoints.find((e=>e.deviceType===n.Yi.Email));(null===e||void 0===e?void 0:e.principalId)===(null===(a=n.fD.get().delegationIdentity)||void 0===a?void 0:a.getPrincipal().toText())&&await j.f.loginWithAllowedPasskey()}await n.im.update_2fa(e).catch((async a=>{if(!a.message.includes("Unauthorised"))throw L.Am.error(a.message),new Error(`im.update_2fa: ${a.message}`);await j.f.loginWithAllowedPasskey(),await n.im.update_2fa(e)})),e?L.Am.success("2FA enabled"):L.Am.success("2FA disabled"),n.wD.toggle2FA(e)}},R=e=>{let{handleWithLoading:a,device:s,showLastPasskeyWarning:r,children:i}=e;const[c,u]=t.useState(!1),{profile:h}=(0,o.Un)(),p=(0,t.useCallback)((async e=>{if(e.isLegacyDevice)return n.wD.passkeyRemoved({legacy:!0});const a=await j.f.getPasskeyByCredentialID(e.credentialId);n.wD.passkeyRemoved({legacy:!1,authenticatorAttachment:a.type,transports:a.transports,userPresent:a.flags.userPresent,userVerified:a.flags.userVerified,backupEligibility:a.flags.backupEligibility,backupState:a.flags.backupState,name:a.name})}),[]),m=(0,t.useCallback)((async()=>{a((async()=>{r&&await T.toggle2FA(!1);try{await F(BigInt(null===h||void 0===h?void 0:h.anchor),s.principal,s.publickey,(null===h||void 0===h?void 0:h.wallet)===n.TD.II),L.Am.success("Device has been removed")}catch(e){L.Am.error(e.message)}}),(()=>{p(s),u(!1)}))}),[a,r,h,s,p]);return(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{onClick:()=>u(!0),children:i}),(0,d.jsxs)(C.z,{isVisible:c,onClose:()=>u(!1),className:"p-5 w-[95%] md:w-[500px] z-[100] lg:rounded-xl",children:[(0,d.jsx)("p",{className:"text-2xl font-bold",children:"Remove passkey"}),(0,d.jsxs)("div",{className:"p-5 mt-5 text-sm text-orange-900 bg-orange-50 rounded-xl",children:[(0,d.jsx)("p",{className:"font-bold",children:r?"Your two-factor authentication will be disabled":"Caution"}),(0,d.jsx)("p",{className:"mt-3",children:r?"Passkeys are the most secure authentication method available on the internet today. Disabling 2FA means anyone with access to your email address will be able to sign in.":"You will not be able to sign back in with this passkey once removed. Make sure you have other methods of signing in."})]}),(0,d.jsx)("p",{className:"mt-3 text-sm",children:r?(0,d.jsxs)(d.Fragment,{children:["Are you sure you want to disable 2FA and remove"," ",(0,d.jsx)("b",{children:s.label}),"?"," "]}):(0,d.jsxs)(d.Fragment,{children:["Are you sure you want to remove ",(0,d.jsx)("b",{children:s.label})]})}),(0,d.jsxs)("div",{className:"flex items-center justify-end space-x-2.5 mt-5",children:[(0,d.jsx)(l.zx,{type:"stroke",onClick:()=>u(!1),children:"Cancel"}),(0,d.jsx)(l.zx,{type:"red",onClick:m,children:r?"Disable and remove":"Remove"})]})]})]})},W=e=>{let{showLastPasskeyWarning:a,device:s,handleWithLoading:i}=e;const[n,o]=t.useState(!1),c=(0,l.O8)((()=>o(!1)));return(0,d.jsxs)("tr",{className:"items-center text-sm border-b border-gray-200",children:[(0,d.jsxs)("td",{className:"flex h-[61px] items-center",children:[(0,d.jsx)("div",{className:"flex items-center w-10 shrink-0",children:(0,d.jsx)(f,{icon:s.icon})}),s.label.length?(0,d.jsx)("span",{children:s.label}):(0,d.jsx)("span",{className:"text-sm text-gray-400",children:"This is not an NFID device"}),s.isMultiDevice&&(0,d.jsx)("span",{className:"ml-2.5 px-2 py-1 text-gray-600 uppercase bg-gray-50 font-bold tracking-[0.2px] text-[10px]",children:"Multi-device"})]}),(0,d.jsx)("td",{className:"hidden sm:table-cell",children:s.created_at}),(0,d.jsx)("td",{className:"hidden sm:table-cell",children:s.last_used}),(0,d.jsx)("td",{className:"w-11 pr-[14px]",children:s.isLegacyDevice&&(0,d.jsx)(l.u,{className:"w-[262px] !p-2.5",tip:"This is a legacy passkey and should be replaced with an upgraded one.",children:(0,d.jsx)(l.gz,{className:"w-[18px] text-orange"})})}),(0,d.jsx)("td",{className:"w-6",children:(0,d.jsxs)("div",{className:"relative w-6 shrink-0",ref:c,children:[(0,d.jsx)(l.K_,{className:(0,r.Z)("text-secondary cursor-pointer hover:text-black","rotate-90 shrink-0"),onClick:e=>{e.preventDefault(),o(!n)}}),(0,d.jsxs)("div",{className:(0,r.Z)("absolute top-6 right-0 w-[150px]","bg-white rounded-md shadow-md","text-sm z-10",!n&&"hidden"),children:[(0,d.jsx)(N,{device:s,children:(0,d.jsx)("div",{className:(0,r.Z)("pl-[10px] leading-10 hover:bg-gray-100 rounded-md","flex items-center space-x-2 cursor-pointer"),children:(0,d.jsx)("span",{children:"Details"})})}),(0,d.jsx)(R,{handleWithLoading:i,device:s,showLastPasskeyWarning:a,children:(0,d.jsx)("div",{className:(0,r.Z)("pl-[10px] leading-10 hover:bg-gray-100 rounded-md","flex items-center space-x-2 cursor-pointer"),children:(0,d.jsx)("span",{children:"Delete"})})})]})]})})]})},B=s.p+"static/media/multi-passkey.0e24a59e779880a5cead.webp",E=s.p+"static/media/single-passkey.bb222207e40760f8e6f8.webp",S=e=>{let{handleWithLoading:a,isDisabled:s}=e;const[i,o]=t.useState(!1),[c,u]=t.useState(!0),h=t.useCallback((()=>{o(!0),n.wD.addPasskey()}),[]),p=t.useCallback((()=>{n.wD.passkeyCreationInitiated(c),a((()=>j.f.createCredential({isMultiDevice:c})),(()=>o(!1)))}),[a,c]);return(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:(0,r.Z)("flex items-center space-x-2.5 pl-2.5 h-[61px] text-blue","hover:opacity-50 cursor-pointer transition-opacity",s&&"pointer-events-none !text-gray-400 cursor-not-allowed"),onClick:h,children:[(0,d.jsx)(l.Ji,{className:"w-[18px] h-[18px]"}),(0,d.jsx)("span",{className:"text-sm font-bold",children:"Add passkey"})]}),(0,d.jsxs)(C.z,{isVisible:i,onClose:()=>o(!1),className:"p-5 w-[95%] md:w-[450px] z-[100] lg:rounded-xl",children:[(0,d.jsx)(L.Ix,{}),(0,d.jsxs)("div",{className:"space-y-3.5",children:[(0,d.jsx)("p",{className:"text-2xl font-bold",children:"Create a passkey"}),(0,d.jsx)("img",{src:c?B:E,alt:"Passkey",className:"w-full"}),(0,d.jsx)("p",{className:"text-sm leading-5",children:"Passkeys let you securely sign in to your NFID using your fingerprint, face, screen lock, or hardware security key."}),(0,d.jsx)(l.XZ,{id:"isMultiDevice",value:"isMultiDevice",isChecked:c,onChange:()=>u(!c),labelText:"Create a multi-device passkey",labelClassName:"!text-sm"}),(0,d.jsx)("p",{className:"ml-[26px] text-xs text-gray-400",children:"Multi-device passkeys are highly recommended because they\u2019re generally more convenient and easier to secure. Some devices, like newer iPhones, only support multi-device passkeys."}),(0,d.jsx)(l.zx,{type:"primary",block:!0,onClick:p,children:"Continue"})]}),(0,d.jsx)(l.zx,{type:"ghost",block:!0,className:"mt-1",onClick:()=>window.open("https://learn.nfid.one/enable-2fa-for-enterprise-grade-security","_blank"),children:"Learn about passkeys"})]})]})};var q=s(36516),U=s(71520),J=s(34626);const O=["abandon","ability","able","about","above","absent","absorb","abstract","absurd","abuse","access","accident","account","accuse","achieve","acid","acoustic","acquire","across","act","action","actor","actress","actual","adapt","add","addict","address","adjust","admit","adult","advance","advice","aerobic","affair","afford","afraid","again","age","agent","agree","ahead","aim","air","airport","aisle","alarm","album","alcohol","alert","alien","all","alley","allow","almost","alone","alpha","already","also","alter","always","amateur","amazing","among","amount","amused","analyst","anchor","ancient","anger","angle","angry","animal","ankle","announce","annual","another","answer","antenna","antique","anxiety","any","apart","apology","appear","apple","approve","april","arch","arctic","area","arena","argue","arm","armed","armor","army","around","arrange","arrest","arrive","arrow","art","artefact","artist","artwork","ask","aspect","assault","asset","assist","assume","asthma","athlete","atom","attack","attend","attitude","attract","auction","audit","august","aunt","author","auto","autumn","average","avocado","avoid","awake","aware","away","awesome","awful","awkward","axis","baby","bachelor","bacon","badge","bag","balance","balcony","ball","bamboo","banana","banner","bar","barely","bargain","barrel","base","basic","basket","battle","beach","bean","beauty","because","become","beef","before","begin","behave","behind","believe","below","belt","bench","benefit","best","betray","better","between","beyond","bicycle","bid","bike","bind","biology","bird","birth","bitter","black","blade","blame","blanket","blast","bleak","bless","blind","blood","blossom","blouse","blue","blur","blush","board","boat","body","boil","bomb","bone","bonus","book","boost","border","boring","borrow","boss","bottom","bounce","box","boy","bracket","brain","brand","brass","brave","bread","breeze","brick","bridge","brief","bright","bring","brisk","broccoli","broken","bronze","broom","brother","brown","brush","bubble","buddy","budget","buffalo","build","bulb","bulk","bullet","bundle","bunker","burden","burger","burst","bus","business","busy","butter","buyer","buzz","cabbage","cabin","cable","cactus","cage","cake","call","calm","camera","camp","can","canal","cancel","candy","cannon","canoe","canvas","canyon","capable","capital","captain","car","carbon","card","cargo","carpet","carry","cart","case","cash","casino","castle","casual","cat","catalog","catch","category","cattle","caught","cause","caution","cave","ceiling","celery","cement","census","century","cereal","certain","chair","chalk","champion","change","chaos","chapter","charge","chase","chat","cheap","check","cheese","chef","cherry","chest","chicken","chief","child","chimney","choice","choose","chronic","chuckle","chunk","churn","cigar","cinnamon","circle","citizen","city","civil","claim","clap","clarify","claw","clay","clean","clerk","clever","click","client","cliff","climb","clinic","clip","clock","clog","close","cloth","cloud","clown","club","clump","cluster","clutch","coach","coast","coconut","code","coffee","coil","coin","collect","color","column","combine","come","comfort","comic","common","company","concert","conduct","confirm","congress","connect","consider","control","convince","cook","cool","copper","copy","coral","core","corn","correct","cost","cotton","couch","country","couple","course","cousin","cover","coyote","crack","cradle","craft","cram","crane","crash","crater","crawl","crazy","cream","credit","creek","crew","cricket","crime","crisp","critic","crop","cross","crouch","crowd","crucial","cruel","cruise","crumble","crunch","crush","cry","crystal","cube","culture","cup","cupboard","curious","current","curtain","curve","cushion","custom","cute","cycle","dad","damage","damp","dance","danger","daring","dash","daughter","dawn","day","deal","debate","debris","decade","december","decide","decline","decorate","decrease","deer","defense","define","defy","degree","delay","deliver","demand","demise","denial","dentist","deny","depart","depend","deposit","depth","deputy","derive","describe","desert","design","desk","despair","destroy","detail","detect","develop","device","devote","diagram","dial","diamond","diary","dice","diesel","diet","differ","digital","dignity","dilemma","dinner","dinosaur","direct","dirt","disagree","discover","disease","dish","dismiss","disorder","display","distance","divert","divide","divorce","dizzy","doctor","document","dog","doll","dolphin","domain","donate","donkey","donor","door","dose","double","dove","draft","dragon","drama","drastic","draw","dream","dress","drift","drill","drink","drip","drive","drop","drum","dry","duck","dumb","dune","during","dust","dutch","duty","dwarf","dynamic","eager","eagle","early","earn","earth","easily","east","easy","echo","ecology","economy","edge","edit","educate","effort","egg","eight","either","elbow","elder","electric","elegant","element","elephant","elevator","elite","else","embark","embody","embrace","emerge","emotion","employ","empower","empty","enable","enact","end","endless","endorse","enemy","energy","enforce","engage","engine","enhance","enjoy","enlist","enough","enrich","enroll","ensure","enter","entire","entry","envelope","episode","equal","equip","era","erase","erode","erosion","error","erupt","escape","essay","essence","estate","eternal","ethics","evidence","evil","evoke","evolve","exact","example","excess","exchange","excite","exclude","excuse","execute","exercise","exhaust","exhibit","exile","exist","exit","exotic","expand","expect","expire","explain","expose","express","extend","extra","eye","eyebrow","fabric","face","faculty","fade","faint","faith","fall","false","fame","family","famous","fan","fancy","fantasy","farm","fashion","fat","fatal","father","fatigue","fault","favorite","feature","february","federal","fee","feed","feel","female","fence","festival","fetch","fever","few","fiber","fiction","field","figure","file","film","filter","final","find","fine","finger","finish","fire","firm","first","fiscal","fish","fit","fitness","fix","flag","flame","flash","flat","flavor","flee","flight","flip","float","flock","floor","flower","fluid","flush","fly","foam","focus","fog","foil","fold","follow","food","foot","force","forest","forget","fork","fortune","forum","forward","fossil","foster","found","fox","fragile","frame","frequent","fresh","friend","fringe","frog","front","frost","frown","frozen","fruit","fuel","fun","funny","furnace","fury","future","gadget","gain","galaxy","gallery","game","gap","garage","garbage","garden","garlic","garment","gas","gasp","gate","gather","gauge","gaze","general","genius","genre","gentle","genuine","gesture","ghost","giant","gift","giggle","ginger","giraffe","girl","give","glad","glance","glare","glass","glide","glimpse","globe","gloom","glory","glove","glow","glue","goat","goddess","gold","good","goose","gorilla","gospel","gossip","govern","gown","grab","grace","grain","grant","grape","grass","gravity","great","green","grid","grief","grit","grocery","group","grow","grunt","guard","guess","guide","guilt","guitar","gun","gym","habit","hair","half","hammer","hamster","hand","happy","harbor","hard","harsh","harvest","hat","have","hawk","hazard","head","health","heart","heavy","hedgehog","height","hello","helmet","help","hen","hero","hidden","high","hill","hint","hip","hire","history","hobby","hockey","hold","hole","holiday","hollow","home","honey","hood","hope","horn","horror","horse","hospital","host","hotel","hour","hover","hub","huge","human","humble","humor","hundred","hungry","hunt","hurdle","hurry","hurt","husband","hybrid","ice","icon","idea","identify","idle","ignore","ill","illegal","illness","image","imitate","immense","immune","impact","impose","improve","impulse","inch","include","income","increase","index","indicate","indoor","industry","infant","inflict","inform","inhale","inherit","initial","inject","injury","inmate","inner","innocent","input","inquiry","insane","insect","inside","inspire","install","intact","interest","into","invest","invite","involve","iron","island","isolate","issue","item","ivory","jacket","jaguar","jar","jazz","jealous","jeans","jelly","jewel","job","join","joke","journey","joy","judge","juice","jump","jungle","junior","junk","just","kangaroo","keen","keep","ketchup","key","kick","kid","kidney","kind","kingdom","kiss","kit","kitchen","kite","kitten","kiwi","knee","knife","knock","know","lab","label","labor","ladder","lady","lake","lamp","language","laptop","large","later","latin","laugh","laundry","lava","law","lawn","lawsuit","layer","lazy","leader","leaf","learn","leave","lecture","left","leg","legal","legend","leisure","lemon","lend","length","lens","leopard","lesson","letter","level","liar","liberty","library","license","life","lift","light","like","limb","limit","link","lion","liquid","list","little","live","lizard","load","loan","lobster","local","lock","logic","lonely","long","loop","lottery","loud","lounge","love","loyal","lucky","luggage","lumber","lunar","lunch","luxury","lyrics","machine","mad","magic","magnet","maid","mail","main","major","make","mammal","man","manage","mandate","mango","mansion","manual","maple","marble","march","margin","marine","market","marriage","mask","mass","master","match","material","math","matrix","matter","maximum","maze","meadow","mean","measure","meat","mechanic","medal","media","melody","melt","member","memory","mention","menu","mercy","merge","merit","merry","mesh","message","metal","method","middle","midnight","milk","million","mimic","mind","minimum","minor","minute","miracle","mirror","misery","miss","mistake","mix","mixed","mixture","mobile","model","modify","mom","moment","monitor","monkey","monster","month","moon","moral","more","morning","mosquito","mother","motion","motor","mountain","mouse","move","movie","much","muffin","mule","multiply","muscle","museum","mushroom","music","must","mutual","myself","mystery","myth","naive","name","napkin","narrow","nasty","nation","nature","near","neck","need","negative","neglect","neither","nephew","nerve","nest","net","network","neutral","never","news","next","nice","night","noble","noise","nominee","noodle","normal","north","nose","notable","note","nothing","notice","novel","now","nuclear","number","nurse","nut","oak","obey","object","oblige","obscure","observe","obtain","obvious","occur","ocean","october","odor","off","offer","office","often","oil","okay","old","olive","olympic","omit","once","one","onion","online","only","open","opera","opinion","oppose","option","orange","orbit","orchard","order","ordinary","organ","orient","original","orphan","ostrich","other","outdoor","outer","output","outside","oval","oven","over","own","owner","oxygen","oyster","ozone","pact","paddle","page","pair","palace","palm","panda","panel","panic","panther","paper","parade","parent","park","parrot","party","pass","patch","path","patient","patrol","pattern","pause","pave","payment","peace","peanut","pear","peasant","pelican","pen","penalty","pencil","people","pepper","perfect","permit","person","pet","phone","photo","phrase","physical","piano","picnic","picture","piece","pig","pigeon","pill","pilot","pink","pioneer","pipe","pistol","pitch","pizza","place","planet","plastic","plate","play","please","pledge","pluck","plug","plunge","poem","poet","point","polar","pole","police","pond","pony","pool","popular","portion","position","possible","post","potato","pottery","poverty","powder","power","practice","praise","predict","prefer","prepare","present","pretty","prevent","price","pride","primary","print","priority","prison","private","prize","problem","process","produce","profit","program","project","promote","proof","property","prosper","protect","proud","provide","public","pudding","pull","pulp","pulse","pumpkin","punch","pupil","puppy","purchase","purity","purpose","purse","push","put","puzzle","pyramid","quality","quantum","quarter","question","quick","quit","quiz","quote","rabbit","raccoon","race","rack","radar","radio","rail","rain","raise","rally","ramp","ranch","random","range","rapid","rare","rate","rather","raven","raw","razor","ready","real","reason","rebel","rebuild","recall","receive","recipe","record","recycle","reduce","reflect","reform","refuse","region","regret","regular","reject","relax","release","relief","rely","remain","remember","remind","remove","render","renew","rent","reopen","repair","repeat","replace","report","require","rescue","resemble","resist","resource","response","result","retire","retreat","return","reunion","reveal","review","reward","rhythm","rib","ribbon","rice","rich","ride","ridge","rifle","right","rigid","ring","riot","ripple","risk","ritual","rival","river","road","roast","robot","robust","rocket","romance","roof","rookie","room","rose","rotate","rough","round","route","royal","rubber","rude","rug","rule","run","runway","rural","sad","saddle","sadness","safe","sail","salad","salmon","salon","salt","salute","same","sample","sand","satisfy","satoshi","sauce","sausage","save","say","scale","scan","scare","scatter","scene","scheme","school","science","scissors","scorpion","scout","scrap","screen","script","scrub","sea","search","season","seat","second","secret","section","security","seed","seek","segment","select","sell","seminar","senior","sense","sentence","series","service","session","settle","setup","seven","shadow","shaft","shallow","share","shed","shell","sheriff","shield","shift","shine","ship","shiver","shock","shoe","shoot","shop","short","shoulder","shove","shrimp","shrug","shuffle","shy","sibling","sick","side","siege","sight","sign","silent","silk","silly","silver","similar","simple","since","sing","siren","sister","situate","six","size","skate","sketch","ski","skill","skin","skirt","skull","slab","slam","sleep","slender","slice","slide","slight","slim","slogan","slot","slow","slush","small","smart","smile","smoke","smooth","snack","snake","snap","sniff","snow","soap","soccer","social","sock","soda","soft","solar","soldier","solid","solution","solve","someone","song","soon","sorry","sort","soul","sound","soup","source","south","space","spare","spatial","spawn","speak","special","speed","spell","spend","sphere","spice","spider","spike","spin","spirit","split","spoil","sponsor","spoon","sport","spot","spray","spread","spring","spy","square","squeeze","squirrel","stable","stadium","staff","stage","stairs","stamp","stand","start","state","stay","steak","steel","stem","step","stereo","stick","still","sting","stock","stomach","stone","stool","story","stove","strategy","street","strike","strong","struggle","student","stuff","stumble","style","subject","submit","subway","success","such","sudden","suffer","sugar","suggest","suit","summer","sun","sunny","sunset","super","supply","supreme","sure","surface","surge","surprise","surround","survey","suspect","sustain","swallow","swamp","swap","swarm","swear","sweet","swift","swim","swing","switch","sword","symbol","symptom","syrup","system","table","tackle","tag","tail","talent","talk","tank","tape","target","task","taste","tattoo","taxi","teach","team","tell","ten","tenant","tennis","tent","term","test","text","thank","that","theme","then","theory","there","they","thing","this","thought","three","thrive","throw","thumb","thunder","ticket","tide","tiger","tilt","timber","time","tiny","tip","tired","tissue","title","toast","tobacco","today","toddler","toe","together","toilet","token","tomato","tomorrow","tone","tongue","tonight","tool","tooth","top","topic","topple","torch","tornado","tortoise","toss","total","tourist","toward","tower","town","toy","track","trade","traffic","tragic","train","transfer","trap","trash","travel","tray","treat","tree","trend","trial","tribe","trick","trigger","trim","trip","trophy","trouble","truck","true","truly","trumpet","trust","truth","try","tube","tuition","tumble","tuna","tunnel","turkey","turn","turtle","twelve","twenty","twice","twin","twist","two","type","typical","ugly","umbrella","unable","unaware","uncle","uncover","under","undo","unfair","unfold","unhappy","uniform","unique","unit","universe","unknown","unlock","until","unusual","unveil","update","upgrade","uphold","upon","upper","upset","urban","urge","usage","use","used","useful","useless","usual","utility","vacant","vacuum","vague","valid","valley","valve","van","vanish","vapor","various","vast","vault","vehicle","velvet","vendor","venture","venue","verb","verify","version","very","vessel","veteran","viable","vibrant","vicious","victory","video","view","village","vintage","violin","virtual","virus","visa","visit","visual","vital","vivid","vocal","voice","void","volcano","volume","vote","voyage","wage","wagon","wait","walk","wall","walnut","want","warfare","warm","warrior","wash","wasp","waste","water","wave","way","wealth","weapon","wear","weasel","weather","web","wedding","weekend","weird","welcome","west","wet","whale","what","wheat","wheel","when","where","whip","whisper","wide","width","wife","wild","will","win","window","wine","wing","wink","winner","winter","wire","wisdom","wise","wish","witness","wolf","woman","wonder","wood","wool","word","work","world","worry","worth","wrap","wreck","wrestle","wrist","write","wrong","yard","year","yellow","you","young","youth","zebra","zero","zone","zoo"];var Y=s(74912),K=s(82856);const $=e=>{let{handleWithLoading:a}=e;const[s,i]=t.useState(!1),[c,u]=(0,t.useState)(!1),[h,p]=(0,t.useState)(!1),{profile:m}=(0,o.Un)(),g=(0,t.useMemo)((()=>`${null===m||void 0===m?void 0:m.anchor} ${function(){const e=new Uint32Array(32);return crypto.getRandomValues(e),(0,J.JJ)((0,U.zv)(e),O)}().trim()}`),[null===m||void 0===m?void 0:m.anchor]);return(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:(0,r.Z)("flex items-center space-x-2.5 pl-2.5 h-[61px] text-blue","hover:opacity-50 cursor-pointer transition-opacity"),onClick:()=>i(!0),children:[(0,d.jsx)(l.Ji,{className:"w-[18px] h-[18px]"}),(0,d.jsx)("span",{className:"text-sm font-bold",children:"Add recovery phrase"})]}),(0,d.jsxs)(C.z,{isVisible:s,onClose:()=>i(!1),className:"p-5 w-[95%] md:w-[450px] z-[100] lg:rounded-xl",children:[(0,d.jsx)("p",{className:"text-2xl font-bold",children:"Add recovery phrase"}),(0,d.jsxs)("p",{className:"mt-5 text-sm",children:["This recovery phrase restores your NFID in case the devices you registered are lost. Keep this phrase secret, safe, offline, and only use it on ",(0,d.jsx)("b",{children:"https://nfid.one"}),"."]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:(0,r.Z)(q.$b,"border-2 border-black rounded-t-md mt-4","focus:outline-none resize-none focus:ring-0","w-full font-mono leading-[26px] p-2"),children:g}),(0,d.jsxs)(Y.z,{block:!0,className:"flex justify-center space-x-2 border-2 border-t-0 border-black rounded-t-none",onClick:()=>{navigator.clipboard.writeText(g),L.Am.success("Copied to clipboard"),u(!0)},id:"copy-button",children:[(0,d.jsx)(K.T,{className:"text-black stroke-black"}),(0,d.jsx)("span",{children:c?"Copied":"Copy"})]}),(0,d.jsxs)("div",{className:"mt-5",children:[(0,d.jsx)("input",{type:"checkbox",id:"saved-checkbox",className:"w-5 h-5 border-2 border-black rounded cursor-pointer",onChange:()=>p(!h),checked:h}),(0,d.jsx)("label",{htmlFor:"saved-checkbox",className:"ml-2 text-sm cursor-pointer",children:"I\u2019ve saved this phrase in a safe place"})]}),(0,d.jsx)(Y.z,{id:"recovery-save-button",block:!0,primary:!0,disabled:!c||!h,className:"mt-5",onClick:()=>a((async()=>{const e=await T.createRecoveryPhrase(g);return n.wD.recoveryPhraseAdded(),e}),(()=>i(!1))),children:"Done"})]})]})]})},G=e=>{let{handleWithLoading:a}=e;const[s,i]=(0,t.useState)(""),[o,c]=t.useState(!1);return(0,d.jsxs)("div",{children:[(0,d.jsx)(l.Rb,{onClick:()=>c(!0),className:"w-6 text-gray-400 cursor-pointer hover:opacity-50"}),(0,d.jsxs)(C.z,{isVisible:o,onClose:()=>c(!1),className:"p-5 w-[95%] md:w-[450px] z-[100] lg:rounded-xl",children:[(0,d.jsx)("p",{className:"text-2xl font-bold",children:"Remove recovery phrase"}),(0,d.jsx)("p",{className:"mt-5 text-sm",children:"Enter your recovery phrase to confirm removal."}),(0,d.jsx)("textarea",{name:"recoveryPhrase",className:(0,r.Z)(q.$b,"border border-black rounded-t-md border-b-0","focus:outline-none resize-none focus:ring-0","w-full -mb-2 font-mono leading-[26px] mt-4"),rows:6,placeholder:"10000 cute good fence purity play despair worth year layer install drastic vote skirt noble sadness miss gadget kitten ladder traffic risk phone bamboo ",onChange:e=>i(e.target.value)}),(0,d.jsx)(Y.z,{id:"delete-recovery-button",error:!0,block:!0,className:"rounded-t-none",onClick:()=>a((async()=>{const e=await T.deleteRecoveryPhrase(s);return n.wD.recoveryPhraseRemoved(),e}),(()=>c(!1))),disabled:s.split(" ").length<11,children:"Remove recovery phrase"})]})]})},X=()=>{var e,a;const[s,u]=t.useState(!1),{profile:h,refreshProfile:p}=(0,o.Un)(),{data:m,mutate:g,isValidating:y}=(0,i.ZP)(null!==h&&void 0!==h&&h.anchor?[h.anchor.toString(),"devices"]:null,T.getDevices,{revalidateOnFocus:!1}),b=(0,t.useMemo)((()=>!(null===h||void 0===h||!h.is2fa)&&1===(null===m||void 0===m?void 0:m.passkeys.filter((e=>!e.isLegacyDevice)).length)),[null===m||void 0===m?void 0:m.passkeys,null===h||void 0===h?void 0:h.is2fa]),v=async(e,a)=>{try{u(!0),await e(),null===a||void 0===a||a()}catch(s){console.error(s)}finally{u(!1),g()}};return h?(0,d.jsxs)(k.Z,{pageTitle:"Security",children:[(0,d.jsx)(w.Z,{title:"Login info",subTitle:"Primary method of signing in",children:null!==h&&void 0!==h&&h.email?(0,d.jsxs)("div",{className:"flex space-x-2.5 items-center",children:[(0,d.jsx)("div",{className:"w-10 h-10 p-2 rounded-full",children:(0,d.jsx)(f,{icon:h.email.includes("gmail")?n.JO.google:n.JO.email})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm leading-5",children:h.email}),(0,d.jsxs)("p",{className:"text-xs leading-4 text-gray-400",children:[h.email.includes("gmail")?"Google":"Email"," sign in"]})]})]}):(0,d.jsxs)("div",{className:(0,r.Z)("flex items-center space-x-2.5 pl-2.5 h-[61px] text-blue","hover:opacity-50 cursor-pointer transition-opacity","pointer-events-none !text-gray-400 cursor-not-allowed"),children:[(0,d.jsx)(l.Ji,{className:"w-[18px] h-[18px]"}),(0,d.jsx)("span",{className:"text-sm font-bold",children:"Add an email"})]})}),(0,d.jsxs)(w.Z,{className:"mt-[30px]",title:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("span",{children:"Two-factor authentication"}),(0,d.jsx)(l.ZD,{isDisabled:!(null!==m&&void 0!==m&&null!==(e=m.passkeys)&&void 0!==e&&e.length),isChecked:!(null===h||void 0===h||!h.is2fa),onToggle:async e=>{v((async()=>await T.toggle2FA(e)),(()=>p()))}})]}),subTitle:(0,d.jsxs)("span",{children:["Use biometric authentication or external USB keys for very strong two-factor authentication to your account. ",(0,d.jsx)("br",{}),(0,d.jsx)("br",{}),"At least one passkey and an email login are required to enable 2FA. Passkeys can be used for authentication even when 2FA is disabled."]}),children:[(0,d.jsx)(l.iA,{className:"w-full !min-w-full",tableHeader:(0,d.jsxs)("tr",{className:"border-b border-black",children:[(0,d.jsx)("th",{children:"Passkeys"}),(0,d.jsx)("th",{className:"hidden sm:table-cell",children:"Created"}),(0,d.jsx)("th",{className:"hidden sm:table-cell",children:"Last activity"}),(0,d.jsx)("th",{className:"w-[18px]"}),(0,d.jsx)("th",{className:"w-6"})]}),children:null===m||void 0===m?void 0:m.passkeys.map(((e,a)=>(0,d.jsx)(W,{showLastPasskeyWarning:!e.isLegacyDevice&&b,device:e,handleWithLoading:v},`passkey_device_${a}`)))}),(0,d.jsx)(S,{isDisabled:!(null!==(a=h.email)&&void 0!==a&&a.length),handleWithLoading:v})]}),(0,d.jsx)(w.Z,{className:"my-[30px]",title:"Recovery options",subTitle:"Access your account even if you lose access to all other authentication factors.",children:null!==m&&void 0!==m&&m.recoveryDevice?(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex space-x-2.5 items-center",children:[(0,d.jsx)("div",{className:"w-10 h-10 p-2 rounded-full",children:(0,d.jsx)(f,{icon:n.JO.document})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm leading-5",children:m.recoveryDevice.label}),(0,d.jsxs)("p",{className:"text-xs leading-4 text-gray-400",children:["Last activity: ",m.recoveryDevice.last_used]})]})]}),(0,d.jsx)(G,{handleWithLoading:v})]}):(0,d.jsx)($,{handleWithLoading:v})}),(0,d.jsx)(c.a,{isLoading:s||y})]}):(0,d.jsx)(c.a,{isLoading:!0})}},82856:(e,a,s)=>{s.d(a,{T:()=>i});var r=s(18414),t=(s(87273),s(33693));const i=e=>{let{className:a}=e;return(0,t.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:(0,r.Z)(a),children:[(0,t.jsx)("path",{d:"M15 6.75H8.25C7.42157 6.75 6.75 7.42157 6.75 8.25V15C6.75 15.8284 7.42157 16.5 8.25 16.5H15C15.8284 16.5 16.5 15.8284 16.5 15V8.25C16.5 7.42157 15.8284 6.75 15 6.75Z",stroke:"inherit",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,t.jsx)("path",{d:"M3.75 11.25H3C2.60218 11.25 2.22064 11.092 1.93934 10.8107C1.65804 10.5294 1.5 10.1478 1.5 9.75V3C1.5 2.60218 1.65804 2.22064 1.93934 1.93934C2.22064 1.65804 2.60218 1.5 3 1.5H9.75C10.1478 1.5 10.5294 1.65804 10.8107 1.93934C11.092 2.22064 11.25 2.60218 11.25 3V3.75",stroke:"inherit",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}},62467:(e,a,s)=>{s.d(a,{z:()=>i});var r=s(18414),t=(s(87273),s(33693));const i=e=>{let{children:a,className:s,isVisible:i,onClose:l}=e;return(0,t.jsx)("div",{onClick:l,className:(0,r.Z)(["transition ease-in-out delay-150 duration-500","z-50 top-0 right-0 bottom-0 left-0 ",i?"fixed bg-opacity-50 bg-[#090A13]":"bg-transparent"]),children:(0,t.jsx)("div",{className:(0,r.Z)(["transition ease-in-out duration-300","fixed top-[50%] right-[50%] bottom-[50%] left-[50%]","transform -translate-x-2/4 -translate-y-2/4","md:rounded-md drop-shadow-lg","min-w-min min-h-min bg-white",i?"scale-100":"scale-0",s]),onClick:e=>e.stopPropagation(),children:a})})}},47200:(e,a,s)=>{s.d(a,{Z:()=>i});var r=s(18414),t=(s(87273),s(33693));const i=e=>{let{title:a,subTitle:s,children:i,className:l,showChildrenPadding:n=!0,id:o}=e;return(0,t.jsxs)("div",{id:o,className:(0,r.Z)("block border border-gray-200 rounded-xl","py-4 sm:py-[26px]",l),children:[(0,t.jsxs)("div",{className:"px-5",children:[a&&(0,t.jsx)("div",{className:"flex items-center justify-between mb-3 text-xl",children:a}),s&&(0,t.jsx)("div",{className:"flex items-center justify-between mb-4 text-sm leading-5 text-secondary",children:s})]}),(0,t.jsx)("div",{className:(0,r.Z)(n&&"px-5 sm:px-[30px]"),children:i})]})}}}]);
//# sourceMappingURL=910.196d1650.chunk.js.map