"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[54],{24936:(e,t,a)=>{a.d(t,{z:()=>i});var s=a(18414),n=(a(87273),a(21882)),r=a(33693);const i=e=>{let{actionButtons:t,onInputChange:a,onInputType:i}=e;return(0,r.jsxs)("div",{className:(0,s.Z)("flex items-center justify-between","bg-gray-50 p-5 rounded-t-xl sm:rounded-b-md"),children:[(0,r.jsx)(n.II,{placeholder:"Search",icon:(0,r.jsx)(n.MN,{className:"w-4"}),onChange:a,onKeyDown:i,className:"sm:w-[350px]"}),t]})}},33492:(e,t,a)=>{a.d(t,{I:()=>l});var s=a(94244),n=a(36516),r=a(21325),i=a(67959);const l=()=>(0,s.ZP)("vaultDelegation",(()=>(0,i.a)()),{refreshInterval:n.EW,onSuccess:async e=>(e&&await(0,r.Ru)(r.UT,e),e)})},23370:(e,t,a)=>{a.d(t,{f:()=>i});var s=a(54915),n=a(87273),r=a(33492);const i=()=>{const{data:e,isLoading:t,isValidating:a}=(0,r.I)();return{address:(0,n.useMemo)((()=>e?(0,s.PZ)(e.getPrincipal(),Array(32).fill(1)):""),[e]),identity:e,isLoading:a,isReady:!t}}},810:(e,t,a)=>{a.d(t,{A:()=>r,D:()=>i});var s=a(21325),n=a(67959);const r=async e=>(await(0,s._w)()).find((t=>t.id===BigInt(e))),i=async()=>{const e=await(0,n.a)();return await(0,s.Ru)(s.UT,e),await(0,s._w)()}},32054:(e,t,a)=>{a.r(t),a.d(t,{VaultsListPage:()=>N,default:()=>C});var s=a(87273),n=a(94244),r=a(21882),i=a(21325),l=a(17974),d=a(24936),o=a(23370),c=a(810),u=a(18414),m=a(76058),x=a(33693);const p=()=>{const{address:e}=(0,o.f)();return(0,x.jsx)("div",{className:(0,u.Z)("p-[1.5px] bg-red-100 rounded-[13px] bg-gradient-to-r","from-teal-300 via-blue to-purple"),children:(0,x.jsxs)("div",{className:(0,u.Z)("p-5 flex items-center justify-between","bg-white rounded-xl flex-wrap","sm:space-x-16 sm:px-[30px] sm:flex-nowrap"),children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("p",{className:"font-semibold",children:"NFID vault address"}),(0,x.jsx)("p",{className:"mt-1 text-sm",children:"Share this identifier with vault administrators to add you as an approver for vault transactions."})]}),(0,x.jsx)("div",{className:(0,u.Z)("flex items-center justify-center bg-gray-100","space-x-6 py-3 px-4 rounded-md font-bold text-sm","mt-3 sm:mt-0"),children:e?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(m.M,{value:null!==e&&void 0!==e?e:"",leadingChars:20,trailingChars:3}),(0,x.jsx)(r.CK,{className:"text-secondary",value:null!==e&&void 0!==e?e:""})]}):(0,x.jsx)(r.aN,{imageClasses:"h-5 w-5",fullscreen:!1,isLoading:!0})})]})})};var h=a(84463);const v=e=>{var t;let{refetchVaults:a}=e;const[n,l]=(0,s.useState)(!1),[d,o]=(0,s.useState)(!1),{register:c,handleSubmit:m,formState:p}=(0,h.cI)({defaultValues:{vaultName:"",description:""}});s.useEffect((()=>{d&&i.vF.vaultsModalOpened()}),[d]);return(0,x.jsxs)(r.TK,{large:!0,title:"Add vault",isLoading:n,isModalOpen:d,isModalOpenChange:o,secondaryButton:{type:"stroke",text:"Cancel"},primaryButton:{type:"primary",onClick:m((async e=>{let{description:t,vaultName:s}=e;l(!0),await(0,i.wY)(s,t),l(!1),a(),o(!1),i.vF.vaultCreaded()})),text:"Create",id:"create-vault-button"},trigger:(0,x.jsxs)("div",{className:(0,u.Z)("flex items-center space-x-2 font-bold text-blue-600 cursor-pointer","hover:opacity-50 transition-opacity"),id:"create-vault-trigger",children:[(0,x.jsx)(r.Ji,{className:"w-4"}),(0,x.jsx)("span",{className:"hidden text-sm sm:block",children:"Add vault"})]}),children:[(0,x.jsx)(r.II,{placeholder:"Vault name",labelText:"Enter vault name",errorText:null===(t=p.errors.vaultName)||void 0===t?void 0:t.message,...c("vaultName",{required:r.dw.errorMessages.required,minLength:{value:r.dw.minLength,message:r.dw.errorMessages.length}})}),(0,x.jsx)(r.Kx,{className:"mt-3",labelText:"Description (optional)",placeholder:"Differentiate the purpose of this vault from your others with an optional description about its function.",rows:4,...c("description")})]})};var g=a(3209),j=a(86672);const f=()=>(0,x.jsxs)(r.SC,{header:!0,children:[(0,x.jsx)(r.pj,{isLeft:!0,className:"w-auto",children:"Name"}),(0,x.jsx)(r.pj,{centered:!0,className:"w-32",children:"Wallets"}),(0,x.jsx)(r.pj,{centered:!0,className:"w-32",children:"Members"}),(0,x.jsx)(r.pj,{className:"w-56",children:"Last activity"}),(0,x.jsx)(r.pj,{isRight:!0,className:"w-10"})]});var w=a(95163);const y=e=>{let{name:t,walletsQuantity:a,membersQuantity:s,lastActivity:n,id:i}=e;const l=(0,w.s0)();return(0,x.jsxs)(r.SC,{onClick:()=>l(`${i}`),id:`vault_${t}`,children:[(0,x.jsx)(r.pj,{isLeft:!0,children:t}),(0,x.jsx)(r.pj,{centered:!0,children:a}),(0,x.jsx)(r.pj,{centered:!0,children:s}),(0,x.jsx)(r.pj,{children:n}),(0,x.jsx)(r.pj,{isRight:!0,children:(0,x.jsx)(r.xz,{className:"ml-auto text-secondary"})})]})},b=e=>{let{vaults:t}=e;const a=(0,s.useMemo)((()=>t.map((e=>({id:String(e.id),name:e.name,walletsQuantity:e.wallets.length,membersQuantity:e.members.length,lastActivity:(0,g.Z)(new Date((0,j.Jv)(e.modifiedDate)),"MMM dd, yyyy - hh:mm:ss aaa")})))),[t]);return(0,x.jsx)(r.iA,{tableHeader:(0,x.jsx)(f,{}),children:a.map((e=>(0,s.createElement)(y,{...e,key:`vault_${e.id}`})))})},N=()=>{const[e,t]=(0,s.useState)(""),{isReady:a}=(0,o.f)(),{data:u,mutate:m,isLoading:h,isValidating:g}=(0,n.ZP)([a?"vaults":null],c.D),j=(0,s.useMemo)((()=>u?u.filter((t=>t.name.includes(e))):[]),[e,u]);s.useEffect((()=>{h||(console.debug("VaultsListPage",{vaults:u,isLoading:h}),i.vF.vaultsLoaded((null===u||void 0===u?void 0:u.length)||0))}),[u,h]);const f=(0,s.useCallback)((e=>{t(e.target.value)}),[]);return(0,x.jsxs)(l.Z,{pageTitle:"Vaults",children:[(0,x.jsx)(p,{}),(0,x.jsxs)("div",{className:"border border-gray-200 rounded-xl mt-[30px]",children:[(0,x.jsx)(d.z,{onInputChange:f,actionButtons:(0,x.jsx)(v,{refetchVaults:()=>m()})}),(0,x.jsxs)("div",{className:"w-full px-5 overflow-x-auto",children:[(0,x.jsx)(b,{vaults:j}),!j.length&&!h&&!g&&(0,x.jsx)(r.Sn,{className:"h-64",icon:(0,x.jsx)(r.$A,{}),description:"Create flexible policies and multi-approver workflows to ensure control over transactions and transfers."}),(0,x.jsx)(r.aN,{isLoading:h||g,fullscreen:!1,imageClasses:"w-16 mx-auto my-4"})]})]})]})},C=N},86672:(e,t,a)=>{a.d(t,{Jv:()=>l,zx:()=>d});var s=a(24832),n=a(83804);function r(e,t){(0,n.Z)(2,arguments);var a=(0,s.Z)(e),r=(0,s.Z)(t);return a.getTime()>r.getTime()}function i(e,t){(0,n.Z)(2,arguments);var a=(0,s.Z)(e),r=(0,s.Z)(t);return a.getTime()<r.getTime()}const l=e=>Math.floor(Number(e/BigInt(10**6))),d=(e,t,a)=>t&&!a?r(e,t):!t&&a?i(e,a):!t||!a||r(e,t)&&i(e,a)}}]);
//# sourceMappingURL=54.557734f5.chunk.js.map