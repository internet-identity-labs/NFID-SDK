"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[565],{31577:(e,t,a)=>{a.d(t,{l:()=>b});a(54915);var n=a(87273),i=a(13485),o=a(94379),l=a(25390),s=a(23439),c=a(82898);var r=a(78765);class d{constructor(e){this.config=void 0,this.getIdentity=async e=>{var t;const a=null!==(t=(0,r.SC)())&&void 0!==t?t:await(0,s.In)(),n=await(0,l.p)(a.anchor,"nfid.one","0");return!e.length||e.includes(n.getPrincipal().toString())?[n]:[]},this.config=e}async getNonFungibleItems(e){const t=await this.getIdentity(e.map((e=>e.principal)));let a=[];return await Promise.all(t.map((async e=>{const t=(await this.config.assetService.getItemsByUser({identity:e})).items.map((t=>function(e,t,a){return{account:{domain:"nfid.one",label:"account 1",accountId:"0"},assetFullsize:{url:0===e.image.length?a.defaultLogo:e.image,format:"img"},assetPreview:(null===e||void 0===e?void 0:e.thumbnail)||c.u3,blockchainLogo:a.defaultLogo,blockchain:a.blockchain,collection:{description:e.description,id:e.collection||"N/A",name:e.contractName||"N/A",standard:e.tokenType},clipboardText:e.image,contractId:e.contract||"N/A",index:e.id,name:e.title,principal:t,tokenId:e.tokenId||"N/A"}}(t,e.getPrincipal(),this.config)));a=[...a,...t]}))),a}getTokenStandard(){return this.config.blockchain}getCacheTtl(){return 30}}var u=a(96215);const p=new class extends d{}({blockchain:u.$.ETHEREUM,defaultLogo:c.kD,assetService:r.q_});const v=new class extends d{}({blockchain:u.$.POLYGON,defaultLogo:c.u3,assetService:r.It});class h extends o.m{constructor(){super(...arguments),this.getNFToken=async(e,t)=>this.process(e,[t])}getCacheKey(e,t,a){return t.name+e+a[0].reduce(((e,t)=>{let{principal:a}=t;return`${e}${a}`}),"")}getFunctionToCall(e){return e.getNonFungibleItems}}const m=new h([v,p]);var x=a(94244);var f=a(6028),C=a(69491),g=a(65794);const b=e=>{const t=m.getKeys(),{configs:a}=(e=>{let{assetFilters:t,blockchains:a}=e;const{data:n,...i}=(0,x.ZP)([a,t,"useNftConfig"],(e=>{let[t,a]=e;return Promise.all(t.map((async e=>{try{return await m.getNFToken(e,a)}catch(t){return console.error("useNftConfig",t),[]}})))}));return{configs:(null===n||void 0===n?void 0:n.flat())||[],...i}})({assetFilters:null!==e&&void 0!==e?e:[],blockchains:t}),{principals:o}=(0,g.J)(),{applicationsMeta:l}=(0,C.pq)(),{data:s,isLoading:c,isValidating:d}=(0,x.ZP)(o?[o,"userTokens"]:null,(e=>{let[t]=e;return(0,f.J3)(t)}),{dedupingInterval:3e5,focusThrottleInterval:3e5,revalidateIfStale:!1});return{nfts:n.useMemo((()=>s&&l?s.map((e=>{let{principal:t,account:a,collection:n,index:o,...s}=e;return{principal:t,account:a,walletName:(0,r.w)(l,t.toString(),a.accountId),contractId:s.canisterId,owner:null===t||void 0===t?void 0:t.toText(),clipboardText:(0,f.p4)(n.id,Number(o)),collection:n,index:o,blockchainLogo:i.Z,...s}})).filter((t=>null===e||void 0===e||!e.length||!!e.find((e=>e.principal===t.principal.toString())))).concat(a):[]),[s,l,e,a]),isLoading:c||d}}},75557:(e,t,a)=>{a.d(t,{RJ:()=>c,tF:()=>l});var n=a(13791),i=a(54915);const o=e=>/^Account #\d*$/.test(e)||void 0===e||""===e;a(51921);const l=(e,t)=>0!==t?`$${(t*e).toFixed(2)}`:"";function s(e){var t;let{toPresentation:a,appName:s,currentAppTotalBalance:c,token:r,accountBalance:d,exchangeRate:u,applicationMatch:p,currentApp:v,isExplicitlyIncluded:h}=e;return{icon:null===p||void 0===p?void 0:p.icon,appName:s,tokenBalance:c,accounts:[...null!==(t=null===v||void 0===v?void 0:v.accounts)&&void 0!==t?t:[],...d.balance[r]>0||h?[{accountName:o(d.account.label)||!d.account.label?`account ${parseInt(d.account.accountId)+1}`:d.account.label,principalId:d.principalId,address:(0,i.PZ)(n.Principal.fromText(d.principalId)),tokenBalance:d.balance[r],usdBalance:l(a(d.balance[r]),u)}]:[]].sort(((e,t)=>e.accountName.localeCompare(t.accountName)))}}const c=e=>{let{toPresentation:t,balances:a,applications:n=[],exchangeRate:i,excludeEmpty:o,includeEmptyApps:c,label:r,token:d,icon:u}=e;return a.reduce(((e,a)=>{var r;const d=n.find((e=>e.domain===a.account.domain)),u=d?d.name:a.account.domain,p=e.applications[u],v=e.tokenBalance+a.balance[e.token],h=((null===(r=e.applications[u])||void 0===r?void 0:r.tokenBalance)||BigInt(0))+a.balance[e.token],m=c.includes((null===d||void 0===d?void 0:d.domain)||"")||c.includes((null===d||void 0===d?void 0:d.name)||"");return o&&!m&&h===BigInt(0)?e:{...e,icon:e.icon,tokenBalance:v,usdBalance:l(t(v),i),applications:{...e.applications,[u]:s({toPresentation:t,appName:u,currentAppTotalBalance:h,token:e.token,accountBalance:a,exchangeRate:i,applicationMatch:d,currentApp:p,isExplicitlyIncluded:m})}}}),{label:r,token:d,icon:u,tokenBalance:BigInt(0),usdBalance:"0",applications:{}})}},12952:(e,t,a)=>{a.d(t,{h:()=>s});var n=a(87273),i=a(94244);const o="https://api.coinbase.com/v2/exchange-rates",l=["ICP","ETH","BTC"],s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l;const{data:t,...a}=(0,i.ZP)("exchangeRates",(()=>fetch(o).then((e=>e.json())))),s=(0,n.useMemo)((()=>null!==t&&void 0!==t&&t.data&&e?e.reduce(((e,a,n)=>{var i;const o=null===t||void 0===t||null===(i=t.data)||void 0===i?void 0:i.rates[a],l=o?(1/o).toFixed(2):"";return e[a]=Number(parseFloat(l).toFixed(2)),e}),{}):{}),[t,e]);return{rates:s,prices:t,...a}}},75739:(e,t,a)=>{a.d(t,{W:()=>u});var n=a(87273),i=a(7863),o=a(13485),l=a(69491),s=a(75557),c=a(19864),r=a(42809),d=a(14868);const u=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;const{applicationsMeta:a}=(0,l.pq)(),{exchangeRate:u,isValidating:p}=(0,r.G)(),{token:v}=(0,c.i)(),{balances:h,isLoading:m}=(0,d.j)();console.debug("useUserBalances",{icpBalance:h});const x=n.useMemo((()=>{if(!p&&!m&&u&&h)return{ICP:(0,s.RJ)({balances:null!==t&&void 0!==t&&t.length?h.filter((e=>null===t||void 0===t?void 0:t.find((t=>t.principal===e.principal.toString())))):h,applications:a,exchangeRate:u,excludeEmpty:e,includeEmptyApps:["nfid.one","https://nns.ic0.app"],label:"Internet Computer",token:"ICP",icon:o.Z,toPresentation:i.T9}),...v?v.reduce(((n,i)=>{let{symbol:o,name:l,logo:c,toPresentation:r}=i;return{...n,[o]:(0,s.RJ)({toPresentation:r,balances:null!==t&&void 0!==t&&t.length?h.filter((e=>null===t||void 0===t?void 0:t.find((t=>t.principal===e.principal.toString())))):h,applications:a,icon:c,exchangeRate:"WICP"===o?u:0,excludeEmpty:e,includeEmptyApps:["nfid.one","https://nns.ic0.app"],label:l,token:o})}}),{}):{}}}),[p,m,u,h,t,a,e,v]);return console.debug("useBalanceICPAll",{isLoadingICPExchangeRate:p,isLoadingPrincipals:m,exchangeRate:u,applicationsMeta:a,appAccountBalance:x,balanceICPRaw:h}),{isLoading:m||p,appAccountBalance:x}}},42809:(e,t,a)=>{a.d(t,{G:()=>r});var n,i=a(94244),o=a(78765);const l=`https://free.currconv.com/api/v7/convert?q=XDR_USD&compact=ultra&apiKey=${null!==(n=CURRCONV_TOKEN)&&void 0!==n?n:"df6440fc0578491bb13eb2088c4f60c7"}`;async function s(e){return e.json().then((e=>e))}async function c(){let e=await o.Ds.get_icp_xdr_conversion_rate().then((e=>e.data.xdr_permyriad_per_icp)).catch((e=>{throw Error(`CyclesMinter failed!: ${e}`,e)})),t=await(0,o.L8)("GET",l).then(s).catch((e=>{throw Error(`free.currconv.com failed!: ${e}`,e)}));return parseFloat(t.XDR_USD)*Number(e)/1e4}const r=()=>{const{data:e,...t}=(0,i.ZP)("walletExchangeRate",c,{dedupingInterval:36e5,focusThrottleInterval:36e5,refreshInterval:36e5});return{exchangeRate:e,...t}}},21650:(e,t,a)=>{a.d(t,{O:()=>S});var n=a(87273),i=a(94379),o=a(57930),l=a(25390),s=a(23439),c=a(78765);class r{constructor(e){this.config=void 0,this.getIdentity=async e=>{var t;const a=null!==(t=(0,c.SC)())&&void 0!==t?t:await(0,s.In)(),n=await(0,l.p)(a.anchor,"nfid.one","0");return null===e||void 0===e||!e.length||null!==e&&void 0!==e&&e.includes(n.getPrincipal().toString())?[n]:[]},this.config=e}async getTokenConfigs(e){const t=await this.getIdentity(e.map((e=>e.principal)));return 0===t.length?[]:this.getAccounts(t)}getTokenStandard(){return this.config.tokenStandard}getCacheTtl(){return 30}}var d=a(51921),u=a(7863);function p(e,t){var a;return{icon:e.icon,tokenStandard:e.tokenStandard,title:e.title,currency:e.feeCurrency,balance:null===t||void 0===t?void 0:t.tokenBalance,price:null===t||void 0===t?void 0:t.usdBalance,fee:BigInt(null!==(a=null===t||void 0===t?void 0:t.fee)&&void 0!==a?a:0),toPresentation:u.T9,transformAmount:d.Q,blockchain:e.blockchain}}function v(e,t){return{tokenStandard:e.tokenStandard,icon:t.icon,title:t.label,currency:t.token,balance:t.tokenBalance,price:t.usdBalance,blockchain:e.blockchain,fee:BigInt(0),toPresentation:u.T9,transformAmount:d.Q,feeCurrency:e.feeCurrency,contract:t.contract}}var h=a(96215),m=a(82898),x=a(33368);const f=new class extends r{async getAccounts(e){return o.S.getRootAccount(e[0],m.JX).then((e=>[p(this.config,e)]))}}({icon:m.JX,tokenStandard:x.v.BTC,title:"Bitcoin",feeCurrency:h.I.BTC,blockchain:h.$.BITCOIN});const C=new class extends r{async getAccounts(e){return c.q_.getAccounts(e[0],this.config.icon).then((e=>e.map((e=>v(this.config,e)))))}}({tokenStandard:x.v.ERC20_ETHEREUM,blockchain:h.$.ETHEREUM,feeCurrency:h.I.ETH,icon:m.wJ});const g=new class extends r{async getAccounts(e){return c.q_.getNativeAccount(e[0],this.config.icon).then((e=>[p(this.config,e)]))}}({icon:m.kD,tokenStandard:x.v.ETH,title:"Ethereum",feeCurrency:h.I.ETH,blockchain:h.$.ETHEREUM});const b=new class extends r{async getAccounts(e){return c.It.getAccounts(e[0],this.config.icon).then((e=>e.map((e=>v(this.config,e)))))}}({tokenStandard:x.v.ERC20_POLYGON,icon:m.gh,blockchain:h.$.POLYGON,feeCurrency:h.I.MATIC});const k=new class extends r{async getAccounts(e){return c.It.getNativeAccount(e[0],this.config.icon).then((e=>[p(this.config,e)]))}}({icon:m.u3,tokenStandard:x.v.MATIC,title:"Matic",feeCurrency:h.I.MATIC,blockchain:h.$.POLYGON});class y extends i.m{constructor(){super(...arguments),this.getTokenConfigs=async(e,t)=>super.process(e,[t])}getCacheKey(e,t,a){return t.name+e+a[0].reduce(((e,t)=>{let{principal:a}=t;return`${e}${a}`}),"")}getFunctionToCall(e){return e.getTokenConfigs}}const w=new y([f,k,b,C,g]);var N=a(94244);const T=e=>{let{assetFilters:t,tokens:a}=e;const{data:n,...i}=(0,N.ZP)([a,t,"tokenConfig"],(e=>{let[t,a]=e;return Promise.all(t.map((async e=>{try{return await w.getTokenConfigs(e,a)}catch(t){return console.error("useTokenConfig",t),[]}})))}));return{configs:(null===n||void 0===n?void 0:n.flat())||[],...i}};var j=a(19864),I=a(75739);const E=e=>{const{appAccountBalance:t}=(0,I.W)(!0,e),{token:a}=(0,j.i)();return[{icon:m.UC,tokenStandard:x.v.ICP,title:"Internet Computer",currency:"ICP",balance:null===t||void 0===t?void 0:t.ICP.tokenBalance,price:null===t||void 0===t?void 0:t.ICP.usdBalance,fee:BigInt(u.dH),toPresentation:u.T9,transformAmount:d.Q,blockchain:"Internet Computer"},...a?a.map((e=>{let{symbol:a,name:n,logo:i,...o}=e;return{tokenStandard:x.v.DIP20,icon:i,title:n,currency:a,balance:null===t||void 0===t?void 0:t[a].tokenBalance,price:null===t||void 0===t?void 0:t[a].usdBalance,blockchain:"Internet Computer",...o}})):[]]},S=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const t=w.getKeys(),{configs:a}=T({tokens:t,assetFilters:e}),i=E(e),o=n.useMemo((()=>[...a,...i]),[a,i]);return console.debug("useAllToken",{token:o}),{token:o}}},6028:(e,t,a)=>{a.d(t,{hJ:()=>h,p4:()=>x,J3:()=>f,r:()=>m});var n=a(54915);const i="https://us-central1-entrepot-api.cloudfunctions.net/api";let o;async function l(e){const t=(await async function(){return o||(o=fetch(`${i}/collections`).then((e=>e.json())).then((e=>e.reduce(((e,t)=>({...e,[t.id]:t})),{})))),o}())[e];if(!t)throw new Error(`Unknown collection ${e}`);return t}function s(e,t,a){const{index:i}=(0,n.uX)(t.tokenId);return"jeghr-iaaaa-aaaah-qco7q-cai"===e.id?`https://fl5nr-xiaaa-aaaai-qbjmq-cai.raw.ic0.app/nft/${i}`:"bxdf4-baaaa-aaaah-qaruq-cai"===e.id?`https://qcg3w-tyaaa-aaaah-qakea-cai.raw.ic0.app/Token/${i}`:"y3b7h-siaaa-aaaah-qcnwa-cai"===e.id?`https://4nvhy-3qaaa-aaaah-qcnoq-cai.raw.ic0.app/Token/${i}`:"3db6u-aiaaa-aaaah-qbjbq-cai"===e.id?`https://d3ttm-qaaaa-aaaai-qam4a-cai.raw.ic0.app?tokenId=${i}`:"q6hjz-kyaaa-aaaah-qcama-cai"===e.id?d(i):"pk6rk-6aaaa-aaaae-qaazq-cai"===e.id?a?`https://${e.id}.raw.ic0.app/?tokenid=${t.tokenId}`:`https://images.entrepot.app/t/7budn-wqaaa-aaaah-qcsba-cai/${t.tokenId}`:"dhiaa-ryaaa-aaaae-qabva-cai"===e.id?a?`https://${e.id}.raw.ic0.app/?tokenid=${t.tokenId}`:`https://images.entrepot.app/tnc/qtejr-pqaaa-aaaah-qcyvq-cai/${t.tokenId}`:"skjpp-haaaa-aaaae-qac7q-cai"===e.id?a?`https://${e.id}.raw.ic0.app/?tokenid=${t.tokenId}`:`https://images.entrepot.app/tnc/wtwf2-biaaa-aaaam-qauoq-cai/${t.tokenId}`:"yigae-jqaaa-aaaah-qczbq-cai"!==e.id||a?a?`https://${e.id}.raw.ic0.app/?tokenid=${t.tokenId}`:"rxrsz-5aaaa-aaaam-qaysa-cai"===e.id||"sbcwr-3qaaa-aaaam-qamoa-cai"===e.id||"yrdz3-2yaaa-aaaah-qcvpa-cai"===e.id||"rw7qm-eiaaa-aaaak-aaiqq-cai"===e.id||"5movr-diaaa-aaaak-aaftq-cai"===e.id||"dhyds-jaaaa-aaaao-aaiia-cai"===e.id?`https://images.entrepot.app/tnc/${e.id}/${t.tokenId}`:"6wih6-siaaa-aaaah-qczva-cai"===e.id?`https://${e.id}.raw.ic0.app/?cc${Date.now()}&type=thumbnail&tokenid=${t.tokenId}`:"kss7i-hqaaa-aaaah-qbvmq-cai"===e.id?`https://${e.id}.raw.ic0.app/?type=thumbnail&tokenid=${t.tokenId}`:`https://images.entrepot.app/t/${e.id}/${t.tokenId}`:"/earn/loading.png"}function c(e,t){return s(e,t,!1)}async function r(e,t){const a=s(e,t,!0),i=function(e,t){const{index:a}=(0,n.uX)(t.tokenId);return"ugdkf-taaaa-aaaak-acoia-cai"===t.canisterId?"motoko_mechs":99===a&&"kss7i-hqaaa-aaaah-qbvmq-cai"===t.canisterId?"interactive_nfts_or_videos":e.detailpage?e.detailpage:"default"}(e,t),o=function(e){switch(e){case"interactive_nfts_or_videos":return"iframe";case"videos_that_dont_fit_in_frame":return"video";default:return"img"}}(i);return"default"===i?{url:c(e,t),format:o}:"asset_canisters"===i?{url:await u(a),format:o}:"videos_that_dont_fit_in_frame"===i?{url:await p(a),format:o}:{url:a,format:o}}function d(e){return`https://${["efqhu-yqaaa-aaaaf-qaeda-cai","ecrba-viaaa-aaaaf-qaedq-cai","fp7fo-2aaaa-aaaaf-qaeea-cai","fi6d2-xyaaa-aaaaf-qaeeq-cai","fb5ig-bqaaa-aaaaf-qaefa-cai","fg4os-miaaa-aaaaf-qaefq-cai","ft377-naaaa-aaaaf-qaega-cai","fu2zl-ayaaa-aaaaf-qaegq-cai","f5zsx-wqaaa-aaaaf-qaeha-cai","f2yud-3iaaa-aaaaf-qaehq-cai"][e%10]}.raw.ic0.app/Token/${e}`}async function u(e){var t;const a=await fetch(e),n=await a.blob(),i=null===(t=(await n.text()).replace("\n"," ").replace(/\s{2,}/," ").match(/image href="([^"]+)"/))||void 0===t?void 0:t[1];if(!i)throw new Error("Could not extract image");return i}async function p(e){const t=/source src="([^"]+)"/,a=await fetch(e),n=await a.blob(),i=(await n.text()).replace("\n"," ").replace(/\s{2,}/," ");if(i.includes("URL=")){var o;const e=null===(o=i.match('URL=([^"]+)"'))||void 0===o?void 0:o[1];if(!e)throw new Error("Could not extract video");return e}if(i.includes("source")){var l;const e=null===(l=i.match(t))||void 0===l?void 0:l[1];if(!e)throw new Error("Could not extract video");return e}{const t=e;if(!t)throw new Error("Could not extract video");return t}}async function v(e){return(await Promise.all(e.map((async e=>{let{principal:t,account:a}=e;const o=(0,n.PZ)(t);return await fetch(`${i}/maddies/getAllNfts/${o}`).then((e=>e.json())).then((e=>async function(e,t,a){return(await Promise.all(e.map((async i=>{let o;try{const t=await h(i.canisterId),{index:a}=(0,n.uX)(i.tokenId);o=await m(t,e,a)}catch(l){console.log("mapToNFTData",{e:l})}return{...o,principal:t,account:a}})))).filter((e=>{var t;return(null===e||void 0===e?void 0:e.tokenId)&&(null===e||void 0===e||null===(t=e.collection)||void 0===t?void 0:t.id)}))}(e,t,a)))})))).flat().map((e=>({...e,blockchain:"Internet Computer"})))}async function h(e){return l(e)}async function m(e,t,a){const i=(0,n.AF)(e.id,a),o=t.find((e=>e.tokenId===i));if(!o)throw new Error(`Could not find token #${a} of ${e.name} (${e.id})`);return{collection:e,canisterId:e.id,index:a,tokenId:i,name:`${e.name} #${a}`,assetPreview:c(e,o),assetFullsize:await r(e,o),blockchain:"Internet Computer"}}function x(e,t){return function(e,t){const a=(0,n.AF)(e,t);return"jeghr-iaaaa-aaaah-qco7q-cai"===e?`https://fl5nr-xiaaa-aaaai-qbjmq-cai.raw.ic0.app/nft/${t}`:"bxdf4-baaaa-aaaah-qaruq-cai"===e?`https://qcg3w-tyaaa-aaaah-qakea-cai.raw.ic0.app/Token/${t}`:"y3b7h-siaaa-aaaah-qcnwa-cai"===e?`https://4nvhy-3qaaa-aaaah-qcnoq-cai.raw.ic0.app/Token/${t}`:"3db6u-aiaaa-aaaah-qbjbq-cai"===e?`https://d3ttm-qaaaa-aaaai-qam4a-cai.raw.ic0.app?tokenId=${t}`:"q6hjz-kyaaa-aaaah-qcama-cai"===e?d(t):`https://${e}.raw.ic0.app/?tokenid=${a}`}(e,t)}async function f(e){return(await v(e)).flat()}},76058:(e,t,a)=>{a.d(t,{M:()=>l});var n=a(18414),i=a(87273),o=a(33693);const l=i.forwardRef(((e,t)=>{let{value:a,leadingChars:i,trailingChars:l,...s}=e;const c=a.length-l;return(0,o.jsxs)("div",{ref:t,className:"flex min-w-0",...s,children:[(0,o.jsx)("div",{id:"first_part",className:(0,n.Z)("overflow-hidden whitespace-nowrap"),children:a.slice(0,i)}),(0,o.jsx)("div",{children:"..."}),(0,o.jsx)("div",{id:"second_part",className:"flex-shrink-0",children:a.slice(c)})]})}))},94379:(e,t,a)=>{a.d(t,{m:()=>l});var n=a(98965),i=a(11954);const o=new n.CacheContainer(new i.MemoryStorage);class l{constructor(e){this.connectors=void 0,this.connectorsStorage=void 0,this.connectors=e,this.connectorsStorage=this.toMap(this.connectors)}getKeys(){return Array.from(this.connectorsStorage.keys())}async process(e,t){const a=this.getConnector(e);if(!a)throw Error(e+" not supported");const n=this.getCacheKey(e,this.getFunctionToCall(a),t);return this.processCacheable(n,a,this.getFunctionToCall(a),t)}toMap(e){const t=new Map;return e.forEach((e=>{t.set(e.getTokenStandard(),e)})),t}getConnector(e){return this.connectorsStorage.get(e)}async processCacheable(e,t,a,n){const i=await o.getItem(e);if(i)return i;const l=await a.apply(t,n);return await o.setItem(e,l,{ttl:t.getCacheTtl()}),l}}},96215:(e,t,a)=>{let n,i;a.d(t,{$:()=>n,I:()=>i}),function(e){e.ETHEREUM="Ethereum",e.POLYGON="Polygon",e.IC="Internet Computer",e.BITCOIN="Bitcoin"}(n||(n={})),function(e){e.ETH="ETH",e.MATIC="MATIC",e.ICP="ICP",e.BTC="BTC"}(i||(i={}))},72565:(e,t,a)=>{a.d(t,{Z:()=>se});var n=a(18414),i=a(87273),o=a(82898),l=a(55081),s=a(33693);const c=e=>{let{firstValue:t,secondValue:a,className:o,onChange:l,defaultValue:c}=e;const[r,d]=(0,i.useState)(null!==c&&void 0!==c&&c);return(0,i.useEffect)((()=>{l(r)}),[l,r]),(0,s.jsxs)("div",{className:(0,n.Z)("w-full h-7 rounded-md bg-gray-100 cursor-pointer","grid grid-cols-2 relative select-none",o),onClick:()=>d(!r),children:[(0,s.jsx)("div",{className:(0,n.Z)("text-center text-black","font-semibold text-xs leading-7"),children:t}),(0,s.jsx)("div",{className:(0,n.Z)("text-center text-black","font-semibold text-xs leading-7"),children:a}),(0,s.jsx)("div",{className:(0,n.Z)("absolute h-7 w-1/2 rounded-md","bg-blue-600 leading-7 text-xs","text-center text-white font-semibold","transition-transform",r&&"translate-x-full"),children:r?a:t})]})};var r=a(96349),d=a(3752),u=a(33368),p=a(21650),v=a(23210),h=a(76058),m=a(52510),x=a(19864),f=a(63071);const C=()=>{const{token:e}=(0,x.i)(),{erc20:t}=(0,f.R)(),{erc20:a}=(0,m.A)();return{tokenOptions:(0,i.useMemo)((()=>{var n,i,l;return[{label:"Internet Computer",options:[{icon:o.UC,title:"ICP",subTitle:"Internet Computer",value:"ICP"}].concat(null!==(n=null===e||void 0===e?void 0:e.map((e=>({icon:e.logo,title:e.symbol,subTitle:e.name,value:e.symbol}))))&&void 0!==n?n:[])},{label:"Ethereum",options:[{icon:o.kD,title:"ETH",subTitle:"Ethereum",value:"ETH"}].concat(null!==(i=null===t||void 0===t?void 0:t.map((e=>({icon:e.icon,title:e.token,subTitle:e.label,value:e.token}))))&&void 0!==i?i:[])},{label:"Polygon",options:[{icon:o.JX,title:"MATIC",subTitle:"Polygon",value:"MATIC"}].concat(null!==(l=null===a||void 0===a?void 0:a.map((e=>({icon:e.icon,title:e.token,subTitle:e.label,value:e.token}))))&&void 0!==l?l:[])},{label:"Bitcoin",options:[{icon:o.JX,title:"BTC",subTitle:"Bitcoin",value:"BTC"}]}]}),[e,t,a])}};var g=a(12952),b=a(50259);var k=a(7863),y=a(75557);const w=(e,t,a,n,i)=>{var o,l,s,c,r,d,u,p,v,h;if(!e)return[];if("ETH"===t||"MATIC"===t)return[{label:"Public",options:[{title:"NFID Account 1",value:null===(o=e[0])||void 0===o?void 0:o.ethAddress,subTitle:(0,b.a)(null!==(l=null===(s=e[0])||void 0===s?void 0:s.ethAddress)&&void 0!==l?l:"",10),innerTitle:`${(0,k.T9)(null===(c=e[0])||void 0===c?void 0:c.balance[t])} ${t}`,innerSubtitle:(0,y.tF)((0,k.T9)(null===(r=e[0])||void 0===r?void 0:r.balance[t]),a[t])}]}];if("BTC"===t)return[{label:"Public",options:[{title:"NFID Account 1",value:null===(d=e[0])||void 0===d?void 0:d.btcAddress,subTitle:(0,b.a)(null!==(u=null===(p=e[0])||void 0===p?void 0:p.btcAddress)&&void 0!==u?u:"",10),innerTitle:`${(0,k.T9)(null===(v=e[0])||void 0===v?void 0:v.balance[t])} ${t}`,innerSubtitle:(0,y.tF)((0,k.T9)(null===(h=e[0])||void 0===h?void 0:h.balance[t]),a[t])}]}];const m=n.find((e=>e.token===t));var x,f,C;if(m)return[{label:"Public",options:[{title:"NFID Account 1",value:null===(x=e[0])||void 0===x?void 0:x.ethAddress,subTitle:(0,b.a)(null!==(f=null===(C=e[0])||void 0===C?void 0:C.ethAddress)&&void 0!==f?f:"",10),innerTitle:`${(0,k.T9)(m.tokenBalance)} ${t}`,innerSubtitle:m.usdBalance}]}];const g=i.find((e=>e.token===t));var w,N,T;if(g)return[{label:"Public",options:[{title:"NFID Account 1",value:null===(w=e[0])||void 0===w?void 0:w.ethAddress,subTitle:(0,b.a)(null!==(N=null===(T=e[0])||void 0===T?void 0:T.ethAddress)&&void 0!==N?N:"",10),innerTitle:`${(0,k.T9)(g.tokenBalance)} ${t}`,innerSubtitle:g.usdBalance}]}];const j=e.map((e=>{var n,i,o;return{title:null!==(n=e.label)&&void 0!==n?n:"",value:e.isVaultWallet?null!==(i=e.address)&&void 0!==i?i:"":null===(o=e.principal)||void 0===o?void 0:o.toText(),subTitle:(0,b.a)(e.principalId,5),innerTitle:`${(0,k.T9)(e.balance[t])} ${t}`,innerSubtitle:(0,y.tF)((0,k.T9)(e.balance[t]),a[t]),isVaultWallet:e.isVaultWallet,vaultId:e.vaultId,vaultName:e.vaultName}})),I=j.filter((e=>!e.isVaultWallet)),E=j.filter((e=>e.isVaultWallet));return[{label:"Public",options:I},..."ICP"===t?function(e,t){const a=e.reduce(((e,a)=>{const n=a[t];if(null==n)return e;const i=n.toString();return e[i]||(e[i]=[]),e[i].push(a),e}),{});return Object.values(a)}(E,"vaultId").map((e=>{var t;return{label:null===(t=e[0])||void 0===t?void 0:t.vaultName,options:e}})):[]]},N=e=>{const{wallets:t}=(0,v.w)(),{rates:a}=(0,g.h)(),{erc20:n}=(0,f.R)(),{erc20:o}=(0,m.A)();return{walletOptions:(0,i.useMemo)((()=>w(t,e,a,null!==n&&void 0!==n?n:[],null!==o&&void 0!==o?o:[])),[a,e,t,n,o])}},T=e=>{var t,a,n,l,c;let{selectedToken:r,selectedSourceWallet:d,assignSourceWallet:m,assignSelectedToken:x}=e;const{tokenOptions:f}=C(),{walletOptions:g}=N(null!==(t=null===r||void 0===r?void 0:r.currency)&&void 0!==t?t:"ICP"),{wallets:b}=(0,v.w)(),{token:k}=(0,p.O)(),y=(0,i.useMemo)((()=>{if(d)return b.find((e=>[e.principal.toText(),e.address,e.ethAddress,e.principalId,e.btcAddress].includes(d)))}),[d,b]),w=(0,i.useMemo)((()=>{switch(null===r||void 0===r?void 0:r.tokenStandard){case"ETH":case"MATIC":case"ERC20_POLYGON":case"ERC20_ETHEREUM":return null===y||void 0===y?void 0:y.ethAddress;case"BTC":return null===y||void 0===y?void 0:y.btcAddress;case"ICP":return null===y||void 0===y?void 0:y.address}}),[null===r||void 0===r?void 0:r.tokenStandard,null===y||void 0===y?void 0:y.address,null===y||void 0===y?void 0:y.ethAddress,null===y||void 0===y?void 0:y.btcAddress]),T=(0,i.useCallback)((e=>{const t=k.find((t=>t.currency===e));t&&x(t)}),[k,x]);return(0,i.useEffect)((()=>{var e;m(null===(e=g[0].options[0])||void 0===e?void 0:e.value)}),[g]),(0,s.jsxs)("div",{className:"space-y-3 text-xs",children:[(0,s.jsx)(o.Z,{label:"Asset",title:"Choose an asset",optionGroups:f,iconClassnames:"!w-6 !h-auto !object-contain",preselectedValue:null===r||void 0===r?void 0:r.currency,onSelect:T,type:"small"}),(0,s.jsx)(o.Z,{label:"Account",optionGroups:g,title:"Choose an account",onSelect:e=>m(e),preselectedValue:d,type:"small"}),Object.values(u.v).includes(r.tokenStandard)&&(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"mb-1 text-gray-400",children:"ETH"===(null===r||void 0===r?void 0:r.tokenStandard)||"BTC"===(null===r||void 0===r?void 0:r.tokenStandard)||"ERC20_ETHEREUM"===(null===r||void 0===r?void 0:r.tokenStandard)||"MATIC"===(null===r||void 0===r?void 0:r.tokenStandard)||"ERC20_POLYGON"===(null===r||void 0===r?void 0:r.tokenStandard)?"Wallet address":"Account ID"}),(0,s.jsxs)("div",{className:"rounded-md bg-gray-100 text-gray-400 flex items-center justify-between px-2.5 h-10",children:[(0,s.jsx)(h.M,{value:null!==w&&void 0!==w?w:"",leadingChars:29,trailingChars:5,id:"principal"}),(0,s.jsx)(o.CK,{value:null!==w&&void 0!==w?w:""})]})]}),["ICP","DIP20"].includes(null!==(a=null===r||void 0===r?void 0:r.tokenStandard)&&void 0!==a?a:"")&&(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"mb-1 text-gray-400",children:"Principal ID"}),(0,s.jsxs)("div",{className:"rounded-md bg-gray-100 text-gray-400 flex items-center justify-between px-2.5 h-10",children:[(0,s.jsx)(h.M,{value:null!==(n=null===y||void 0===y?void 0:y.principal.toText())&&void 0!==n?n:"",leadingChars:29,trailingChars:5,id:"address"}),(0,s.jsx)(o.CK,{value:null!==(l=null===y||void 0===y?void 0:y.principal.toText())&&void 0!==l?l:""})]})]}),(0,s.jsx)("div",{className:"w-[150px] my-4 mx-auto",children:(0,s.jsx)(o.s_,{options:{width:150,margin:0},content:null!==(c=null!==w&&void 0!==w?w:null===y||void 0===y?void 0:y.principal.toText())&&void 0!==c?c:""})})]})};var j=a(84463),I=a(13791),E=a(54915),S=a(94480);const A=e=>!!e.length||"This field cannot be empty",q=e=>{try{if(I.Principal.fromText(e))return!0}catch{return"Not a valid principal ID"}return"Not a valid principal ID"},P=e=>t=>{if("boolean"!==typeof A(t))return A(t);switch(e){case u.v.ETH:case u.v.ERC20_ETHEREUM:case u.v.ERC20_POLYGON:case u.v.MATIC:return"boolean"===typeof(0,S.v)(t)&&42===t.length||"Incorrect address";case u.v.BTC:return"boolean"===typeof(0,S.v)(t)&&t.length>25&&t.length<36||"Incorrect BTC address";case u.v.DIP20:return"boolean"===typeof q(t)&&63===t.length||"For DIP20 only principal address allowed";default:return"boolean"===typeof(0,S.v)(t)&&64===t.length||"boolean"===typeof q(t)||"Incorrect account or principal ID"}},$=e=>{var t,a,l,c;let{assignToken:d,assignSourceWallet:h,assignReceiverWallet:m,assignFromAccount:x,assignAmount:f,selectedToken:g,selectedSourceWallet:b,selectedReceiverWallet:k,selectedSourceAccount:y,onSubmit:w}=e;const{walletOptions:T}=N(null!==(t=null===g||void 0===g?void 0:g.currency)&&void 0!==t?t:"ICP"),{tokenOptions:A}=C(),{token:q}=(0,p.O)(),{wallets:$}=(0,v.w)(),{register:_,formState:{errors:B},handleSubmit:R,setValue:M,setError:L,resetField:F}=(0,j.cI)({mode:"all",defaultValues:{amount:void 0,from:null!==b&&void 0!==b?b:"",to:null!==k&&void 0!==k?k:""}}),Z=(0,i.useCallback)((()=>{var e;if(!g||!g.balance)return r.Am.error("No selected token or selected token has no balance",{toastId:"unexpectedTransferError"});const t=BigInt(null!==(e=null===y||void 0===y?void 0:y.balance[g.currency])&&void 0!==e?e:g.fee)-g.fee;if(!t||"bigint"!==typeof t)return r.Am.error("Amount is invalid",{toastId:"unexpectedTransferError"});t<0?(M("amount",0),L("amount",{message:"Insufficient funds"}),setTimeout((()=>{F("amount")}),2e3)):(F("amount"),M("amount",Number(g.toPresentation(t))))}),[g,null===y||void 0===y?void 0:y.balance,M,L,F]),O=(0,i.useCallback)((e=>{var t;const a=q.find((t=>t.currency===e));a&&(d(a),M("from",null===(t=T[0].options[0])||void 0===t?void 0:t.value))}),[q,d,M,T]),H=(0,i.useCallback)((e=>{const t=null===$||void 0===$?void 0:$.find((t=>[t.principal.toText(),t.ethAddress,t.btcAddress,t.accountId].includes(e)));t&&(x(t),h(e))}),[x,h,$]),D=(0,i.useCallback)((e=>g?e.from===e.to?L("to",{type:"value",message:"You can't transfer to the same wallet"}):(f(e.amount),m(((e,t)=>{if(t===u.v.ICP)return(0,S.v)(e)?e:(0,E.PZ)(I.Principal.fromText(e));if(t===u.v.DIP20&&(0,S.v)(e))throw new Error(`For tokenStandard ${u.v.DIP20} only pricipals are allowed. Invalid address: ${e}`);return e})(e.to,null===g||void 0===g?void 0:g.tokenStandard)),void w()):r.Am.error("No selected token or selected token has no balance",{toastId:"unexpectedTransferError"})),[f,m,w,g,L]);return(0,i.useEffect)((()=>{!g&&q.length&&d(q[0])}),[q,d,g]),(0,i.useEffect)((()=>{var e;h(null===(e=T[0].options[0])||void 0===e?void 0:e.value)}),[T]),(0,s.jsxs)(o.B$,{className:"!p-0 text-xs",overlayClassnames:"rounded-xl",isLoading:!b,children:[(0,s.jsx)("p",{className:"mb-1",children:"Amount to send"}),(0,s.jsxs)("div",{className:(0,n.Z)("border rounded-md flex items-center justify-between pl-4 pr-5 h-20",B.amount?"ring border-red-600 ring-red-100":"border-black"),children:[(0,s.jsx)("input",{className:(0,n.Z)("min-w-0 text-3xl placeholder:text-black","outline-none border-none h-[66px] focus:ring-0","p-0"),placeholder:"0.00",type:"number",id:"amount",min:0,..._("amount",{required:o.Lo.errorMessages.required,validate:(V=null===g||void 0===g?void 0:g.toPresentation(null===y||void 0===y?void 0:y.balance[g.currency]),e=>Number(e)<0?"Transfer amount can't be negative value":0===Number(e)?"You can't send 0":!(V&&Number(V)<Number(e))||"Insufficient funds"),valueAsNumber:!0})}),(0,s.jsx)(o.Z,{optionGroups:A,title:"Choose an asset",type:"trigger",onSelect:O,isFirstPreselected:!1,trigger:(0,s.jsxs)("div",{id:`token_${null===g||void 0===g?void 0:g.currency}`,className:"flex items-center cursor-pointer shrink-0",children:[(0,s.jsx)(o.Ee,{className:"w-[26px] mr-1.5",src:null===g||void 0===g?void 0:g.icon,alt:null===g||void 0===g?void 0:g.currency}),(0,s.jsx)("p",{className:"text-lg font-semibold",children:null===g||void 0===g?void 0:g.currency}),(0,s.jsx)(o.xz,{className:"ml-4"})]})})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between mt-2 mb-3.5",children:[(0,s.jsxs)("p",{id:"balance",className:(0,n.Z)(B.amount?"text-red-600":"text-gray-400"),children:["Balance:"," ",(0,s.jsx)("span",{className:"text-black underline cursor-pointer decoration-dotted",onClick:Z,children:null===g||void 0===g?void 0:g.toPresentation(null===y||void 0===y?void 0:y.balance[g.currency])})]}),(0,s.jsxs)("p",{id:"transfer_fee",className:"text-gray-400",children:["Transfer fee:"," ",`${null===g||void 0===g?void 0:g.toPresentation(null===g||void 0===g?void 0:g.fee)} ${null!==(a=null===g||void 0===g?void 0:g.feeCurrency)&&void 0!==a?a:null===g||void 0===g?void 0:g.currency}`]})]}),(0,s.jsxs)("div",{className:"mt-4 space-y-5",children:[(0,s.jsx)(o.Z,{optionGroups:T,preselectedValue:b,label:"From",title:"Choose an account",onSelect:e=>{M("from",e),H(e)}}),(0,s.jsx)(o.Z,{label:"To",optionGroups:T,title:"Choose an account",onSelect:e=>{F("to"),M("to",e)},type:"input",placeholder:"ICP"===(null===g||void 0===g?void 0:g.tokenStandard)?"Recipient principal or account ID":"Recipient principal",isFirstPreselected:!1,errorText:null===(l=B.to)||void 0===l?void 0:l.message,registerFunction:_("to",{required:"This field cannot be empty",validate:P(null!==(c=null===g||void 0===g?void 0:g.tokenStandard)&&void 0!==c?c:u.v.ICP)})}),(0,s.jsx)(o.zx,{className:"text-base !mt-[35px]",type:"primary",id:"sendFT",block:!0,onClick:R(D),icon:(0,s.jsx)(o.sK,{className:"rotate-[135deg]"}),children:"Send"})]})]});var V};var _=a(78765),B=a(31577),R=a(69491);const M=()=>{const{nfts:e}=(0,B.l)(),{applicationsMeta:t}=(0,R.pq)();return{nftsOptions:(0,i.useMemo)((()=>((e,t)=>{const a=e.reduce(((e,a)=>{const n=(0,_.w)(t,a.account.domain,a.account.accountId);return e[n]||(e[n]=[]),e[n].push(a),e}),{});return Object.entries(a).map((e=>{let[t,a]=e;return{label:t,options:a.map((e=>({title:e.name,subTitle:e.collection.name,value:e.tokenId,icon:e.assetPreview})))}}))})(e,null!==t&&void 0!==t?t:[])),[t,e])}},L=e=>{var t,a,l,c;let{selectedReceiverWallet:r,assignSelectedNFT:d,assignReceiverWallet:p,onSubmit:v}=e;const{applicationsMeta:h}=(0,R.pq)(),{nftsOptions:m}=M(),{nfts:x}=(0,B.l)(),[f,C]=(0,i.useState)(""),g=(0,i.useMemo)((()=>null===x||void 0===x?void 0:x.find((e=>e.tokenId===f))),[x,f]),{walletOptions:k}=N("Ethereum"===(null===g||void 0===g?void 0:g.blockchain)?"ETH":"ICP"),{register:y,formState:{errors:w},handleSubmit:T,setValue:I,resetField:E}=(0,j.cI)({mode:"all",defaultValues:{to:null!==r&&void 0!==r?r:""}}),S=(0,i.useCallback)((e=>{if(!g)throw new Error("No selected nft");d(g),p(e.to),v()}),[p,d,v,g]);return(0,s.jsxs)("div",{className:"-mt-2 space-y-2 text-xs",children:[(0,s.jsx)(o.Z,{label:"NFT to transfer",optionGroups:m,title:"Choose an NFT",onSelect:e=>C(e),iconClassnames:"!w-12 !h-12 !object-cover rounded-md",trigger:(0,s.jsxs)("div",{className:"flex items-center justify-between w-full h-[131px] p-2 pr-5 border border-black rounded-md",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsxs)("div",{className:"relative flex items-center mr-2.5",children:[null!==g&&void 0!==g&&g.assetPreview?(0,s.jsx)(o.Ee,{className:"object-cover rounded-sm w-28 h-28",src:null===g||void 0===g?void 0:g.assetPreview,alt:""}):(0,s.jsx)(o.jE,{className:"text-gray-100 rounded-sm w-28 h-28"}),(0,s.jsx)("div",{className:(0,n.Z)("absolute w-6 h-6 bg-white rounded-full bottom-1 right-1","flex items-center justify-center",!g&&"hidden"),children:(0,s.jsx)(o.Ee,{className:"w-4",src:"Ethereum"===(null===g||void 0===g?void 0:g.blockchain)?o.kD:o.UC,alt:""})})]}),g?(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"mb-1 text-sm",children:g.name}),(0,s.jsx)("p",{className:"text-xs leading-3 text-gray-400",children:g.collection.name})]}):(0,s.jsx)("p",{className:"leading-3 text-gray-400",children:"Choose NFT"})]}),(0,s.jsx)("div",{className:"cursor-pointer",children:(0,s.jsx)(o.xz,{})})]}),type:"trigger"}),(0,s.jsxs)("div",{className:"text-gray-400",children:[(0,s.jsx)("p",{className:"mb-1",children:"From"}),(0,s.jsx)("div",{className:(0,n.Z)("rounded-md bg-gray-100 px-2.5 h-14 mt-1"),children:g?(0,s.jsxs)("div",{className:"flex flex-col justify-center h-full",children:[(0,s.jsx)("p",{className:"text-black mb-[3px]",children:(0,_.w)(null!==h&&void 0!==h?h:[],null!==(t=null===g||void 0===g?void 0:g.account.domain)&&void 0!==t?t:"",null!==(a=null===g||void 0===g?void 0:g.account.accountId)&&void 0!==a?a:"")}),(0,s.jsx)("p",{children:(0,b.a)(g.owner,40)})]}):(0,s.jsx)("p",{className:"leading-[56px] text-sm",children:"Your NFT account address"})})]}),(0,s.jsx)(o.Z,{label:"To",optionGroups:k,title:"Choose an account",onSelect:e=>{E("to"),I("to",e)},type:"input",placeholder:`Recipient ${null!==(l=null===g||void 0===g?void 0:g.blockchain)&&void 0!==l?l:"blockchain"} address`,isFirstPreselected:!1,errorText:null===(c=w.to)||void 0===c?void 0:c.message,registerFunction:y("to",{required:"This field cannot be empty",validate:P("Ethereum"===(null===g||void 0===g?void 0:g.blockchain)?u.v.ETH:u.v.ICP)})}),(0,s.jsx)(o.zx,{className:"text-base !mt-[35px]",type:"primary",block:!0,onClick:T(S),icon:(0,s.jsx)(o.sK,{className:"rotate-[135deg]"}),children:"Send"})]})},F=e=>{let{transactionMessage:t,transactionRoute:a,onClose:i}=e;return(0,s.jsxs)("div",{id:"success_window",className:(0,n.Z)("text-black text-center","flex flex-grow flex-col justify-between"),children:[(0,s.jsxs)("div",{className:"flex-grow",children:[(0,s.jsx)(o.Ee,{className:"w-[240px] mx-auto",src:o.TF,alt:"success"}),(0,s.jsx)("p",{className:"text-xl font-bold",children:"Transaction successful"}),(0,s.jsx)("p",{className:"font-bold mt-[10px] mb-3",children:t}),(0,s.jsxs)("p",{className:(0,n.Z)("text-sm",!(null!==a&&void 0!==a&&a.length)&&"hidden"),children:["You can view transaction details in the ",(0,s.jsx)("br",{}),(0,s.jsx)("a",{target:"_blank",rel:"noreferrer",href:a,onClick:i,className:"transition-opacity cursor-pointer text-blue hover:opacity-75",children:"Transaction history"}),"."]})]}),(0,s.jsx)(o.zx,{type:"primary",block:!0,className:"mt-[36px]",onClick:i,children:"Close"})]})},Z=[{label:"Send",value:"send",icon:(0,s.jsx)(o.sK,{className:"rotate-[135deg]"})},{label:"Receive",value:"receive",icon:(0,s.jsx)(o.sK,{className:"-rotate-[45deg]"})}],O=()=>{const e=(0,i.useContext)(d.J),[t,a]=(0,l.L)(e.transferService);i.useEffect((()=>console.log("TransferModalCoordinator",{context:t.context,state:t.value})),[t.value,t.context]),i.useEffect((()=>{var e,n,i;null!==(e=t.context.error)&&void 0!==e&&null!==(n=e.message)&&void 0!==n&&n.length&&(r.Am.error(null===(i=t.context)||void 0===i?void 0:i.error.message,{toastId:"unexpectedTransferError"}),setTimeout((()=>{a({type:"ASSIGN_ERROR",data:""})}),5e3))}),[a,t.context.error]);const u=(0,i.useMemo)((()=>{var e,n,i,l,c,r;switch(!0){case t.matches("SendMachine.SendFT"):return(0,s.jsx)($,{selectedToken:null===(e=t.context)||void 0===e?void 0:e.selectedFT,selectedReceiverWallet:null===(n=t.context)||void 0===n?void 0:n.receiverWallet,selectedSourceWallet:null===(i=t.context)||void 0===i?void 0:i.sourceWalletAddress,selectedSourceAccount:null===(l=t.context)||void 0===l?void 0:l.sourceAccount,assignToken:e=>a({type:"ASSIGN_SELECTED_FT",data:e}),assignSourceWallet:e=>a({type:"ASSIGN_SOURCE_WALLET",data:e}),assignReceiverWallet:e=>a({type:"ASSIGN_RECEIVER_WALLET",data:e}),assignAmount:e=>a({type:"ASSIGN_AMOUNT",data:e}),assignFromAccount:e=>a({type:"ASSIGN_SOURCE_ACCOUNT",data:e}),onSubmit:()=>a({type:"ON_SUBMIT"})});case t.matches("SendMachine.SendNFT"):return(0,s.jsx)(L,{assignReceiverWallet:e=>a({type:"ASSIGN_RECEIVER_WALLET",data:e}),onSubmit:()=>a({type:"ON_SUBMIT"}),assignSelectedNFT:e=>a({type:"ASSIGN_SELECTED_NFT",data:e})});case t.matches("ReceiveMachine"):return(0,s.jsx)(T,{assignSelectedToken:e=>a({type:"ASSIGN_SELECTED_FT",data:e}),assignSourceWallet:e=>a({type:"ASSIGN_SOURCE_WALLET",data:e}),selectedToken:null===(c=t.context)||void 0===c?void 0:c.selectedFT,selectedSourceWallet:null===(r=t.context)||void 0===r?void 0:r.sourceWalletAddress});case t.matches("Success"):return(0,s.jsx)(F,{transactionMessage:t.context.successMessage,onClose:()=>a({type:"HIDE"})});default:return(0,s.jsx)(o.B$,{overlayClassnames:"z-10 rounded-xl",isLoading:!0})}}),[a,t]),p=(0,i.useCallback)((e=>a({type:"CHANGE_DIRECTION",data:e})),[a]),v=(0,i.useCallback)((e=>a({type:"CHANGE_TOKEN_TYPE",data:e?"nft":"ft"})),[a]);return t.matches("Hidden")?null:(0,s.jsx)("div",{className:(0,n.Z)(["transition ease-in-out delay-150 duration-300","z-40 top-0 left-0 w-full h-screen","fixed bg-opacity-75 bg-gray-600"]),style:{margin:0},onClick:()=>a("HIDE"),children:(0,s.jsxs)("div",{className:(0,n.Z)("rounded-xl shadow-lg p-5 text-black","z-20 bg-white absolute flex flex-col","left-1/2 -translate-x-1/2 top-1/2 -translate-y-1/2","w-[95%] sm:w-[450px] h-[540px]"),onClick:e=>e.stopPropagation(),children:[!t.matches("Success")&&(0,s.jsx)(o.mQ,{tabs:Z,defaultValue:t.context.direction,onValueChange:p,isFitLine:!1}),"send"===t.context.direction&&!t.matches("Success")&&(0,s.jsx)(c,{firstValue:"Token",secondValue:"Collectible",className:"mb-6",onChange:v,defaultValue:"nft"===t.context.tokenType}),u]})})};var H=a(58688),D=a(95163),V=a(45963),W=a(1719);const G=a.p+"static/media/send_receive.2189706c6d7fa8a1b884ebd5e7bce44d.svg",U=()=>{const e=(0,i.useContext)(d.J),[,t]=(0,l.L)(e.transferService);return(0,s.jsxs)("div",{id:"sendReceiveButton",children:[(0,s.jsx)(o.zx,{className:(0,n.Z)("px-[10px] py-[11px] hidden md:flex z-10"),id:"sendReceiveButton",onClick:()=>t("SHOW"),icon:(0,s.jsx)(o.Ee,{src:G,alt:"send/receive"}),children:"Send / Receive"}),(0,s.jsx)("div",{className:(0,n.Z)("md:hidden fixed bottom-3 right-3 w-12 h-12","bg-blue-600 flex items-center justify-center","rounded-full shadow-blueLight shadow-blue-600","cursor-pointer z-30"),onClick:()=>t("SHOW"),children:(0,s.jsx)(o.Ee,{className:"w-6 h-6",src:G,alt:"transaction"})})]})};var z=a(33492),J=a(27024);const K=e=>{let{className:t}=e;return(0,s.jsxs)("svg",{width:"70",height:"37",viewBox:"0 0 70 37",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:(0,n.Z)("",t),children:[(0,s.jsx)("path",{d:"M13.9423 10.0312C14.2583 10.0312 14.4163 10.0312 14.537 10.0956C14.6432 10.1521 14.7295 10.2424 14.7836 10.3534C14.8451 10.4796 14.8451 10.6448 14.8451 10.9752V25.4014C14.8451 25.7319 14.8451 25.8971 14.7836 26.0233C14.7295 26.1343 14.6432 26.2245 14.537 26.2811C14.4163 26.3454 14.2583 26.3454 13.9423 26.3454H11.6363C11.4803 26.3454 11.4023 26.3454 11.3301 26.325C11.2661 26.307 11.2056 26.2772 11.1515 26.2372C11.0904 26.1921 11.0406 26.1293 10.9411 26.0036L4.80368 18.2574C4.65611 18.0711 4.58232 17.978 4.51784 17.9682C4.46199 17.9598 4.40579 17.9809 4.36795 18.0247C4.32426 18.0753 4.32426 18.1962 4.32426 18.438V25.4014C4.32426 25.7319 4.32426 25.8971 4.26276 26.0233C4.20866 26.1343 4.12234 26.2245 4.01617 26.2811C3.89547 26.3454 3.73746 26.3454 3.42144 26.3454H0.902817C0.586801 26.3454 0.428793 26.3454 0.308091 26.2811C0.201919 26.2245 0.115598 26.1343 0.0615007 26.0233C0 25.8971 0 25.7319 0 25.4014V10.9752C0 10.6448 0 10.4796 0.0615007 10.3534C0.115598 10.2424 0.201919 10.1521 0.308091 10.0956C0.428793 10.0312 0.586801 10.0312 0.902816 10.0312H3.20881C3.36481 10.0312 3.44281 10.0312 3.51506 10.0516C3.57906 10.0697 3.63952 10.0994 3.69367 10.1394C3.75477 10.1846 3.80453 10.2474 3.90405 10.373L10.0415 18.1193C10.189 18.3055 10.2628 18.3987 10.3273 18.4084C10.3831 18.4169 10.4393 18.3957 10.4772 18.352C10.5209 18.3014 10.5209 18.1805 10.5209 17.9386V10.9752C10.5209 10.6448 10.5209 10.4796 10.5824 10.3534C10.6365 10.2424 10.7228 10.1521 10.829 10.0956C10.9497 10.0312 11.1077 10.0312 11.4237 10.0312H13.9423Z",fill:"black"}),(0,s.jsx)("path",{d:"M22.4022 13.5971C22.3074 13.5971 22.26 13.5971 22.2237 13.6164C22.1919 13.6333 22.166 13.6604 22.1498 13.6937C22.1313 13.7316 22.1313 13.7811 22.1313 13.8802V16.903C22.1313 17.0021 22.1313 17.0517 22.1498 17.0895C22.166 17.1228 22.1919 17.1499 22.2237 17.1669C22.26 17.1862 22.3074 17.1862 22.4022 17.1862H28.1161C28.4321 17.1862 28.5901 17.1862 28.7108 17.2505C28.817 17.307 28.9033 17.3973 28.9574 17.5083C29.0189 17.6345 29.0189 17.7997 29.0189 18.1301V19.808C29.0189 20.1384 29.0189 20.3036 28.9574 20.4299C28.9033 20.5409 28.817 20.6311 28.7108 20.6877C28.5901 20.752 28.4321 20.752 28.1161 20.752H22.4022C22.3074 20.752 22.26 20.752 22.2237 20.7713C22.1919 20.7882 22.166 20.8153 22.1498 20.8486C22.1313 20.8865 22.1313 20.936 22.1313 21.0352V25.4014C22.1313 25.7319 22.1313 25.8971 22.0698 26.0233C22.0157 26.1343 21.9294 26.2245 21.8232 26.2811C21.7025 26.3454 21.5445 26.3454 21.2285 26.3454H18.6207C18.3047 26.3454 18.1467 26.3454 18.026 26.2811C17.9198 26.2245 17.8335 26.1343 17.7794 26.0233C17.7179 25.8971 17.7179 25.7319 17.7179 25.4014V10.9752C17.7179 10.6448 17.7179 10.4796 17.7794 10.3534C17.8335 10.2424 17.9198 10.1521 18.026 10.0956C18.1467 10.0312 18.3047 10.0312 18.6207 10.0312H29.0523C29.3683 10.0312 29.5263 10.0312 29.647 10.0956C29.7532 10.1521 29.8395 10.2424 29.8936 10.3534C29.9551 10.4796 29.9551 10.6448 29.9551 10.9752V12.6531C29.9551 12.9835 29.9551 13.1487 29.8936 13.2749C29.8395 13.3859 29.7532 13.4762 29.647 13.5328C29.5263 13.5971 29.3683 13.5971 29.0523 13.5971H22.4022Z",fill:"black"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M44.2751 2.05897C44.7399 2.00715 45.0766 1.57116 45.027 1.08516C44.9774 0.599165 44.5605 0.24719 44.0957 0.299006L42.3671 0.491699C41.4815 0.590417 40.7712 0.669594 40.1943 0.778949C39.6 0.891604 39.0907 1.0456 38.6177 1.32278C37.8497 1.77281 37.213 2.43227 36.7756 3.23088C36.5062 3.72285 36.3545 4.25376 36.2418 4.87364C36.1323 5.47528 36.0507 6.21649 35.9489 7.14043L35.9445 7.18023L35.7748 8.94512C35.7281 9.43142 36.0672 9.86528 36.5323 9.91418C36.9974 9.96308 37.4123 9.6085 37.4591 9.1222L37.6276 7.37003C37.7335 6.40833 37.8085 5.73352 37.9047 5.20436C37.9992 4.68504 38.1047 4.36599 38.2447 4.11035C38.5296 3.59007 38.9445 3.16021 39.4453 2.86678C39.6914 2.72253 39.9981 2.61494 40.4963 2.52049C41.005 2.42406 41.6536 2.3512 42.5785 2.2481L44.2751 2.05897ZM60.744 1.08516C60.6944 1.57116 61.0311 2.00715 61.4959 2.05897L63.1925 2.2481C64.1174 2.3512 64.766 2.42406 65.2747 2.52049C65.7729 2.61494 66.0796 2.72253 66.3257 2.86678C66.8265 3.16021 67.2414 3.59007 67.5263 4.11035C67.6663 4.36599 67.7718 4.68504 67.8663 5.20436C67.9625 5.73352 68.0375 6.40833 68.1434 7.37003L68.3119 9.1222C68.3587 9.6085 68.7736 9.96308 69.2387 9.91418C69.7038 9.86528 70.0429 9.43142 69.9962 8.94512L69.8265 7.18023L69.8221 7.14043C69.7203 6.21649 69.6387 5.47528 69.5292 4.87364C69.4165 4.25376 69.2648 3.72285 68.9953 3.23088C68.558 2.43227 67.9213 1.77281 67.1533 1.32278C66.6803 1.0456 66.171 0.891604 65.5767 0.778949C64.9998 0.669594 64.2895 0.590417 63.4039 0.491699L61.6753 0.299006C61.2105 0.24719 60.7935 0.599165 60.744 1.08516ZM60.7435 35.2913C60.6939 34.8053 61.0306 34.3693 61.4954 34.3175L63.192 34.1284C64.1169 34.0253 64.7655 33.9524 65.2742 33.856C65.7724 33.7615 66.0791 33.6539 66.3252 33.5097C66.826 33.2163 67.2409 32.7864 67.5259 32.2661C67.6658 32.0105 67.7713 31.6914 67.8658 31.1721C67.962 30.6429 68.037 29.9681 68.1429 29.0064L68.3114 27.2543C68.3582 26.768 68.7731 26.4134 69.2382 26.4623C69.7033 26.5112 70.0425 26.945 69.9957 27.4313L69.826 29.1962L69.8216 29.236C69.7198 30.16 69.6382 30.9012 69.5287 31.5028C69.416 32.1227 69.2643 32.6536 68.9949 33.1456C68.5575 33.9442 67.9208 34.6037 67.1528 35.0537C66.6798 35.3309 66.1705 35.4849 65.5762 35.5975C64.9993 35.7069 64.289 35.786 63.4034 35.8848L61.6749 36.0775C61.21 36.1293 60.7931 35.7773 60.7435 35.2913ZM45.027 35.2912C45.0766 34.8052 44.7399 34.3692 44.2751 34.3174L42.5785 34.1283C41.6536 34.0252 41.005 33.9523 40.4963 33.8559C39.9981 33.7614 39.6914 33.6538 39.4453 33.5096C38.9445 33.2162 38.5296 32.7863 38.2447 32.266C38.1047 32.0104 37.9992 31.6913 37.9047 31.172C37.8085 30.6428 37.7335 29.968 37.6276 29.0063L37.4591 27.2542C37.4123 26.7679 36.9974 26.4133 36.5323 26.4622C36.0672 26.5111 35.7281 26.9449 35.7748 27.4312L35.9445 29.1961L35.9489 29.2359C36.0507 30.1599 36.1323 30.9011 36.2418 31.5027C36.3545 32.1226 36.5062 32.6535 36.7756 33.1455C37.213 33.9441 37.8497 34.6036 38.6177 35.0536C39.0907 35.3308 39.6 35.4848 40.1943 35.5974C40.7712 35.7068 41.4815 35.7859 42.3671 35.8847L44.0957 36.0774C44.5605 36.1292 44.9774 35.7772 45.027 35.2912ZM44.8358 11.3653C44.2836 11.3653 43.8358 11.813 43.8358 12.3653V24.2729C43.8358 24.8252 44.2836 25.2729 44.8358 25.2729H46.5982C47.1505 25.2729 47.5982 24.8252 47.5982 24.2729V12.3653C47.5982 11.813 47.1505 11.3653 46.5982 11.3653H44.8358ZM51.0701 11.3653C50.5178 11.3653 50.0701 11.813 50.0701 12.3653V24.2729C50.0701 24.8252 50.5178 25.2729 51.0701 25.2729H56.3597C57.8166 25.2729 59.1087 24.9881 60.2361 24.4186C61.3636 23.849 62.2377 23.041 62.8584 21.9947C63.4791 20.9483 63.7895 19.7231 63.7895 18.3191C63.7895 16.9151 63.4791 15.6899 62.8584 14.6435C62.2377 13.5971 61.3636 12.7891 60.2361 12.2196C59.1087 11.65 57.8166 11.3653 56.3597 11.3653H51.0701ZM58.944 21.1205C58.2599 21.796 57.3478 22.1337 56.2077 22.1337H54.1325C53.9668 22.1337 53.8325 21.9994 53.8325 21.8337V14.8044C53.8325 14.6387 53.9668 14.5044 54.1325 14.5044H56.2077C57.3478 14.5044 58.2599 14.8422 58.944 15.5177C59.6407 16.1932 59.9891 17.127 59.9891 18.3191C59.9891 19.5111 59.6407 20.4449 58.944 21.1205Z",fill:"url(#paint0_linear_2608_11359)"}),(0,s.jsx)("defs",{children:(0,s.jsxs)("linearGradient",{id:"paint0_linear_2608_11359",x1:"43.9989",y1:"12.2042",x2:"56.4702",y2:"29.5414",gradientUnits:"userSpaceOnUse",children:[(0,s.jsx)("stop",{stopColor:"#CC5CDC"}),(0,s.jsx)("stop",{offset:"0.244792",stopColor:"#7B66FF"}),(0,s.jsx)("stop",{offset:"0.520833",stopColor:"#1F8AF0"}),(0,s.jsx)("stop",{offset:"0.760417",stopColor:"#00D1FF"}),(0,s.jsx)("stop",{offset:"1",stopColor:"#3DEDD7"})]})})]})},Y=e=>{let{className:t,nav:a=!1}=e;return(0,s.jsx)("a",{href:a?"/":"#",className:(0,n.Z)("flex items-center space-x-2 font-black tracking-wide text-black select-none",a?"hover:scale-110 transition-all duration-300 text-2xl":"pointer-events-none text-3xl",t),children:(0,s.jsx)(K,{})})};var X=a(56421),Q=a(53211);const ee=a.p+"static/media/menu.29cb4cd98126e26e0cdc0154987b1478.svg";var te=a(92266),ae=a(46520),ne=a(8439);const ie=e=>{let{icon:t,title:a,onClick:i,className:l,isActive:c,to:r,id:d}=e;return(0,s.jsxs)(ne.rU,{id:d,to:r,className:(0,n.Z)("h-[50px] flex items-center space-x-2.5 px-2.5 rounded-[4px]","hover:bg-gray-100 transition-colors cursor-pointer","md:w-[50px] md:justify-center","lg:w-auto lg:justify-start",c&&"bg-gray-100"),children:[(0,s.jsx)("div",{className:(0,n.Z)("w-6 h-6",c?"bg-blue-600":"bg-gray-700"),style:{mask:`url(${(0,o.Jn)(t)})`,WebkitMask:`url(${(0,o.Jn)(t)})`}}),(0,s.jsx)("span",{className:(0,n.Z)(null!==l&&void 0!==l?l:"text-sm font-semibold text-gray-700","sm:block md:hidden lg:block"),children:a})]})},oe=e=>{let{id:t,className:a}=e;return(0,s.jsx)("div",{id:t,className:(0,n.Z)("sticky top-4",a),children:ae.BN.map(((e,t)=>(0,s.jsx)(ie,{icon:e.icon,title:e.title,to:e.link,isActive:window.location.pathname.includes(e.link),id:e.id},`sidebarItem_${t}`)))})},le=e=>{var t;let{className:a}=e;const[l,c]=i.useState(!1),r=(0,Q.Z)((()=>c(!1))),{profile:d}=(0,R.Un)(),{logout:u}=(0,W.J)(),p=(0,D.s0)();return(0,z.I)(null===d||void 0===d?void 0:d.anchor),(0,s.jsxs)("div",{className:(0,n.Z)("w-full h-28 flex justify-between items-center pt-14","md:h-[70px] md:pt-0",a),children:[(0,s.jsx)(Y,{}),(0,s.jsxs)("div",{className:(0,n.Z)("hidden","md:flex md:space-x-5 md:h-10"),children:[(0,s.jsx)(U,{}),(0,s.jsxs)("div",{className:(0,n.Z)("relative"),ref:r,id:"profile",children:[(0,s.jsx)(o.Ee,{className:(0,n.Z)("cursor-pointer w-10"),src:V.Z,alt:"profile icon",onClick:()=>c(!l)}),l&&(0,s.jsx)(te.Z,{onSignOut:u,anchor:null!==(t=null===d||void 0===d?void 0:d.anchor)&&void 0!==t?t:0})]})]}),(0,s.jsxs)("div",{className:"md:hidden",children:[(0,s.jsx)(X.x,{buttonElement:(0,s.jsx)(o.Ee,{id:"mobile-menu",src:ee,alt:"menu",className:(0,n.Z)("transform rotate-180","md:hidden")}),children:e=>{var t,a;return(0,s.jsxs)("div",{className:(0,n.Z)("pl-2 pt-20 font-bold bg-white rounded w-[70vw] z-50"),children:[(0,s.jsx)(J.U,{isBorder:!1,style:{padding:0},detailsClassName:"pb-0",title:(0,s.jsxs)("div",{className:"h-[60px] items-center flex p-2.5",id:"profile-mobile",children:[(0,s.jsx)("div",{className:"flex items-center justify-center w-10 h-10 rounded-full bg-blue-base shrink-0",onClick:e,children:(0,s.jsx)(o.Ee,{src:V.Z,alt:"user",className:"cursor-pointer"})}),(0,s.jsx)("p",{className:"text-sm text-gray-700 px-2.5 w-full",children:null!==(t=null!==(a=null===d||void 0===d?void 0:d.name)&&void 0!==a?a:null===d||void 0===d?void 0:d.anchor)&&void 0!==t?t:""})]}),details:(0,s.jsxs)("div",{className:"text-sm font-light text-black pl-[60px]",id:"profile-mobile-details",children:[(0,s.jsx)("div",{className:"flex items-center h-10",onClick:()=>p("/faq"),children:"Help"}),(0,s.jsx)("div",{className:"flex items-center h-10",onClick:u,children:"Log out"})]})}),(0,s.jsx)(oe,{id:"mobile",className:"mt-5"})]})}}),(0,s.jsx)(U,{})]})]})},se=e=>{let{pageTitle:t,icon:a,showBackButton:l,onIconClick:c,children:r,className:d,headerClassName:u,containerClassName:p,isLoading:v=!1,headerMenu:h,iconTooltip:m}=e;const x=i.useCallback((()=>{window.history.back()}),[]);return(0,s.jsxs)("div",{className:(0,n.Z)("relative min-h-screen overflow-hidden"),children:[(0,s.jsx)(le,{className:(0,n.Z)("px-4 sm:px-[30px]",u)}),(0,s.jsx)(O,{}),(0,s.jsxs)("div",{className:(0,n.Z)("h-[calc(100vh-70px)] relative z-1 px-4","sm:gap-[30px] sm:px-[30px]","md:grid md:grid-cols-[50px,1fr]","lg:grid-cols-[256px,1fr]","overflow-auto",p),children:[(0,s.jsx)("div",{className:(0,n.Z)("hidden mt-5 -ml-3 md:block relative"),children:(0,s.jsx)(oe,{id:"desktop"})}),(0,s.jsxs)("section",{className:(0,n.Z)("relative",d),children:[(0,s.jsxs)("div",{className:"flex justify-between h-[70px] items-start mt-5",children:[(0,s.jsxs)("div",{className:"sticky left-0 flex items-center space-x-2",children:[l&&(0,s.jsx)(o.b4,{onClick:x}),(0,s.jsx)("p",{className:"text-[28px] block",id:"page_title",children:t})]}),a&&c&&(0,s.jsx)(o.u,{tip:m,children:(0,s.jsx)(o.Ee,{src:a,alt:"icon",onClick:c,className:"w-6 h-6 transition-all cursor-pointer hover:opacity-70"})}),h]}),r]})]}),(0,s.jsx)(H.a,{isLoading:v})]})}},50259:(e,t,a)=>{a.d(t,{a:()=>n});const n=(e,t,a)=>{if(e.length<t)return e;if(a){const n=e.length-a;return`${e.slice(0,t)}...${e.slice(n)}`}return`${e.slice(0,t)}...`}}}]);
//# sourceMappingURL=565.f90f314e.chunk.js.map