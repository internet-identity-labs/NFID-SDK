"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[359],{78359:(e,r,s)=>{s.r(r),s.d(r,{AppScreenRecoverNFID:()=>p,default:()=>N});var i=s(9516),a=s(87273),o=s(4039),l=s(44190),n=s(18414),c=s(84463),t=s(82898),d=s(74912),h=s(21699),v=s(58688),m=s(12939),u=s(45373),g=s(33693);const y=e=>{var r;let{className:s,toggle:i,isVerifiedDomain:o,onRecover:l,isLoading:y,responseError:x}=e;const{register:f,formState:{errors:p},setError:N,handleSubmit:j}=(0,c.cI)({mode:"all"});return a.useEffect((()=>{x&&N("recoveryPhrase",{type:"manual",message:x})}),[x,N]),(0,g.jsx)(u.q,{isFocused:!0,showLogo:!0,children:(0,g.jsx)("main",{className:(0,n.Z)("flex flex-1"),children:(0,g.jsx)("div",{className:(0,n.Z)(h.S),children:(0,g.jsx)("div",{className:"grid h-full grid-cols-12",children:(0,g.jsx)("div",{className:"flex flex-col col-span-12 md:col-span-11 lg:col-span-7",children:(0,g.jsx)("div",{className:(0,n.Z)("",s),children:(0,g.jsxs)("div",{children:[(0,g.jsx)(m.H2,{className:"mb-4",children:"Recover NFID"}),(0,g.jsx)("div",{className:(0,n.Z)("mb-6"),children:"Paste your recovery phrase here to proceed:"}),(0,g.jsx)(t.Kx,{rows:6,errorText:null===p||void 0===p||null===(r=p.recoveryPhrase)||void 0===r?void 0:r.message,...f("recoveryPhrase",{required:{value:!0,message:"Please enter your Recovery Phrase"}})}),(0,g.jsxs)("div",{children:[(0,g.jsx)("input",{type:"checkbox",id:"has-verified-domain",className:"rounded",onChange:i,checked:o}),(0,g.jsx)("label",{htmlFor:"has-verified-domain",className:"ml-2",children:"I got to this screen by first going to https://nfid.one, being redirected to this landing page, and following the link to recover my NFID."})]}),(0,g.jsx)(d.z,{primary:!0,large:!0,className:"my-4",id:"recovery-button",onClick:j(l),disabled:!o,children:"Recover"}),(0,g.jsx)(v.a,{isLoading:y})]})})})})})})})};var x=s(19511),f=s(1719);const p=e=>{let{registerDeviceDeciderPath:r,isVerifiedDomainDefault:s}=e;const[n,c]=(0,a.useState)(null),[t,d]=a.useReducer((e=>!e),!!s),{refreshProfile:h}=(0,o.m)(),{navigate:v}=(0,x.Z)(),{loginWithRecovery:m,isLoading:u}=(0,f.J)(),p=a.useCallback((async e=>{var s;const a=e.recoveryPhrase.trim(),o=a.split(" ")[0],n=(0,l.y)(o),t=a.split(`${n} `)[1];if(!n)return c("Invalid Recovery Phrase (missing Anchor)");let d=null;try{c(""),d=await m(t,n),await h()}catch(u){return console.error(u),c("We cannot restore your NFID with this recovery phrase. Please check it and try again.")}if("ok"!==(null===(s=d)||void 0===s?void 0:s.tag))return c("We cannot restore your NFID with this recovery phrase. Please check it and try again.");i.av({id:n.toString()}),v(r,{state:{userNumber:n}})}),[m,v,h,r]);return(0,g.jsx)(y,{onRecover:p,toggle:d,isVerifiedDomain:t,responseError:n,isLoading:u})},N=p}}]);
//# sourceMappingURL=359.71fce7c5.chunk.js.map