"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[921],{34921:(n,e,a)=>{a.r(e),a.d(e,{default:()=>d});var t=a(87273),l=a(44236),o=a(75557),i=a(12952),c=a(73971),u=a(33693);const d=n=>{var e;let{appMeta:a,rpcMessage:d,rpcMessageDecoded:r,populatedTransaction:s,disableConfirmButton:p,onConfirm:v,onReject:m}=n;const{rates:b}=(0,i.h)(),k=(0,t.useMemo)((()=>(0,l.l)(b,s)),[b,s]),B=(0,t.useMemo)((()=>{if(!k)return[];let n=[];return k.isNetworkIsBusyWarning&&n.push({title:"Network is busy",subtitle:(0,u.jsxs)(u.Fragment,{children:["Gas prices are high and estimates are less accurate.",(0,u.jsx)("span",{className:"text-blue-600",children:" Adjust the network fee."})]})}),n}),[k]),h=(0,t.useMemo)((()=>{var n,e;return null===r||void 0===r||null===(n=r.data)||void 0===n||null===(e=n.items)||void 0===e?void 0:e.map((n=>{var e,a,t,l,i,c,u,d,r,s;return{icon:null===n||void 0===n||null===(e=n.item)||void 0===e||null===(a=e.data)||void 0===a||null===(t=a.meta)||void 0===t||null===(l=t.content[0])||void 0===l?void 0:l.url,title:null===n||void 0===n||null===(i=n.item)||void 0===i||null===(c=i.data)||void 0===c||null===(u=c.meta)||void 0===u?void 0:u.name,subtitle:null===n||void 0===n||null===(d=n.item)||void 0===d||null===(r=d.data)||void 0===r||null===(s=r.collectionData)||void 0===s?void 0:s.name,innerTitle:Number(null===n||void 0===n?void 0:n.amount)/10**18+" ETH",innerSubtitle:(0,o.tF)(Number(null===n||void 0===n?void 0:n.amount)/10**18,b.ETH)}}))}),[b,null===r||void 0===r||null===(e=r.data)||void 0===e?void 0:e.items]),f=(0,t.useMemo)((()=>{var n;if(s)return String(Number(null===(n=s[0])||void 0===n?void 0:n.value)/10**18)}),[s]);return(0,u.jsx)(c.i,{title:"Buy multiple collectibles",applicationMeta:a,fromAddress:null===d||void 0===d?void 0:d.params[0].from,toAddress:null===d||void 0===d?void 0:d.params[0].to,network:"Ethereum",networkFee:k.fee,totalUSD:k.totalUsd,totalToken:k.total,price:f,currency:"ETH",onApprove:v,disableApproveButton:p,isInsufficientBalance:k.isInsufficientFundsError,warnings:B,onCancel:m,assets:h})}},75557:(n,e,a)=>{a.d(e,{RJ:()=>u,tF:()=>i});var t=a(13791),l=a(54915);const o=n=>/^Account #\d*$/.test(n)||void 0===n||""===n;a(51921);const i=(n,e)=>0!==e?`$${(e*n).toFixed(2)}`:"";function c(n){var e;let{toPresentation:a,appName:c,currentAppTotalBalance:u,token:d,accountBalance:r,exchangeRate:s,applicationMatch:p,currentApp:v,isExplicitlyIncluded:m}=n;return{icon:null===p||void 0===p?void 0:p.icon,appName:c,tokenBalance:u,accounts:[...null!==(e=null===v||void 0===v?void 0:v.accounts)&&void 0!==e?e:[],...r.balance[d]>0||m?[{accountName:o(r.account.label)||!r.account.label?`account ${parseInt(r.account.accountId)+1}`:r.account.label,principalId:r.principalId,address:(0,l.PZ)(t.Principal.fromText(r.principalId)),tokenBalance:r.balance[d],usdBalance:i(a(r.balance[d]),s)}]:[]].sort(((n,e)=>n.accountName.localeCompare(e.accountName)))}}const u=n=>{let{toPresentation:e,balances:a,applications:t=[],exchangeRate:l,excludeEmpty:o,includeEmptyApps:u,label:d,token:r,icon:s}=n;return a.reduce(((n,a)=>{var d;const r=t.find((n=>n.domain===a.account.domain)),s=r?r.name:a.account.domain,p=n.applications[s],v=n.tokenBalance+a.balance[n.token],m=((null===(d=n.applications[s])||void 0===d?void 0:d.tokenBalance)||BigInt(0))+a.balance[n.token],b=u.includes((null===r||void 0===r?void 0:r.domain)||"")||u.includes((null===r||void 0===r?void 0:r.name)||"");return o&&!b&&m===BigInt(0)?n:{...n,icon:n.icon,tokenBalance:v,usdBalance:i(e(v),l),applications:{...n.applications,[s]:c({toPresentation:e,appName:s,currentAppTotalBalance:m,token:n.token,accountBalance:a,exchangeRate:l,applicationMatch:r,currentApp:p,isExplicitlyIncluded:b})}}}),{label:d,token:r,icon:s,tokenBalance:BigInt(0),usdBalance:"0",applications:{}})}}}]);
//# sourceMappingURL=921.72c47eb7.chunk.js.map