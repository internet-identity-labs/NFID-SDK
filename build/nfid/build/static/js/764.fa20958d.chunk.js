"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[764],{38352:(e,t,n)=>{n.d(t,{q:()=>s});var r=n(21882),a=n(33693);const s=e=>{let{applicationURL:t}=e;return(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)("span",{children:"Request from"}),(0,a.jsx)("a",{className:"text-blue hover:opacity-70",href:`https://${t}`,target:"_blank",rel:"noreferrer",children:t}),(0,a.jsx)(r.u,{tip:"Verify app url",children:(0,a.jsx)(r.Ek,{className:"w-4 text-black"})})]})}},98320:(e,t,n)=>{n.r(t),n.d(t,{default:()=>c});var r=n(88250),a=n(87273),s=n(44236),i=n(12952),o=n(73971),l=n(33693);const c=e=>{var t,n,c,d,u,p,m,y,h,v,f,g,b,x,w,T,A,E,j,N,R,P,C,M,S,O,k,D,_,I;let{appMeta:F,rpcMessage:L,rpcMessageDecoded:U,populatedTransaction:B,disableConfirmButton:q,onConfirm:z,onReject:H}=e;const{rates:$}=(0,i.h)(),{symbol:V,currency:W,chainName:G}=r.v.getSymbolAndChainName(L.options.chainId),Z=$[W],Y=(0,a.useMemo)((()=>(0,s.l)(Z,B)),[Z,B]),Q=(0,a.useMemo)((()=>{var e,t,n,r,a,s;if(!Y)return[];let i=[];return null!==U&&void 0!==U&&null!==(e=U.data)&&void 0!==e&&null!==(t=e.meta)&&void 0!==t&&t.content[0].url||null!==U&&void 0!==U&&null!==(n=U.data)&&void 0!==n&&null!==(r=n.meta)&&void 0!==r&&r.name||null===U||void 0===U||null===(a=U.data)||void 0===a||null===(s=a.collectionData)||void 0===s||!s.name||i.push({title:"Preview unavailable",subtitle:"Unable to estimate asset changes. Please make sure you trust this dapp."}),Y.isNetworkIsBusyWarning&&i.push({title:"Network is busy",subtitle:(0,l.jsxs)(l.Fragment,{children:["Gas prices are high and estimates are less accurate.",(0,l.jsx)("span",{className:"text-blue-600",children:" Adjust the network fee."})]})}),i}),[Y,null===U||void 0===U||null===(t=U.data)||void 0===t||null===(n=t.collectionData)||void 0===n?void 0:n.name,null===U||void 0===U||null===(c=U.data)||void 0===c||null===(d=c.meta)||void 0===d?void 0:d.content,null===U||void 0===U||null===(u=U.data)||void 0===u||null===(p=u.meta)||void 0===p?void 0:p.name]);return(0,l.jsx)(o.i,{title:`Review ${null!==(m=null===U||void 0===U?void 0:U.method)&&void 0!==m?m:""}`,applicationMeta:F,fromAddress:null!==(y=null===L||void 0===L?void 0:L.params[0].from)&&void 0!==y?y:null===U||void 0===U?void 0:U.from,toAddress:null===L||void 0===L?void 0:L.params[0].to,networkFee:Y.fee,totalUSD:Y.totalUsd,totalToken:null!==(h=Y.total)&&void 0!==h?h:null===U||void 0===U?void 0:U.total,network:G,currency:V,onApprove:z,disableApproveButton:q,isInsufficientBalance:Y.isInsufficientFundsError,warnings:Q,onCancel:H,assets:[{icon:null!==(v=null===U||void 0===U||null===(f=U.data)||void 0===f||null===(g=f.meta)||void 0===g?void 0:g.content[0].url)&&void 0!==v?v:null===U||void 0===U||null===(b=U.data)||void 0===b||null===(x=b.makeAsset)||void 0===x||null===(w=x.data)||void 0===w||null===(T=w.meta)||void 0===T?void 0:T.content[0].url,title:null!==(A=null===U||void 0===U||null===(E=U.data)||void 0===E||null===(j=E.meta)||void 0===j?void 0:j.name)&&void 0!==A?A:null===U||void 0===U||null===(N=U.data)||void 0===N||null===(R=N.makeAsset)||void 0===R||null===(P=R.data)||void 0===P||null===(C=P.meta)||void 0===C?void 0:C.name,subtitle:null!==(M=null===U||void 0===U||null===(S=U.data)||void 0===S||null===(O=S.collectionData)||void 0===O?void 0:O.name)&&void 0!==M?M:null===U||void 0===U||null===(k=U.data)||void 0===k||null===(D=k.makeAsset)||void 0===D||null===(_=D.data)||void 0===_||null===(I=_.collectionData)||void 0===I?void 0:I.name}]})}},70764:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Ve});var r=n(64279),a=n(87273),s=n(21882),i=n(62233),o=n(80661),l=n(53844),c=n(84732),d=n(21325),u=n(99473),p=n(23439);var m=n(25390),y=n(66793),h=function(e){return e&&"number"===typeof e.length&&"function"!==typeof e},v=n(65661);var f=n(10184),g=n(76337);var b="function"===typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";var x=n(19949);function w(e){if(e instanceof f.y)return e;if(null!=e){if(function(e){return(0,v.m)(e[g.L])}(e))return s=e,new f.y((function(e){var t=s[g.L]();if((0,v.m)(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(h(e))return a=e,new f.y((function(e){for(var t=0;t<a.length&&!e.closed;t++)e.next(a[t]);e.complete()}));if(r=e,(0,v.m)(null===r||void 0===r?void 0:r.then))return n=e,new f.y((function(e){n.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,x.h)}));if(function(e){return Symbol.asyncIterator&&(0,v.m)(null===e||void 0===e?void 0:e[Symbol.asyncIterator])}(e))return T(e);if(function(e){return(0,v.m)(null===e||void 0===e?void 0:e[b])}(e))return t=e,new f.y((function(e){var n,r;try{for(var a=(0,y.XA)(t),s=a.next();!s.done;s=a.next()){var i=s.value;if(e.next(i),e.closed)return}}catch(o){n={error:o}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}e.complete()}));if(function(e){return(0,v.m)(null===e||void 0===e?void 0:e.getReader)}(e))return T(function(e){return(0,y.FC)(this,arguments,(function(){var t,n,r;return(0,y.Jh)(this,(function(a){switch(a.label){case 0:t=e.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,(0,y.qq)(t.read())];case 3:return n=a.sent(),r=n.value,n.done?[4,(0,y.qq)(void 0)]:[3,5];case 4:return[2,a.sent()];case 5:return[4,(0,y.qq)(r)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}(e))}var t,n,r,a,s;throw function(e){return new TypeError("You provided "+(null!==e&&"object"===typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}(e)}function T(e){return new f.y((function(t){(function(e,t){var n,r,a,s;return(0,y.mG)(this,void 0,void 0,(function(){var i,o;return(0,y.Jh)(this,(function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),n=(0,y.KL)(e),l.label=1;case 1:return[4,n.next()];case 2:if((r=l.sent()).done)return[3,4];if(i=r.value,t.next(i),t.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return o=l.sent(),a={error:o},[3,11];case 6:return l.trys.push([6,,9,10]),r&&!r.done&&(s=n.return)?[4,s.call(n)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(a)throw a.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))}))})(e,t).catch((function(e){return t.error(e)}))}))}var A=n(1245),E=n(56487);var j=n(8555);function N(e,t,n){return void 0===n&&(n=1/0),(0,v.m)(t)?N((function(n,r){return(0,A.U)((function(e,a){return t(n,e,r,a)}))(w(e(n,r)))}),n):("number"===typeof t&&(n=t),(0,E.e)((function(t,r){return function(e,t,n,r,a,s,i,o){var l=[],c=0,d=0,u=!1,p=function(){!u||l.length||c||t.complete()},m=function(e){return c<r?y(e):l.push(e)},y=function(e){s&&t.next(e),c++;var o=!1;w(n(e,d++)).subscribe((0,j.x)(t,(function(e){null===a||void 0===a||a(e),s?m(e):t.next(e)}),(function(){o=!0}),void 0,(function(){if(o)try{c--;for(var e=function(){var e=l.shift();i?function(e,t,n,r,a){void 0===r&&(r=0),void 0===a&&(a=!1);var s=t.schedule((function(){n(),a?e.add(this.schedule(null,r)):this.unsubscribe()}),r);e.add(s)}(t,i,(function(){return y(e)})):y(e)};l.length&&c<r;)e();p()}catch(n){t.error(n)}})))};return e.subscribe((0,j.x)(t,m,(function(){u=!0,p()}))),function(){null===o||void 0===o||o()}}(t,r,e,n)})))}var R=Array.isArray;function P(e){return(0,A.U)((function(t){return function(e,t){return R(t)?e.apply(void 0,(0,y.ev)([],(0,y.CR)(t))):e(t)}(e,t)}))}var C=["addListener","removeListener"],M=["addEventListener","removeEventListener"],S=["on","off"];function O(e,t){return function(n){return function(r){return e[n](t,r)}}}var k=n(49638);const D={contract:"address",tokenId:"uint256"};var _=n(71552),I=n(44151);const F=new _.EthersEthereum(I.Wallet.createRandom());let L;!function(e){e.ERC721="0x73ad2146",e.ERC721_LAZY="0xd8f960c1",e.ERC1155="0x973bb640",e.ERC1155_LAZY="0x1cdfaa40"}(L||(L={}));const U=new class{constructor(e){this.ethereum=void 0,this.ethereum=e}map(e,t){const n=this.ethereum.decodeParameter({root:{abi:e}},t);return{collectionId:n[0][0][0],tokenId:n[0][0][1]}}mapLazy(e,t){const n="0x0000000000000000000000000000000000000000000000000000000000000020"+t.substring(2),r=this.ethereum.decodeParameter(e,n);return{collectionId:r[0][0],tokenId:r[0][1][0]}}}(F);const B=new class{constructor(e){this.assetDecoderService=void 0,this.assetDecoderService=e}getAbi(){return D}getMethod(){return L.ERC721}map(e){return this.assetDecoderService.map(this.getAbi(),e)}}(U),q={components:[{name:"contract",type:"address"},{components:[{name:"tokenId",type:"uint256"},{name:"uri",type:"string"},{components:[{name:"account",type:"address"},{name:"value",type:"uint96"}],name:"creators",type:"tuple[]"},{components:[{name:"account",type:"address"},{name:"value",type:"uint96"}],name:"royalties",type:"tuple[]"},{name:"signatures",type:"bytes[]"}],name:"data",type:"tuple"}],name:"data",type:"tuple"};const z=new class{constructor(e){this.AssetDecoderService=void 0,this.AssetDecoderService=e}getAbi(){return q}getMethod(){return L.ERC721_LAZY}map(e){return this.AssetDecoderService.mapLazy(this.getAbi(),e)}}(U);const H=new class{constructor(e){this.AssetDecoderService=void 0,this.AssetDecoderService=e}getAbi(){return D}getMethod(){return L.ERC1155}map(e){return this.AssetDecoderService.map(this.getAbi(),e)}}(U),$={components:[{name:"contract",type:"address"},{components:[{name:"tokenId",type:"uint256"},{name:"uri",type:"string"},{name:"supply",type:"uint256"},{components:[{name:"account",type:"address"},{name:"value",type:"uint96"}],name:"creators",type:"tuple[]"},{components:[{name:"account",type:"address"},{name:"value",type:"uint96"}],name:"royalties",type:"tuple[]"},{name:"signatures",type:"bytes[]"}],name:"data",type:"tuple"}],name:"data",type:"tuple"};const V=new class{constructor(e){this.AssetDecoderService=void 0,this.AssetDecoderService=e}getAbi(){return $}getMethod(){return L.ERC1155_LAZY}map(e){return this.AssetDecoderService.mapLazy(this.getAbi(),e)}}(U);const W=new class{group(e){return e.map((e=>({key:e.getMethod(),value:e}))).reduce(((e,t)=>(e[t.key]=t.value,e)),{})}};var G=n(45697);const Z=new class{decode(e,t){const n=t.name;try{var r,a,s,i;const o=new G.Interface([t]).decodeFunctionData(G.FunctionFragment.from(t),e),l=null!==(r=null===(a=t.inputs)||void 0===a?void 0:a.map((e=>{var t;return e.type.includes("tuple")?[e.name,null===(t=e.components)||void 0===t?void 0:t.map((e=>e.name))]:e.name})))&&void 0!==r?r:[];return{method:n,inputs:o,names:l,types:null!==(s=null===(i=t.inputs)||void 0===i?void 0:i.map((e=>{if(e.type.includes("tuple")){var t,n;return`(${null!==(t=null===(n=e.components)||void 0===n?void 0:n.map((e=>e.type)).join(","))&&void 0!==t?t:""})`}return e.type})))&&void 0!==s?s:[]}}catch(o){console.debug(`${n} is not a match`)}return{method:"",inputs:[],names:[],types:[]}}};var Y=n(13848);const Q={inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"};const X=new class{getAbi(){return Q}getMethod(){return"0x095ea7b3"}async map(e){const[t,n]=e.inputs;return Promise.resolve({interface:"Approve",method:"approve",data:{spender:t,amount:Y.O$.from(n).toString()}})}},J={inputs:[{components:[{internalType:"enum RaribleExchangeWrapper.Markets",name:"marketId",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"fees",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct RaribleExchangeWrapper.PurchaseDetails[]",name:"purchaseDetails",type:"tuple[]"},{internalType:"address",name:"feeRecipientFirst",type:"address"},{internalType:"address",name:"feeRecipientSecond",type:"address"},{internalType:"bool",name:"allowFail",type:"bool"}],name:"bulkPurchase",outputs:[],stateMutability:"payable",type:"function"};const K=new class{getAbi(){return J}getMethod(){return"0xb94ee332"}async map(e,t){let{inputs:n}=e;const[r,a,s,i]=n,o=r.map((async e=>{const[n,r,a,s]=e,i=await async function(e,t){return Pe.decode(e,t)}(s,t);return{amount:r.toString(),fees:a.toString(),item:i,marketId:n}})),l=await Promise.all(o);return Promise.resolve({interface:"BatchBuyRequest",method:"bulkPurchase",data:{allowFail:i,feeRecipientFirst:parseInt(a,16),feeRecipientSecond:parseInt(s,16),items:l}})}},ee={inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"};const te=new class{getAbi(){return ee}getMethod(){return"0x42966c68"}async map(e){const[t]=e.inputs;return Promise.resolve({interface:"Burn",method:"burn",data:{tokenId:t.toString()}})}},ne={inputs:[{components:[{internalType:"address",name:"maker",type:"address"},{components:[{components:[{internalType:"bytes4",name:"assetClass",type:"bytes4"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct LibAsset.AssetType",name:"assetType",type:"tuple"},{internalType:"uint256",name:"value",type:"uint256"}],internalType:"struct LibAsset.Asset",name:"makeAsset",type:"tuple"},{internalType:"address",name:"taker",type:"address"},{components:[{components:[{internalType:"bytes4",name:"assetClass",type:"bytes4"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct LibAsset.AssetType",name:"assetType",type:"tuple"},{internalType:"uint256",name:"value",type:"uint256"}],internalType:"struct LibAsset.Asset",name:"takeAsset",type:"tuple"},{internalType:"uint256",name:"salt",type:"uint256"},{internalType:"uint256",name:"start",type:"uint256"},{internalType:"uint256",name:"end",type:"uint256"},{internalType:"bytes4",name:"dataType",type:"bytes4"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct LibOrder.Order",name:"order",type:"tuple"}],name:"cancel",outputs:[],stateMutability:"nonpayable",type:"function"};const re=new class{getAbi(){return ne}getMethod(){return"0xe2864fe3"}async map(e,t){const[[n,r,a,[s,i],o,l,c]]=e.inputs,[d,u]=r[0];return{interface:"CancelOrder",method:"cancel",data:{maker:n,makeAsset:await Ce(d,u,t),taker:a,takeAssetPrice:i.toString(),salt:o.toString(),start:l.toString(),end:c.toString()}}}};class ae{getAbi(){throw new Error("Method not implemented.")}getMethod(){throw new Error("Method not implemented.")}async map(e){let{inputs:t}=e;const[n,r,a,s,i]=t;return Promise.resolve({interface:"CollectionRequest",method:"createToken",data:{name:n,symbol:r,baseURI:a,contractURI:s,isPrivate:!Array.isArray(i)}})}}const se={inputs:[{internalType:"string",name:"_name",type:"string"},{internalType:"string",name:"_symbol",type:"string"},{internalType:"string",name:"baseURI",type:"string"},{internalType:"string",name:"contractURI",type:"string"},{internalType:"uint256",name:"salt",type:"uint256"}],name:"createToken",outputs:[],stateMutability:"nonpayable",type:"function"};const ie=new class extends ae{getAbi(){return se}getMethod(){return"0x72397ad5"}},oe={inputs:[{internalType:"string",name:"_name",type:"string"},{internalType:"string",name:"_symbol",type:"string"},{internalType:"string",name:"baseURI",type:"string"},{internalType:"string",name:"contractURI",type:"string"},{internalType:"address[]",name:"operators",type:"address[]"},{internalType:"uint256",name:"salt",type:"uint256"}],name:"createToken",outputs:[],stateMutability:"nonpayable",type:"function"};const le=new class extends ae{getAbi(){return oe}getMethod(){return"0x27050d1f"}},ce={inputs:[{components:[{internalType:"address",name:"bidMaker",type:"address"},{internalType:"uint256",name:"bidNftAmount",type:"uint256"},{internalType:"bytes4",name:"nftAssetClass",type:"bytes4"},{internalType:"bytes",name:"nftData",type:"bytes"},{internalType:"uint256",name:"bidPaymentAmount",type:"uint256"},{internalType:"address",name:"paymentToken",type:"address"},{internalType:"uint256",name:"bidSalt",type:"uint256"},{internalType:"uint256",name:"bidStart",type:"uint256"},{internalType:"uint256",name:"bidEnd",type:"uint256"},{internalType:"bytes4",name:"bidDataType",type:"bytes4"},{internalType:"bytes",name:"bidData",type:"bytes"},{internalType:"bytes",name:"bidSignature",type:"bytes"},{internalType:"uint256",name:"sellOrderPaymentAmount",type:"uint256"},{internalType:"uint256",name:"sellOrderNftAmount",type:"uint256"},{internalType:"bytes",name:"sellOrderData",type:"bytes"}],internalType:"struct LibDirectTransfer.AcceptBid",name:"direct",type:"tuple"}],name:"directAcceptBid",outputs:[],stateMutability:"payable",type:"function"};const de=new class{getAbi(){return ce}getMethod(){return"0x67d49a3b"}async map(e,t){const[n,r,a,s,i,o,l,c,d,u,p,m,y,h,v]=e.inputs[0],f=await Ce(a,s,t);return Promise.resolve({interface:"DirectAcceptBid",method:"directAcceptBid",data:{bidMaker:n,bidNftAmount:r.toString(),nft:f,bidPaymentAmount:i.toString(),paymentToken:o,bidSalt:l.toString(),bidStart:c.toString(),bidEnd:d.toString(),bidDataType:u,bidData:p,bidSignature:m,sellOrderPaymentAmount:y.toString(),sellOrderNftAmount:h.toString(),sellOrderData:v}})}},ue={inputs:[{components:[{internalType:"address",name:"sellOrderMaker",type:"address"},{internalType:"uint256",name:"sellOrderNftAmount",type:"uint256"},{internalType:"bytes4",name:"nftAssetClass",type:"bytes4"},{internalType:"bytes",name:"nftData",type:"bytes"},{internalType:"uint256",name:"sellOrderPaymentAmount",type:"uint256"},{internalType:"address",name:"paymentToken",type:"address"},{internalType:"uint256",name:"sellOrderSalt",type:"uint256"},{internalType:"uint256",name:"sellOrderStart",type:"uint256"},{internalType:"uint256",name:"sellOrderEnd",type:"uint256"},{internalType:"bytes4",name:"sellOrderDataType",type:"bytes4"},{internalType:"bytes",name:"sellOrderData",type:"bytes"},{internalType:"bytes",name:"sellOrderSignature",type:"bytes"},{internalType:"uint256",name:"buyOrderPaymentAmount",type:"uint256"},{internalType:"uint256",name:"buyOrderNftAmount",type:"uint256"},{internalType:"bytes",name:"buyOrderData",type:"bytes"}],internalType:"struct LibDirectTransfer.Purchase",name:"direct",type:"tuple"}],name:"directPurchase",outputs:[],stateMutability:"payable",type:"function"};const pe=new class{getAbi(){return ue}getMethod(){return"0x0d5f7d35"}async map(e,t){let{inputs:n}=e;const[[,,r,a]]=n;return await Ce(r,a,t,"directPurchase")}},me={inputs:[{components:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"tokenURI",type:"string"},{components:[{internalType:"address payable",name:"account",type:"address"},{internalType:"uint96",name:"value",type:"uint96"}],internalType:"struct LibPart.Part[]",name:"creators",type:"tuple[]"},{components:[{internalType:"address payable",name:"account",type:"address"},{internalType:"uint96",name:"value",type:"uint96"}],internalType:"struct LibPart.Part[]",name:"royalties",type:"tuple[]"},{internalType:"bytes[]",name:"signatures",type:"bytes[]"}],internalType:"struct LibERC721LazyMint.Mint721Data",name:"data",type:"tuple"},{internalType:"address",name:"to",type:"address"}],name:"mintAndTransfer",outputs:[],stateMutability:"nonpayable",type:"function"};const ye=new class{getAbi(){return me}getMethod(){return"0x22a775b6"}async map(e){let{inputs:t}=e;const[[n,r,a,s,i],o]=t,l=a.map((e=>({creator:e[0],value:e[1].toString()})));return Promise.resolve({interface:"MintRequest",method:"mintAndTransfer",data:{tokenId:n.toString(),tokenURI:r,creators:l,royalties:s,signatures:i,to:o}})}},he={inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"};const ve=new class{getAbi(){return he}getMethod(){return"0xf242432a"}async map(e){let{inputs:t}=e;const[n,r,a,s,i]=t;return Promise.resolve({interface:"SafeTransferFrom",method:"safeTransferFrom",data:{from:n,to:r,id:a.toString(),amount:s.toString(),data:i}})}},fe={inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"};const ge=new class{getAbi(){return fe}getMethod(){return"0xa22cb465"}async map(e){const[t,n]=e.inputs;return Promise.resolve({interface:"SetApprovalForAll",method:"setApprovalForAll",data:{operator:t,approved:n}})}},be=e=>(Number(parseInt(e,16))/10**18).toString(),xe={method:"eth_sendTranscation",decode:async(e,t)=>{let[n]=e;const r=await Pe.decode(n.data,t);return Promise.resolve({interface:r.interface,method:r.method,data:r.data,from:n.from,to:n.to,maxFeePerGas:be(n.maxFeePerGas),maxPriorityFeePerGas:be(n.maxPriorityFeePerGas),value:n.value?be(n.value):void 0})}};var we=n(53734).Buffer;const Te={method:"personal_sign",decode:async e=>{const t=we.from(e[0].slice(2),"hex").toString("utf8"),n=e[1];return Promise.resolve({interface:"PersonalSign",method:"personalSign",data:{message:t},from:n})}},Ae={Order:{decode:async(e,t,n)=>{var r,a;const s=t.message.makeAsset.assetType,i=t.message.takeAsset.assetType,o=Object.values(L).includes(s.assetClass)?{method:"SellOrder",value:s,currency:i}:{method:"BidOrder",value:i,currency:s},l=await Pe.decodeByAssetClass(o.value.assetClass,o.value.data,n);if("0xaaaebeba"!==o.currency.assetClass)throw Error("Not a native token.");return Promise.resolve({interface:"Item",method:o.method,data:l.data,from:e,total:Number(null===t||void 0===t||null===(r=t.message)||void 0===r||null===(a=r.takeAsset)||void 0===a?void 0:a.value)/10**18})}},Mint721:{decode:async(e,t)=>{const{contract:n,uri:r,tokenId:a,royalties:s,creators:i}=t.message;return Promise.resolve({interface:"MintLazy721",method:"Mint721",from:e,data:{contract:n,uri:r,tokenId:a,royalties:s,creators:i}})}},Mint1155:{decode:async(e,t)=>{const{contract:n,uri:r,tokenId:a,supply:s,creators:i,royalties:o}=t.message,{account:l}=i[0];return Promise.resolve({interface:"MintLazy1155",method:"Mint1155",from:e,data:{contract:n,uri:r,tokenId:a,supply:s,account:l,creators:i,royalties:o}})}}},Ee={method:"eth_signTypedData_v4",decode:async(e,t)=>{let[n,r]=e;const a=JSON.parse(r),s=a.primaryType,i=Ae[s];if(!i)throw new Error("No sign typed data decoder found");return i.decode(n,a,t)}},je=W.group([re,de,te,ve,K,pe,ie,le,ye,ge,X]),Ne=W.group([B,z,H,V]),Re={eth_sendTransaction:xe,eth_signTypedData_v4:Ee,personal_sign:Te},Pe={decode(e,t){const n=e.substring(0,10),r=je[n];if(!r)throw new Error("No method decoder found");const a=r.getAbi(),s=Z.decode(e,a);return r.map(s,t)},async decodeByAssetClass(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"sell";const a=Ne[e];if(!a)throw new Error("No asset decoder found");const s=a.map(t),i="0x01"===n?"prod":"testnet",o=(0,k.createRaribleSdk)(null,i),[l,c]=await Promise.all([await o.apis.item.getItemById({itemId:`ETHEREUM:${s.collectionId}:${s.tokenId}`}),await o.apis.collection.getCollectionById({collection:`ETHEREUM:${null===s||void 0===s?void 0:s.collectionId}`})]);return{interface:"Item",method:r,data:{...l,collectionData:c}}},async decodeRpcMessage(e){var t;let{method:n,params:r,options:a}=e;const s=Re[n];if(!s)throw new Error("No rpc message decoder found");const i=await s.decode(r,null!==(t=a.chainId)&&void 0!==t?t:"");if(["directPurchase"].includes(i.method)&&!r[0].value)throw Error("Not a native token.");return i}};async function Ce(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"sell";return Pe.decodeByAssetClass(e,t,n,r)}const Me={jsonrpc:"2.0"},Se=function e(t,n,r,a){if((0,v.m)(r)&&(a=r,r=void 0),a)return e(t,n,r).pipe(P(a));var s=(0,y.CR)(function(e){return(0,v.m)(e.addEventListener)&&(0,v.m)(e.removeEventListener)}(t)?M.map((function(e){return function(a){return t[e](n,a,r)}})):function(e){return(0,v.m)(e.addListener)&&(0,v.m)(e.removeListener)}(t)?C.map(O(t,n)):function(e){return(0,v.m)(e.on)&&(0,v.m)(e.off)}(t)?S.map(O(t,n)):[],2),i=s[0],o=s[1];if(!i&&h(t))return N((function(t){return e(t,n,r)}))(w(t));if(!i)throw new TypeError("Invalid event target");return new f.y((function(e){var t=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.next(1<t.length?t:t[0])};return i(t),function(){return o(t)}}))}(window,"message"),Oe=Se.pipe((ke=e=>e.data&&"2.0"===e.data.jsonrpc,(0,E.e)((function(e,t){var n=0;e.subscribe((0,j.x)(t,(function(e){return ke.call(De,e,n++)&&t.next(e)})))}))));var ke,De;const _e=async e=>{try{return await async function(e){return Pe.decodeRpcMessage(e)}(e)}catch(t){return void console.warn("decodeRPCMEssage",{error:t})}},Ie=(0,l.C)({id:"NFIDEmbedMachineV2",preserveActionOrder:!0,tsTypes:{},type:"parallel",schema:{context:{},events:{},services:{}},context:{messageQueue:[],appMeta:{},authRequest:{hostname:""}},states:{RPC_RECEIVER:{invoke:{src:"RPCReceiver"},on:{RPC_MESSAGE:[{target:"RPC_RECEIVER",actions:"assignProcedure",cond:"isReady"},{target:"RPC_RECEIVER",actions:"queueRequest"}]}},AUTH:{initial:"CheckAppMeta",states:{CheckAppMeta:{invoke:{src:"CheckApplicationMeta",onDone:{target:"CheckAuthentication",actions:"assignAppMeta"}}},CheckAuthentication:{invoke:{src:"CheckAuthState",onDone:{target:"Authenticated",actions:["assignAuthSession","nfid_authenticated"]},onError:"Authenticate"}},Authenticate:{invoke:{src:"AuthenticationMachine",data:e=>e,onDone:[{target:"Authenticated",actions:"assignAuthSession"}]}},Authenticated:{entry:"nfid_authenticated",invoke:{src:()=>e=>{const{delegationIdentity:t}=d.fD.get();if(!t)return e("SESSION_EXPIRED");const n=(0,o.f)(t),r=.8*n,a=Date.now();console.debug("NFIDEmbedMachineV2 delegation expires at",{expiresAt:new Date(a+n),timeoutAt:new Date(a+r)});const s=setTimeout((()=>{console.debug("NFIDEmbedMachineV2 delegation expired"),e("SESSION_EXPIRED")}),r);return()=>clearTimeout(s)}},on:{SESSION_EXPIRED:{target:"Authenticate",actions:"nfid_unauthenticated"}}}}},HANDLE_PROCEDURE:{initial:"READY",states:{READY:{always:[{target:"EXECUTE_PROCEDURE",cond:"isAutoApprovable"},{target:"AWAIT_PROCEDURE_APPROVAL",cond:"hasProcedure"}]},AWAIT_PROCEDURE_APPROVAL:{on:{APPROVE:"EXECUTE_PROCEDURE",CANCEL:{target:"READY",actions:["sendRPCCancelResponse","updateProcedure"]}}},EXECUTE_PROCEDURE:{invoke:{src:"ExecuteProcedureService",onDone:{actions:["sendRPCResponse","updateProcedure"],target:"READY"},onError:{target:"ERROR",actions:"assignError"}}},ERROR:{on:{RETRY:"AWAIT_PROCEDURE_APPROVAL",CANCEL_ERROR:{target:"READY",actions:["sendRPCCancelResponse","updateProcedure"]}}}}}}},{actions:{assignAppMeta:(0,c.f0)(((e,t)=>{var n,r,a,s,i,o,l;return{appMeta:{logo:null!==(n=t.data)&&void 0!==n&&n.icon?window.location.origin+(null===(r=new URL(null!==(a=null===t||void 0===t||null===(s=t.data)||void 0===s?void 0:s.icon)&&void 0!==a?a:""))||void 0===r?void 0:r.pathname):void 0,name:null===t||void 0===t||null===(i=t.data)||void 0===i?void 0:i.name,url:new URL(null===t||void 0===t||null===(o=t.data)||void 0===o?void 0:o.domain).host},authRequest:{hostname:null===t||void 0===t||null===(l=t.data)||void 0===l?void 0:l.domain}}})),assignProcedure:(0,c.f0)(((e,t)=>({requestOrigin:t.data.origin,rpcMessage:t.data.rpcMessage,rpcMessageDecoded:t.data.rpcMessageDecoded}))),updateProcedure:(0,c.f0)(((e,t)=>{let{messageQueue:n}=e;return{rpcMessage:n[0],messageQueue:n.slice(1,n.length)}})),assignAuthSession:(0,c.f0)(((e,t)=>(console.debug("assignAuthSession",{event:t}),{authSession:t.data.authSession}))),queueRequest:(0,c.f0)(((e,t)=>({messageQueue:[...e.messageQueue,t.data.rpcMessage]}))),assignError:(0,c.f0)(((e,t)=>({error:t.data}))),nfid_authenticated:()=>{console.debug("nfid_authenticated"),window.parent.postMessage({type:"nfid_authenticated"},window.location.ancestorOrigins[0])},nfid_unauthenticated:e=>{let{requestOrigin:t}=e;if(!t)throw new Error("nfid_unauthenticated: missing requestOrigin");console.debug("nfid_authenticated"),window.parent.postMessage({type:"nfid_unauthenticated"},t)},sendRPCResponse:(e,t)=>{let{requestOrigin:n}=e;if(!n)throw new Error("nfid_unauthenticated: missing requestOrigin");console.debug("sendRPCResponse",{event:t}),window.parent.postMessage(t.data,n)},sendRPCCancelResponse:e=>{var t;if(!e.requestOrigin)throw new Error("nfid_unauthenticated: missing requestOrigin");if(null===(t=e.rpcMessage)||void 0===t||!t.id)throw new Error("sendRPCCancelResponse: missing rpcMessage.id");window.parent.postMessage({...Me,id:e.rpcMessage.id,error:{code:-1,message:"NFID: user canceled request"}},e.requestOrigin)}},guards:{hasProcedure:e=>!!e.rpcMessage,isReady:(e,t,n)=>{let{state:r}=n;return r.matches("HANDLE_PROCEDURE.READY")},isAutoApprovable:e=>{var t,n;return["eth_accounts"].includes(null!==(t=null===(n=e.rpcMessage)||void 0===n?void 0:n.method)&&void 0!==t?t:"")}},services:{CheckApplicationMeta:async e=>{let t;try{var n;t=await(0,p.UM)(null!==(n=window.location.ancestorOrigins[0])&&void 0!==n?n:"")}catch(r){t={name:"Unknown application",accountLimit:5,alias:[window.location.ancestorOrigins[0]],domain:window.location.ancestorOrigins[0],isIFrameAllowed:!1,isNftStorage:!1},console.log("Error fetching application",r)}return t},ExecuteProcedureService:async(e,t)=>{let{rpcMessage:n,authSession:r}=e;if(!n)throw new Error("ExecuteProcedureService: missing rpcMessage");if(!r)throw new Error("ExecuteProcedureService: missing authSession");const a={...Me,id:n.id},s=await(0,m.p)(r.anchor),{rpcUrl:i}=n.options;switch(n.method){case"eth_accounts":{const e=new d.Q2(i),t=await e.getAddress(s),n={...a,result:[t]};return console.debug("ExecuteProcedureService eth_accounts",{response:n}),n}case"eth_signTypedData_v4":{const[,e]=n.params,t=new d.Q2(i),r=await t.signTypedData(JSON.parse(e),s),o={...a,result:r};return console.debug("ExecuteProcedureService eth_signTypedData_v4",{response:o}),o}case"eth_sendTransaction":{var o;const e=new d.Q2(i),{wait:n,...r}=await e.sendTransaction(s,"APPROVE"===t.type?null===(o=t.data)||void 0===o?void 0:o.populatedTransaction:void 0),l={...a,result:r.hash};return console.debug("ExecuteProcedureService eth_accounts",{response:l}),l}case"personal_sign":{const[e]=n.params,t=new d.Q2(i),r=await t.signMessage(e,s),o={...a,result:r};return console.debug("ExecuteProcedureService personal_sign",{response:o}),o}default:throw new Error("ExecuteProcedureService: unknown procedure")}},AuthenticationMachine:u.Z,RPCReceiver:()=>e=>{const t=Oe.subscribe((async t=>{let{data:n,origin:r}=t;switch(console.debug("RPCReceiverV2",{rpcMessage:n,origin:r}),n.method){case"eth_accounts":return e({type:"RPC_MESSAGE",data:{rpcMessage:n,origin:r}});case"eth_sendTransaction":const t=await _e(n);return e({type:"RPC_MESSAGE",data:{rpcMessage:n,rpcMessageDecoded:t,origin:r}});case"eth_signTypedData_v4":const a=await _e(n);return e({type:"RPC_MESSAGE",data:{rpcMessage:n,rpcMessageDecoded:a,origin:r}});case"personal_sign":const s=await _e(n);return e({type:"RPC_MESSAGE",data:{rpcMessage:n,rpcMessageDecoded:s,origin:r}});default:throw new Error(`RPCReceiverV2 unknown method: ${n.method}`)}}));return()=>t.unsubscribe()},CheckAuthState:async()=>{var e;console.debug("CheckAuthState");const{delegationIdentity:t}=await d.fD.fromCache();if(console.debug("CheckAuthState",{delegationIdentity:t}),!t)throw new Error("CheckAuthState: no auth session in cache");const{anchor:n}=null!==(e=(0,d.SC)())&&void 0!==e?e:await(0,p.In)();return{authSession:{anchor:n,sessionSource:"cache",delegationIdentity:t}}}}});var Fe=n(94244),Le=n(98320),Ue=n(33693);const Be=()=>(0,Ue.jsxs)("div",{children:[(0,Ue.jsxs)("div",{className:"flex items-center",children:[(0,Ue.jsx)(s.Od,{className:"w-10 h-10 rounded-lg"}),(0,Ue.jsx)(s.Od,{className:"h-5 ml-2 w-28"})]}),(0,Ue.jsxs)("div",{className:"flex items-center mt-7",children:[(0,Ue.jsx)(s.Od,{className:"w-32 h-3 mr-1 "}),(0,Ue.jsx)(s.Od,{className:"w-5 h-3 "})]}),(0,Ue.jsxs)("div",{className:"border border-gray-100 -md mt-1.5 flex items-center rounded-md",children:[(0,Ue.jsx)(s.jE,{className:"w-[102px] h-[102px] text-gray-100"}),(0,Ue.jsxs)("div",{className:"ml-2.5",children:[(0,Ue.jsxs)("div",{className:"flex items-center",children:[(0,Ue.jsx)(s.Od,{className:"w-20 h-3 mr-1.5 "}),(0,Ue.jsx)(s.Od,{className:"w-[120px] h-3 mr-1.5 "})]}),(0,Ue.jsxs)("div",{className:"flex items-center mt-2",children:[(0,Ue.jsx)(s.Od,{className:"w-7 h-3 mr-1.5 "}),(0,Ue.jsx)(s.Od,{className:"w-20 h-3 mr-1.5 "})]})]})]}),(0,Ue.jsxs)("div",{className:"space-y-4 mt-7",children:[(0,Ue.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ue.jsx)(s.Od,{className:"w-32 h-3"}),(0,Ue.jsxs)("div",{className:"flex",children:[(0,Ue.jsx)(s.Od,{className:"w-14 h-3 mr-[5px]"}),(0,Ue.jsx)(s.Od,{className:"w-5 h-3 "})]})]}),(0,Ue.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ue.jsx)(s.Od,{className:"h-3 w-28"}),(0,Ue.jsxs)("div",{className:"flex",children:[(0,Ue.jsx)(s.Od,{className:"w-12 h-3 mr-[5px]"}),(0,Ue.jsx)(s.Od,{className:"w-5 h-3 "})]})]}),(0,Ue.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ue.jsx)(s.Od,{className:"h-3 w-36"}),(0,Ue.jsxs)("div",{className:"flex",children:[(0,Ue.jsx)(s.Od,{className:"w-16 h-3 mr-[5px]"}),(0,Ue.jsx)(s.Od,{className:"w-5 h-3 "})]})]}),(0,Ue.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ue.jsx)(s.Od,{className:"w-24 h-3 "}),(0,Ue.jsxs)("div",{className:"flex",children:[(0,Ue.jsx)(s.Od,{className:"w-11 h-3 mr-[5px]"}),(0,Ue.jsx)(s.Od,{className:"w-5 h-3 "})]})]}),(0,Ue.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ue.jsx)(s.Od,{className:"h-3 w-[120px]"}),(0,Ue.jsxs)("div",{className:"flex",children:[(0,Ue.jsx)(s.Od,{className:"w-[60px] h-3 mr-[5px]"}),(0,Ue.jsx)(s.Od,{className:"w-5 h-3"})]})]})]}),(0,Ue.jsx)(s.Od,{className:"h-3 mt-6 w-44"}),(0,Ue.jsx)(s.Od,{className:"flex items-center justify-center w-full h-12 rounded-md mt-14",children:(0,Ue.jsx)(s.Od,{className:"h-3 w-[120px] !bg-white"})})]});async function qe(e){var t;const n=new d.Q2(e.options.rpcUrl),r=function(e){return Object.keys(e).reduce(((t,n)=>({...t,...e[n]?{[n]:e[n]}:{}})),{})}(null===e||void 0===e?void 0:e.params[0]),a=null!==(t=(0,d.SC)())&&void 0!==t?t:await(0,p.In)(),s=await(0,m.p)(null===a||void 0===a?void 0:a.anchor,"nfid.one","0");return n.populateTransaction(r,s)}const ze={directPurchase:a.lazy((()=>n.e(202).then(n.bind(n,89202)))),createToken:a.lazy((()=>n.e(217).then(n.bind(n,85217)))),mintAndTransfer:a.lazy((()=>n.e(208).then(n.bind(n,56208)))),SellOrder:a.lazy((()=>n.e(502).then(n.bind(n,80502)))),BidOrder:a.lazy((()=>Promise.resolve().then(n.bind(n,98320)))),bulkPurchase:a.lazy((()=>n.e(921).then(n.bind(n,34921)))),burn:a.lazy((()=>Promise.resolve().then(n.bind(n,98320)))),cancel:a.lazy((()=>Promise.resolve().then(n.bind(n,98320)))),directAcceptBid:a.lazy((()=>Promise.resolve().then(n.bind(n,98320)))),safeTransferFrom:a.lazy((()=>Promise.resolve().then(n.bind(n,98320)))),Mint721:a.lazy((()=>n.e(291).then(n.bind(n,65291)))),Mint1155:a.lazy((()=>n.e(291).then(n.bind(n,65291)))),sell:a.lazy((()=>n.e(502).then(n.bind(n,80502)))),personalSign:a.lazy((()=>n.e(129).then(n.bind(n,53129)))),setApprovalForAll:a.lazy((()=>Promise.resolve().then(n.bind(n,98320)))),approve:a.lazy((()=>Promise.resolve().then(n.bind(n,98320))))},He=e=>{let{appMeta:t,rpcMessage:n,rpcMessageDecoded:r,onConfirm:s,onReject:i,authSession:o}=e;console.debug("ProcedureApprovalCoordinator",{rpcMessage:n});const{data:l,isLoading:c}=(0,Fe.ZP)("eth_sendTransaction"===n.method?[n,"populateTransactionData"]:null,(async e=>{let[t]=e;return await qe(t)}),{refreshInterval:3e3}),d=a.useCallback((()=>l?s({populatedTransaction:l}):s()),[s,l]);if(!0===function(){return!!ze[arguments.length>0&&void 0!==arguments[0]?arguments[0]:""]}(null===r||void 0===r?void 0:r.method)){const e=ze[null===r||void 0===r?void 0:r.method];return(0,Ue.jsx)(a.Suspense,{fallback:(0,Ue.jsx)(Be,{}),children:(0,Ue.jsx)(e,{rpcMessage:n,appMeta:t,rpcMessageDecoded:r,populatedTransaction:l,disableConfirmButton:c,onConfirm:d,onReject:i})})}return(0,Ue.jsx)(Le.default,{rpcMessage:n,appMeta:t,disableConfirmButton:c,rpcMessageDecoded:r,populatedTransaction:l,onConfirm:d,onReject:i})},$e=e=>{let{error:t,onRetry:n,onCancel:r}=e;return(0,Ue.jsxs)(s.T3,{children:[(0,Ue.jsx)(s.T3.Header,{children:(0,Ue.jsxs)("div",{className:"flex gap-2",children:[(0,Ue.jsx)(s.tG,{className:"text-red-500"}),(0,Ue.jsx)("div",{className:"font-bold",children:"Error"})]})}),(0,Ue.jsxs)(s.T3.Body,{children:[(0,Ue.jsx)("div",{className:"font-bold",children:"An unexpected error has occurred."}),(0,Ue.jsx)("div",{className:"overflow-scroll",children:(null===t||void 0===t?void 0:t.message)||"An unexpected error has occurred."})]}),(0,Ue.jsx)(s.T3.Footer,{children:(0,Ue.jsxs)("div",{className:"flex w-full gap-2",children:[(0,Ue.jsx)(s.zx,{type:"stroke",onClick:r,className:"flex items-center justify-center flex-1",children:"Cancel"}),(0,Ue.jsx)(s.zx,{type:"secondary",onClick:n,className:"flex items-center justify-center flex-1",children:"Try again"})]})})]})};function Ve(){var e;const[t,n]=(0,r.e)(Ie);switch(console.debug("NFIDEmbedCoordinator"),a.useEffect((()=>console.log("NFIDEmbedCoordinator",{context:t.context,state:t.value,children:t.children})),[t.value,t.context,t.children]),!0){case t.matches("HANDLE_PROCEDURE.EXECUTE_PROCEDURE"):case t.matches("AUTH.CheckAppMeta"):case t.matches("AUTH.CheckAuthentication"):default:return(0,Ue.jsx)(s.B$,{isLoading:!0,loadingMessage:"eth_accounts"===(null===(e=t.context.rpcMessage)||void 0===e?void 0:e.method)&&"Requesting account..."});case t.matches("AUTH.Authenticate"):return(0,Ue.jsx)(i.Z,{actor:t.children["NFIDEmbedMachineV2.AUTH.Authenticate:invocation[0]"]});case t.matches("HANDLE_PROCEDURE.AWAIT_PROCEDURE_APPROVAL"):if(!t.context.rpcMessage)throw new Error("missing rpcMessage");if(!t.context.authSession)throw new Error("missing authSession");return(0,Ue.jsx)(He,{appMeta:t.context.appMeta,authSession:t.context.authSession,rpcMessage:t.context.rpcMessage,rpcMessageDecoded:t.context.rpcMessageDecoded,onConfirm:e=>{console.debug("onConfirm",{data:e}),n({type:"APPROVE",data:e})},onReject:()=>n({type:"CANCEL"})});case t.matches("HANDLE_PROCEDURE.ERROR"):return(0,Ue.jsx)($e,{error:t.context.error,onCancel:()=>n({type:"CANCEL_ERROR"}),onRetry:()=>n({type:"RETRY"})})}}},73971:(e,t,n)=>{n.d(t,{i:()=>m});var r=n(18414),a=n(21882),s=n(38352),i=n(76058),o=n(87273),l=n(50259),c=n(33693);const d=e=>{let{assets:t}=e;const[n,s]=(0,o.useState)(!1);return(0,c.jsxs)("div",{children:[n&&(0,c.jsxs)("div",{className:"absolute top-0 left-0 z-30 w-full h-full p-[22px] bg-white",children:[(0,c.jsxs)("div",{className:"flex items-center mb-5",children:[(0,c.jsx)("div",{className:"cursor-pointer",onClick:()=>s(!1),children:(0,c.jsx)(a.sK,{})}),(0,c.jsxs)("p",{className:"ml-2 text-xl font-bold",children:[t.length," collectibles"]})]}),(0,c.jsx)("div",{className:"space-y-1.5",children:t.map((e=>(0,c.jsxs)("div",{className:"flex items-center justify-between border-b border-gray-200 pb-1.5",children:[(0,c.jsxs)("div",{className:"flex items-center",children:[(0,c.jsx)("img",{className:"object-cover w-12 h-12 rounded-md mr-2.5",src:null===e||void 0===e?void 0:e.icon,alt:""}),(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"text-sm",children:null===e||void 0===e?void 0:e.title}),(0,c.jsx)("p",{className:"text-xs text-gray-400",children:null===e||void 0===e?void 0:e.subtitle})]})]}),(0,c.jsxs)("div",{className:"text-end",children:[(0,c.jsx)("p",{className:"text-sm",children:e.innerTitle}),(0,c.jsx)("p",{className:"text-xs text-gray-400",children:e.innerSubtitle})]})]})))})]}),(0,c.jsxs)("div",{className:(0,r.Z)("overflow-hidden border border-gray-200 rounded-md cursor-pointer h-20","flex items-center"),onClick:()=>s(!0),children:[(0,c.jsx)("div",{className:"relative h-full text-gray-100 w-[98px]",children:t.slice(0,3).map(((e,t)=>{var n;return(0,c.jsx)("img",{alt:`preview_${t}`,src:null!==(n=null===e||void 0===e?void 0:e.icon)&&void 0!==n?n:a.X0,className:(0,r.Z)("border-x border-gray-200 border-opacity-50 rounded-[5px]","w-20 h-20 absolute top-0"),style:{left:6*t+"px"}},`preview_${t}`)}))}),(0,c.jsxs)("div",{className:"ml-2.5",children:[(0,c.jsxs)("p",{className:"font-bold",children:[t.length," collectibles"]}),(0,c.jsx)("p",{className:"w-64 overflow-hidden text-sm text-gray-400",children:(0,l.a)(t.map((e=>{var t;return null!==(t=e.title)&&void 0!==t?t:"Unknown name"})).join(", "),63)})]}),(0,c.jsx)(a.xz,{className:"ml-auto mr-4"})]})]})},u=e=>{let{icon:t,title:n,subtitle:a}=e;return(0,c.jsx)("div",{className:(0,r.Z)("flex items-center justify-between overflow-hidden","border rounded-md shrink-0"),children:(0,c.jsxs)("div",{className:"flex items-center w-full",children:[(0,c.jsx)("img",{className:(0,r.Z)("object-cover w-20 h-20 rounded-[5px]",!t&&"hidden"),src:t,alt:n}),(0,c.jsxs)("div",{className:(0,r.Z)("ml-2.5",!t&&"text-center !ml-0 w-full py-2.5"),children:[(0,c.jsx)("p",{className:"font-bold tracking-[0.01em] text-base",children:n}),(0,c.jsx)("p",{className:"text-sm text-gray-400",children:a})]})]})})},p=e=>{var t,n,r;let{assets:a}=e;return a&&(1!==a.length||null!==(t=a[0])&&void 0!==t&&t.icon||null!==(n=a[0])&&void 0!==n&&n.subtitle||null!==(r=a[0])&&void 0!==r&&r.title)?1===a.length?(0,c.jsx)(u,{...a[0]}):a.length>1?(0,c.jsx)(d,{assets:a}):null:null},m=e=>{let{title:t="Review",applicationMeta:n,fromAddress:o,toAddress:l,network:d,networkFee:u,totalUSD:m,totalToken:y,price:h,currency:v,warnings:f,isInsufficientBalance:g,disableApproveButton:b,assets:x,onAdjustNetworkFee:w,onShowTransactionDetails:T,onApprove:A,onCancel:E}=e;return(0,c.jsxs)("div",{className:"flex flex-col justify-between flex-1",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)(a.x1,{title:t,applicationLogo:null===n||void 0===n?void 0:n.logo,subTitle:(0,c.jsx)(s.q,{applicationURL:null===n||void 0===n?void 0:n.url})}),(0,c.jsx)(p,{assets:x}),(0,c.jsxs)("div",{className:"mt-5 space-y-3",children:[o&&(0,c.jsx)(a.Of,{title:"From",icon:(0,c.jsx)(a.h_,{className:"w-[18px] cursor-pointer",onClick:e=>window.open(`https://goerli.etherscan.io/address/${o}`)}),children:(0,c.jsx)(i.M,{value:o,leadingChars:6,trailingChars:4})}),l&&(0,c.jsx)(a.Of,{title:"To",icon:(0,c.jsx)(a.h_,{className:"w-[18px] cursor-pointer",onClick:e=>window.open(`https://goerli.etherscan.io/address/${l}`)}),children:(0,c.jsx)(i.M,{value:l,leadingChars:6,trailingChars:4})}),(0,c.jsx)(a.Of,{title:"Network",children:d}),u&&(0,c.jsx)(a.Of,{title:"Network fee",tooltip:"Applies to all transactions. Not paid to NFID Wallet.",icon:w&&(0,c.jsx)(a.Uk,{className:"ml-1.5 cursor-pointer text-black",onClick:w}),children:`${u} ${v}`}),h&&(0,c.jsx)(a.Of,{title:x&&(null===x||void 0===x?void 0:x.length)>1?"Collectibles cost":"Collectible cost",children:`${h} ${v}`}),y&&(0,c.jsx)(a.Of,{title:"Total",isBold:!0,children:(0,c.jsxs)("div",{className:"relative",children:[(0,c.jsxs)("p",{children:[y," ",v]}),(0,c.jsxs)("div",{className:(0,r.Z)("text-xs leading-4 text-gray-400 font-normal","absolute right-0 top-full"),children:["~$",m]})]})})]}),(0,c.jsx)("p",{className:"mt-10 text-sm cursor-pointer text-blue",onClick:T,children:"Transaction details"}),g&&(0,c.jsxs)("p",{className:"my-3 text-xs text-red",children:["Insufficient balance in you account to pay for this transaction."," ",(0,c.jsx)("span",{className:"font-semibold text-blue",children:"Buy ETH"})," or deposit from another account."]})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)(a.bd,{warnings:f}),(0,c.jsxs)("div",{className:"flex items-center w-full space-x-2.5",children:[(0,c.jsx)(a.zx,{type:"stroke",className:"w-full",onClick:E,children:"Cancel"}),(0,c.jsx)(a.zx,{type:"primary",className:(0,r.Z)("w-full",g&&"!bg-gray-300"),onClick:A,disabled:g||b,children:"Confirm"})]})]})]})}},44236:(e,t,n)=>{n.d(t,{l:()=>i});var r=n(58240),a=n(71290),s=n(21325);function i(e,t){var n,i;if(!e||!t||!t[0])return{fee:"0",feeUsd:"0",maxFee:"0",maxFeeUsd:"0",total:"0",totalUsd:"0",maxTotal:"0",maxTotalUsd:"0",price:"0",isInsufficientFundsError:!1,isNetworkIsBusyWarning:!1};const[o,l]=t,c=o.gasPrice;delete o.gasPrice;const d=a.BigNumber.from(null===o||void 0===o?void 0:o.gasLimit),u=a.BigNumber.from(null!==c&&void 0!==c?c:null===o||void 0===o?void 0:o.maxFeePerGas),p=a.BigNumber.from(null!==(n=null===o||void 0===o?void 0:o.maxFeePerGas)&&void 0!==n?n:c),m=a.BigNumber.from(null!==(i=null===o||void 0===o?void 0:o.value)&&void 0!==i?i:"0x0"),y=d.mul(u).div(125).mul(100),h=parseFloat(r.formatEther(y))*e,v=d.mul(p),f=parseFloat(r.formatEther(v))*e,g=m.add(y),b=parseFloat(r.formatEther(g))*e,x=m.add(v),w=parseFloat(r.formatEther(x))*e;return{fee:r.formatEther(y),feeUsd:h.toFixed(2),maxFee:r.formatEther(v),maxFeeUsd:f.toFixed(2),total:r.formatEther(g),totalUsd:b.toFixed(2),maxTotal:r.formatEther(x),maxTotalUsd:w.toFixed(2),price:r.formatEther(m),isInsufficientFundsError:s.kb.INSUFICIENT_FUNDS===l,isNetworkIsBusyWarning:s.kb.NETWORK_BUSY===l}}},12952:(e,t,n)=>{n.d(t,{h:()=>o});var r=n(87273),a=n(94244);const s="https://api.coinbase.com/v2/exchange-rates",i=["ICP","ETH","BTC"],o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;const{data:t,...n}=(0,a.ZP)("exchangeRates",(()=>fetch(s).then((e=>e.json())))),o=(0,r.useMemo)((()=>null!==t&&void 0!==t&&t.data&&e?e.reduce(((e,n,r)=>{var a;const s=null===t||void 0===t||null===(a=t.data)||void 0===a?void 0:a.rates[n],i=s?(1/s).toFixed(2):"";return e[n]=Number(parseFloat(i).toFixed(2)),e}),{}):{}),[t,e]);return{rates:o,prices:t,...n}}},25390:(e,t,n)=>{n.d(t,{p:()=>i});var r=n(52259),a=n(36516),s=n(21325);n(30365);async function i(e,t,n){arguments.length>3&&void 0!==arguments[3]||r.qo.IC;const i="undefined"===typeof t||"nfid.one"===t?a.Zp:(0,s.bR)(t,n);return s.YL.getDelegation(e,i,BigInt((0,s.Mz)(a.CP,"NFID_WALLET_DELEGATION_TTL_NS")))}},76058:(e,t,n)=>{n.d(t,{M:()=>i});var r=n(18414),a=n(87273),s=n(33693);const i=a.forwardRef(((e,t)=>{let{value:n,leadingChars:a,trailingChars:i,...o}=e;const l=n.length-i;return(0,s.jsxs)("div",{ref:t,className:"flex min-w-0",...o,children:[(0,s.jsx)("div",{id:"first_part",className:(0,r.Z)("overflow-hidden whitespace-nowrap"),children:n.slice(0,a)}),(0,s.jsx)("div",{children:"..."}),(0,s.jsx)("div",{id:"second_part",className:"flex-shrink-0",children:n.slice(l)})]})}))},88250:(e,t,n)=>{n.d(t,{v:()=>a});const r={"0x01":{symbol:"ETH",currency:"ETH",chainName:"Ethereum"},"0x05":{symbol:"Goerli ETH",currency:"ETH",chainName:"Goerli"},"0x89":{symbol:"ETH",currency:"MATIC",chainName:"Polygon"},"0x013881":{symbol:"Mumbai ETH",currency:"MATIC",chainName:"Mumbai Polygon"}},a={getSymbolAndChainName:function(e){if(!e)throw Error("The chainId has not been provided.");return r[e]}}},25499:(e,t,n)=>{n.r(t),n.d(t,{BigNumber:()=>r.O$,FixedFormat:()=>a.xO,FixedNumber:()=>a.xs,_base16To36:()=>r.t2,_base36To16:()=>r.g$,formatFixed:()=>a.S5,parseFixed:()=>a.Ox});var r=n(13848),a=n(39081)},66966:(e,t,n)=>{n.r(t),n.d(t,{Wordlist:()=>r.D,logger:()=>r.k,wordlists:()=>a.E});var r=n(35776),a=n(63977)},20202:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.version=void 0,t.version="ethers/5.7.2"},71290:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Wordlist=t.version=t.wordlists=t.utils=t.logger=t.errors=t.constants=t.FixedNumber=t.BigNumber=t.ContractFactory=t.Contract=t.BaseContract=t.providers=t.getDefaultProvider=t.VoidSigner=t.Wallet=t.Signer=void 0;var i=n(13146);Object.defineProperty(t,"BaseContract",{enumerable:!0,get:function(){return i.BaseContract}}),Object.defineProperty(t,"Contract",{enumerable:!0,get:function(){return i.Contract}}),Object.defineProperty(t,"ContractFactory",{enumerable:!0,get:function(){return i.ContractFactory}});var o=n(25499);Object.defineProperty(t,"BigNumber",{enumerable:!0,get:function(){return o.BigNumber}}),Object.defineProperty(t,"FixedNumber",{enumerable:!0,get:function(){return o.FixedNumber}});var l=n(87989);Object.defineProperty(t,"Signer",{enumerable:!0,get:function(){return l.Signer}}),Object.defineProperty(t,"VoidSigner",{enumerable:!0,get:function(){return l.VoidSigner}});var c=n(44151);Object.defineProperty(t,"Wallet",{enumerable:!0,get:function(){return c.Wallet}});var d=s(n(36864));t.constants=d;var u=s(n(71995));t.providers=u;var p=n(71995);Object.defineProperty(t,"getDefaultProvider",{enumerable:!0,get:function(){return p.getDefaultProvider}});var m=n(66966);Object.defineProperty(t,"Wordlist",{enumerable:!0,get:function(){return m.Wordlist}}),Object.defineProperty(t,"wordlists",{enumerable:!0,get:function(){return m.wordlists}});var y=s(n(45697));t.utils=y;var h=n(88110);Object.defineProperty(t,"errors",{enumerable:!0,get:function(){return h.ErrorCode}});var v=n(20202);Object.defineProperty(t,"version",{enumerable:!0,get:function(){return v.version}});var f=new h.Logger(v.version);t.logger=f}}]);
//# sourceMappingURL=764.fa20958d.chunk.js.map