"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[54],{24936:(e,t,s)=>{s.d(t,{z:()=>l});var a=s(18414),r=(s(87273),s(82898)),n=s(33693);const l=e=>{let{actionButtons:t,onInputChange:s,onInputType:l}=e;return(0,n.jsxs)("div",{className:(0,a.Z)("flex items-center justify-between","bg-gray-50 p-5 rounded-t-xl sm:rounded-b-md"),children:[(0,n.jsx)(r.II,{placeholder:"Search",icon:(0,n.jsx)(r.MN,{className:"w-4"}),onChange:s,onKeyDown:l,className:"sm:w-[350px]"}),t]})}},23370:(e,t,s)=>{s.d(t,{f:()=>i});var a=s(54915),r=s(87273),n=s(69491),l=s(33492);const i=()=>{const{profile:e}=(0,n.Un)(),{data:t,isLoading:s,isValidating:i}=(0,l.I)(null===e||void 0===e?void 0:e.anchor);return{address:(0,r.useMemo)((()=>t?(0,a.PZ)(t.getPrincipal(),Array(32).fill(1)):""),[t]),anchor:null===e||void 0===e?void 0:e.anchor,identity:t,isLoading:i,isReady:!s}}},32054:(e,t,s)=>{s.r(t),s.d(t,{VaultsListPage:()=>b,default:()=>N});var a=s(87273),r=s(94244),n=s(82898),l=s(78765),i=s(72565),d=s(24936),o=s(23370),c=s(18414),u=s(76058),m=s(33693);const x=()=>{const{address:e}=(0,o.f)();return(0,m.jsx)("div",{className:(0,c.Z)("p-[1.5px] bg-red-100 rounded-[13px] bg-gradient-to-r","from-teal-300 via-blue to-purple"),children:(0,m.jsxs)("div",{className:(0,c.Z)("p-5 flex items-center justify-between","bg-white rounded-xl flex-wrap","sm:space-x-16 sm:px-[30px] sm:flex-nowrap"),children:[(0,m.jsxs)("div",{children:[(0,m.jsx)("p",{className:"font-semibold",children:"NFID vault address"}),(0,m.jsx)("p",{className:"mt-1 text-sm",children:"Share this identifier with vault administrators to add you as an approver for vault transactions."})]}),(0,m.jsxs)("div",{className:(0,c.Z)("flex items-center justify-center bg-gray-100","space-x-6 py-3 px-4 rounded-md font-bold text-sm","mt-3 sm:mt-0"),children:[(0,m.jsx)(u.M,{value:null!==e&&void 0!==e?e:"",leadingChars:20,trailingChars:3}),(0,m.jsx)(n.CK,{className:"text-secondary",value:null!==e&&void 0!==e?e:""})]})]})})};var p=s(84463);const h=e=>{var t;let{refetchVaults:s}=e;const[r,i]=(0,a.useState)(!1),[d,o]=(0,a.useState)(!1),{register:u,handleSubmit:x,formState:h}=(0,p.cI)({defaultValues:{vaultName:"",description:""}});return(0,m.jsxs)(n.TK,{large:!0,title:"Add vault",isLoading:r,isModalOpen:d,isModalOpenChange:o,secondaryButton:{type:"stroke",text:"Cancel"},primaryButton:{type:"primary",onClick:x((async e=>{let{description:t,vaultName:a}=e;i(!0),await(0,l.wY)(a,t),i(!1),s(),o(!1)})),text:"Create",id:"create-vault-button"},trigger:(0,m.jsxs)("div",{className:(0,c.Z)("flex items-center space-x-2 font-bold text-blue-600 cursor-pointer","hover:opacity-50 transition-opacity"),id:"create-vault-trigger",children:[(0,m.jsx)(n.Ji,{className:"w-4"}),(0,m.jsx)("span",{className:"hidden text-sm sm:block",children:"Add vault"})]}),children:[(0,m.jsx)(n.II,{placeholder:"Vault name",labelText:"Enter vault name",errorText:null===(t=h.errors.vaultName)||void 0===t?void 0:t.message,...u("vaultName",{required:n.dw.errorMessages.required,minLength:{value:n.dw.minLength,message:n.dw.errorMessages.length}})}),(0,m.jsx)(n.Kx,{className:"mt-3",labelText:"Description (optional)",placeholder:"Differentiate the purpose of this vault from your others with an optional description about its function.",rows:4,...u("description")})]})};var v=s(3209),j=s(35826);const g=()=>(0,m.jsxs)(n.SC,{header:!0,children:[(0,m.jsx)(n.pj,{isLeft:!0,className:"w-auto",children:"Name"}),(0,m.jsx)(n.pj,{centered:!0,className:"w-32",children:"Wallets"}),(0,m.jsx)(n.pj,{centered:!0,className:"w-32",children:"Members"}),(0,m.jsx)(n.pj,{className:"w-56",children:"Last activity"}),(0,m.jsx)(n.pj,{isRight:!0,className:"w-10"})]});var f=s(95163);const y=e=>{let{name:t,walletsQuantity:s,membersQuantity:a,lastActivity:r,id:l}=e;const i=(0,f.s0)();return(0,m.jsxs)(n.SC,{onClick:()=>i(`${l}`),id:`vault_${t}`,children:[(0,m.jsx)(n.pj,{isLeft:!0,children:t}),(0,m.jsx)(n.pj,{centered:!0,children:s}),(0,m.jsx)(n.pj,{centered:!0,children:a}),(0,m.jsx)(n.pj,{children:r}),(0,m.jsx)(n.pj,{isRight:!0,children:(0,m.jsx)(n.xz,{className:"ml-auto text-secondary"})})]})},w=e=>{let{vaults:t}=e;const s=(0,a.useMemo)((()=>t.map((e=>({id:String(e.id),name:e.name,walletsQuantity:e.wallets.length,membersQuantity:e.members.length,lastActivity:(0,v.Z)(new Date((0,j.Jv)(e.modifiedDate)),"MMM dd, yyyy - hh:mm:ss aaa")})))),[t]);return(0,m.jsx)(n.iA,{tableHeader:(0,m.jsx)(g,{}),children:s.map((e=>(0,a.createElement)(y,{...e,key:`vault_${e.id}`})))})},b=()=>{const[e,t]=(0,a.useState)(""),{isReady:s}=(0,o.f)(),{data:c,mutate:u,isLoading:p,isValidating:v}=(0,r.ZP)([s?"vaults":null],l._w),j=(0,a.useMemo)((()=>c?c.filter((t=>t.name.includes(e))):[]),[e,c]),g=(0,a.useCallback)((e=>{t(e.target.value)}),[]);return(0,m.jsxs)(i.Z,{pageTitle:"Vaults",isLoading:!s,children:[(0,m.jsx)(x,{}),(0,m.jsxs)("div",{className:"border border-gray-200 rounded-xl mt-[30px]",children:[(0,m.jsx)(d.z,{onInputChange:g,actionButtons:(0,m.jsx)(h,{refetchVaults:()=>u()})}),(0,m.jsxs)("div",{className:"w-full px-5 overflow-x-auto",children:[(0,m.jsx)(w,{vaults:j}),!j.length&&!p&&!v&&(0,m.jsx)(n.Sn,{className:"h-64",icon:(0,m.jsx)(n.$A,{}),description:"Create flexible policies and multi-approver workflows to ensure control over transactions and transfers."}),(0,m.jsx)(n.aN,{isLoading:p||v,fullscreen:!1,imageClasses:"w-16 mx-auto my-4"})]})]})]})},N=b},35826:(e,t,s)=>{s.d(t,{Jv:()=>i,df:()=>o,zx:()=>d});var a=s(89158),r=s(55558),n=s(22599),l=s(6090);const i=e=>Math.floor(Number(e/BigInt(10**6))),d=(e,t,s)=>t&&!s?(0,a.Z)(e,t):!t&&s?(0,r.Z)(e,s):!t||!s||(0,a.Z)(e,t)&&(0,r.Z)(e,s),o=(e,t)=>e.sort(((e,s)=>{const a=t?(0,n.Z)(e.date,t,new Date):e.date,r=t?(0,n.Z)(s.date,t,new Date):s.date;return(0,l.Z)(a,r)}))}}]);
//# sourceMappingURL=54.99e5742f.chunk.js.map