"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[276],{39276:(e,s,t)=>{t.r(s),t.d(s,{default:()=>w});var l=t(87273),a=t(90651),i=t(18414),n=t(95163),c=t(36516),r=t(21325),o=t(69491),d=t(65794),x=t(96215),h=t(93441);var m=t(10682),p=t(33693);const u=e=>{let{appName:s,icon:t,className:l}=e;return(0,p.jsx)("div",{className:(0,i.Z)("bg-white rounded-full w-[40px] h-[40px] text-blue","flex items-center justify-center","text-xl font-medium",l),children:t?(0,p.jsx)("img",{className:"rounded-full w-[26px] h-[26px] object-contain object-center",src:t,alt:"app icon"}):(0,p.jsx)("div",{children:s[0].toUpperCase()})})};var b=t(58688),j=t(62959),N=t(47200),g=t(17974),f=t(21882);const k=e=>{let{accountsOptions:s,assetFilter:t,setAssetFilter:l,blockchainFilter:a,blockchainOptions:i,setBlockchainFilter:n,resetFilters:c}=e;return(0,p.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,p.jsx)("p",{children:"Your tokens"}),(0,p.jsx)("div",{className:"flex items-center",children:(0,p.jsx)("div",{className:"flex justify-center cursor-pointer",id:"asset_filter",children:(0,p.jsxs)(f.EZ,{onReset:()=>c(),trigger:(0,p.jsx)(f.Z_,{}),align:"end",children:[(0,p.jsx)(f.TV,{label:"Blockchain",options:i,selectedValues:a,setSelectedValues:n,id:"blockchain_filter"}),(0,p.jsx)(f.TV,{label:"Account",options:s,selectedValues:t.map((e=>{var s;return null!==(s=null===e||void 0===e?void 0:e.principal)&&void 0!==s?s:""})),setSelectedValues:e=>l(e.map((e=>({principal:e})))),id:"account_filter"})]})})})]})};const v=t.p+"static/media/transactions.0b39786c551f058036b58abde52b4457.svg",y=e=>{let{onIconClick:s,tokens:t,assetFilter:a,setAssetFilter:f}=e;const[y,C]=(0,l.useState)([]),{options:w}=(e=>{const{principals:s}=(0,d.J)(),{applicationsMeta:t}=(0,o.pq)();return{options:(0,l.useMemo)((()=>{if(!t||!s)return[];const l=s.filter((s=>{let{account:t,principal:l}=s;return!(e.length&&!e.includes(x.$O.IC))||"-1"===t.accountId})).map((e=>{let{account:s,principal:l}=e;return{label:(0,r.w)(t,s.domain,s.accountId),value:l.toString()}})).sort((0,h.E)((e=>{let{label:s}=e;return null!==s&&void 0!==s?s:""})));return(0,h.h)((e=>{let{label:s}=e;return null!==s&&void 0!==s?s:""}),["NFID","NNS"])(l||[])}),[t,e,s])}})(y),F=(0,n.s0)(),I=l.useCallback((e=>()=>{F(`${m.Cb.base}/${m.Cb.transactions}`,{state:{blockchain:e}})}),[F]);console.debug("ProfileAssetsPage",{tokens:t});const _=(0,l.useMemo)((()=>t.filter((e=>!y.length||y.includes(e.blockchain)))),[y,t]),A=l.useMemo((()=>c.DR.map((e=>({label:e,value:e})))),[]),T=l.useCallback((()=>{C([]),f([])}),[f]);return(0,p.jsxs)(g.Z,{pageTitle:"Assets",icon:v,iconTooltip:"Activity history",onIconClick:s,iconId:"activity",className:"overflow-inherit",children:[(0,p.jsx)(j.g,{}),(0,p.jsx)(N.Z,{title:(0,p.jsx)(k,{accountsOptions:w,assetFilter:a,setAssetFilter:f,blockchainOptions:A,blockchainFilter:y,setBlockchainFilter:C,resetFilters:T}),showChildrenPadding:!1,className:"sm:pb-0",children:(0,p.jsxs)("div",{className:"px-5",children:[(0,p.jsx)(b.a,{isLoading:!t.length}),(0,p.jsxs)("table",{className:(0,i.Z)("text-left w-full hidden sm:table"),children:[(0,p.jsx)("thead",{className:(0,i.Z)("border-b border-black  h-16"),children:(0,p.jsxs)("tr",{className:(0,i.Z)("font-bold text-sm leading-5"),children:[(0,p.jsx)("th",{children:"Name"}),(0,p.jsx)("th",{children:"Network"}),(0,p.jsx)("th",{className:"text-right",children:"Token balance"}),(0,p.jsx)("th",{className:"pr-16 text-right",children:"USD balance"})]})}),(0,p.jsx)("tbody",{className:"h-16 text-sm text-[#0B0E13]",children:_.map(((e,s)=>(0,p.jsxs)("tr",{id:`token_${e.title.replace(/\s+/g,"")}`,onClick:I(e.blockchain),className:"border-b border-gray-200 cursor-pointer last:border-b-0 hover:bg-gray-100",children:[(0,p.jsxs)("td",{className:"flex items-center h-16",children:[(0,p.jsx)(u,{className:"mr-[18px]",icon:e.icon,appName:e.title}),(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"text-sm font-bold",id:`token_${e.title.replace(/\s/g,"")}_currency`,children:e.currency}),(0,p.jsx)("p",{className:"text-[#9CA3AF] text-xs items-left flex",children:e.title})]})]}),(0,p.jsx)("td",{className:"text-left",id:`token_${e.title.replace(/\s/g,"")}_blockchain`,children:e.blockchain}),(0,p.jsxs)("td",{className:"text-sm text-right",id:`token_${e.title.replace(/\s/g,"")}_balance`,children:[e.toPresentation(e.balance)," ",e.currency]}),(0,p.jsx)("td",{className:"pr-16 text-sm text-right",id:`token_${e.title.replace(/\s/g,"")}_usd`,children:e.price})]},`token_${s}`)))})]}),(0,p.jsx)("div",{className:"px-5 sm:hidden",children:t.map(((e,s)=>(0,p.jsxs)("div",{className:"flex items-center justify-between h-16",onClick:I(e.blockchain),children:[(0,p.jsxs)("div",{className:"flex items-center text-[#0B0E13]",children:[(0,p.jsx)("img",{src:e.icon,alt:"icon",className:"w-6 h-6 mr-[13px]"}),(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"text-sm font-bold leading-5",children:e.title}),(0,p.jsx)("p",{className:"text-[#9CA3AF] text-xs items-left flex leading-3",children:e.currency})]})]}),(0,p.jsxs)("div",{className:"text-right",children:[(0,p.jsxs)("div",{className:"text-sm leading-5",children:[e.toPresentation(e.balance)," ",e.currency]}),(0,p.jsx)("div",{className:"text-xs leading-3 text-gray-400",children:e.price})]})]},`token_${s}`)))})]})})]})};var C=t(19511);const w=()=>{const[e,s]=l.useState([]),{navigate:t}=(0,C.Z)(),{token:i}=(0,a.O)(e);return console.debug("ProfileAssets",{token:i}),(0,p.jsx)(y,{onIconClick:()=>t(`${m.Cb.base}/${m.Cb.transactions}`),tokens:i,assetFilter:e,setAssetFilter:s})}},62959:(e,s,t)=>{t.d(s,{g:()=>p});var l=t(55081),a=t(18414),i=t(87273),n=t(96349),c=t(94244),r=t(21882),o=t(21325),d=t(69491),x=t(81754),h=t(59362),m=t(33693);const p=()=>{const{showMigrationWarning:e,onTransferClick:s}=(()=>{const{profile:e}=(0,d.Un)(),{data:s}=(0,c.ZP)("ICPublicDelegation",h.y),t=(0,i.useContext)(x.J),[,a]=(0,l.L)(t.transferService);return{onTransferClick:i.useCallback((async()=>{if(!s)return n.Am.warn("Please wait a few seconds and try again.");a({type:"CHANGE_TOKEN_TYPE",data:"ft"}),a({type:"CHANGE_DIRECTION",data:"send"}),a({type:"ASSIGN_RECEIVER_WALLET",data:s.getPrincipal().toText()}),a({type:"SHOW"})}),[s,a]),showMigrationWarning:(null===e||void 0===e?void 0:e.wallet)===o.TD.II}})();return e?(0,m.jsxs)("div",{className:(0,a.Z)("bg-orange-50 rounded-xl flex space-x-5 p-[30px] text-orange-900","mb-[30px]"),children:[(0,m.jsx)(r.gz,{className:"w-[22px] h-[22px] shrink-0"}),(0,m.jsxs)("div",{className:"text-sm",children:[(0,m.jsx)("p",{className:"font-bold mb-2.5",children:"NFID upgrade"}),(0,m.jsxs)("p",{className:"leading-[22px]",children:["Starting November 1, 2023, assets from external applications will not be displayed in NFID. To manage those assets in NFID, transfer them to your ",(0,m.jsx)("b",{children:"NFID Wallet"}),". Otherwise, you\u2019ll only have access through the application\u2019s website."]}),(0,m.jsx)("p",{onClick:s,className:"mt-4 font-semibold cursor-pointer text-blue",children:"Transfer assets to my NFID Wallet"})]})]}):null}},47200:(e,s,t)=>{t.d(s,{Z:()=>i});var l=t(18414),a=(t(87273),t(33693));const i=e=>{let{title:s,subTitle:t,children:i,className:n,showChildrenPadding:c=!0,id:r}=e;return(0,a.jsxs)("div",{id:r,className:(0,l.Z)("block border border-gray-200 rounded-xl","py-4 sm:py-[26px]",n),children:[(0,a.jsxs)("div",{className:"px-5",children:[s&&(0,a.jsx)("div",{className:"flex items-center justify-between mb-3 text-xl",children:s}),t&&(0,a.jsx)("div",{className:"flex items-center justify-between mb-4 text-sm leading-5 text-secondary",children:t})]}),(0,a.jsx)("div",{className:(0,l.Z)(c&&"px-5 sm:px-[30px]"),children:i})]})}}}]);
//# sourceMappingURL=276.3324f176.chunk.js.map