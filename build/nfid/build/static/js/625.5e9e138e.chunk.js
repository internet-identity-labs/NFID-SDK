"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[625],{13485:(e,t,n)=>{n.d(t,{Z:()=>a});n(87273);const a=n.p+"static/media/dfinity.583ab84ba16070ca501453d1e291dff4.svg"},37147:(e,t,n)=>{n.r(t),n.d(t,{default:()=>W});var a=n(69491),s=(n(54915),n(87273)),l=n(13485),i=n(628),o=n(21882);var c=n(21325);class r{constructor(e){this.config=void 0,this.getIdentity=async e=>{const{delegationIdentity:t}=c.fD.get();if(!t)throw Error("Delegation identity error");return null===e||void 0===e||!e.length||null!==e&&void 0!==e&&e.includes(t.getPrincipal().toString())?[t]:[]},this.config=e}async getNonFungibleItems(e){const t=await this.getIdentity(e.map((e=>e.principal)));let n=[];return await Promise.all(t.map((async e=>{const t=(await this.config.assetService.getItemsByUser({identity:e})).items.map((t=>function(e,t,n){var a,s;return{account:{domain:"nfid.one",label:"account 1",accountId:"-1"},assetFullsize:{url:0===e.image.length?n.defaultLogo:e.image,format:null!==(a=null===e||void 0===e?void 0:e.imageType)&&void 0!==a?a:"img"},assetPreview:{url:(null===e||void 0===e?void 0:e.thumbnail)||o.u3,format:null!==(s=null===e||void 0===e?void 0:e.imageType)&&void 0!==s?s:"img"},blockchainLogo:n.defaultLogo,blockchain:n.blockchain,collection:{description:e.description,id:e.collection||"N/A",name:e.contractName||"N/A",standard:e.tokenType},clipboardText:e.image,contractId:e.contract||"N/A",index:e.id,name:e.title,principal:t,tokenId:e.tokenId||"N/A",owner:t.toString(),walletName:"NFID"}}(t,e.getPrincipal(),this.config)));n=[...n,...t]}))),n}getTokenStandard(){return this.config.blockchain}getCacheTtl(){return 30}}var d=n(96215);const u=new class extends r{}({blockchain:d.$O.ETHEREUM,defaultLogo:o.kD,assetService:c.q_});const p=new class extends r{}({blockchain:d.$O.POLYGON,defaultLogo:o.u3,assetService:c.It});const h=new class extends r{}({blockchain:d.$O.ETHEREUM_GOERLI,defaultLogo:o.kD,assetService:c.cH});const m=new class extends r{}({blockchain:d.$O.POLYGON_MUMBAI,defaultLogo:o.u3,assetService:c.Jt});class x extends i.m{constructor(){super(...arguments),this.getNFToken=async(e,t)=>this.process(e,[t])}getCacheKey(e,t,n){return t.name+e+n[0].reduce(((e,t)=>{let{principal:n}=t;return`${e}${n}`}),"")}getFunctionToCall(e){return e.getNonFungibleItems}}const g=new x([p,m,u,h]);var v=n(94244);var f=n(6028),b=n(65794);const k=e=>{const t=g.getKeys(),{configs:n}=(e=>{let{assetFilters:t,blockchains:n}=e;const{data:a,...s}=(0,v.ZP)([n,t,"useNftConfig"],(e=>{let[t,n]=e;return Promise.all(t.map((async e=>{try{return await g.getNFToken(e,n)}catch(t){return console.error("useNftConfig",t),[]}})))}));return{configs:(null===a||void 0===a?void 0:a.flat())||[],...s}})({assetFilters:null!==e&&void 0!==e?e:[],blockchains:t}),{principals:i}=(0,b.J)(),{applicationsMeta:o}=(0,a.pq)(),{data:r,isLoading:d,isValidating:u}=(0,v.ZP)(i?[i,"userTokens"]:null,(e=>{let[t]=e;return(0,f.J3)(t)}),{dedupingInterval:3e5,focusThrottleInterval:3e5,revalidateIfStale:!1});return{nfts:s.useMemo((()=>o?null===r||void 0===r?void 0:r.map((e=>{let{principal:t,account:n,collection:a,index:s,...i}=e;return{principal:t,account:n,walletName:(0,c.w)(o,n.domain,n.accountId),contractId:i.canisterId,owner:null===t||void 0===t?void 0:t.toText(),clipboardText:(0,f.p4)(a.id,Number(s)),collection:a,index:s,blockchainLogo:l.Z,...i}})).filter((t=>null===e||void 0===e||!e.length||!!e.find((e=>e.principal===t.principal.toString())))).concat(n):[]),[r,o,e,n]),isLoading:d||u}};var w=n(55081),j=n(18414),N=n(70799),y=n(95163),C=n(8439),I=n(81754),T=n(96349),S=n(4321),Z=n(10682),P=n(53211);const _=n.p+"static/media/copy.94e49d910f493b736e359de6b37bb776.svg";const E=n.p+"static/media/transfer.aa5aafda7bf79e8e9214195fa4a83b20.svg";var L=n(33693);const A=e=>{const t=(0,s.useContext)(I.J),[,n]=(0,w.L)(t.transferService),[a,l]=s.useState(!1),i=(0,P.Z)((()=>l(!1))),c=s.useCallback((t=>{var n;t.preventDefault(),T.Am.info("NFT URL copied to clipboard",{toastId:`copied_nft_${e.tokenId}`}),navigator.clipboard.writeText(null!==(n=e.clipboardText)&&void 0!==n?n:"")}),[e.clipboardText,e.tokenId]),r=(0,s.useCallback)((t=>{t.preventDefault(),n({type:"ASSIGN_SELECTED_NFT",data:e.tokenId}),n({type:"CHANGE_TOKEN_TYPE",data:"nft"}),n({type:"CHANGE_DIRECTION",data:"send"}),n("SHOW")}),[e,n]);return(0,L.jsx)("div",{className:(0,j.Z)("rounded-md w-full transition-all cursor-pointer overflow-visible p-[1px]","bg-gray-50 hover:bg-white hover:shadow-[0_2px_15px_rgba(0,0,0,0.1)] nft"),id:(0,S.S)("nft_token_",e.name)+"_"+e.collection.id.replace(/\s|#/g,""),children:(0,L.jsxs)(C.rU,{className:"relative flex flex-col items-end",to:`${Z.Cb.base}/${Z.Cb.assets}/${e.tokenId}`,state:{nft:e},children:[(0,L.jsx)("div",{className:(0,j.Z)("flex items-center justify-center z-10 mr-2.5","absolute w-6 h-6 bg-white rounded-full top-[215px] md:top-[267px]"),id:(0,S.S)("nft_token_",e.name),children:(0,L.jsx)("img",{src:e.blockchainLogo,alt:"logo",className:(0,j.Z)("w-2/3","Internet Computer"!==e.blockchain&&"!w-auto h-2/3")})}),["img","image"].includes(e.assetPreview.format)&&(0,L.jsx)("img",{id:"asset-img",className:(0,j.Z)("rounded-[5px] w-full h-[245px] md:h-[300px] object-cover"),src:e.assetPreview.url,alt:e.name}),"video"===e.assetPreview.format&&(0,L.jsx)("video",{id:"asset-video",className:(0,j.Z)("rounded-[5px] w-full h-[245px] md:h-[300px] object-cover"),src:e.assetPreview.url}),(0,L.jsxs)("div",{className:(0,j.Z)("text-sm p-2.5 flex justify-between items-center w-full"),children:[(0,L.jsxs)("div",{children:[(0,L.jsx)("div",{className:(0,j.Z)("font-bold"),id:(0,S.S)("nft_token_",e.name),children:e.name}),(0,L.jsx)("div",{id:(0,S.S)("nft_collection_",e.collection.id),className:(0,j.Z)("text-secondary truncate max-w-[190px] mt-1"),children:e.collection.name})]}),(0,L.jsxs)("div",{className:"relative w-6 shrink-0",ref:i,children:[(0,L.jsx)(o.K_,{className:(0,j.Z)("text-secondary cursor-pointer hover:text-black","rotate-90 shrink-0"),onClick:e=>{e.preventDefault(),l(!a)}}),(0,L.jsxs)("div",{className:(0,j.Z)("absolute top-6 right-0 w-[150px]","bg-white rounded-md shadow-md","text-sm z-10",!a&&"hidden"),children:[(0,L.jsxs)("div",{onClick:r,className:(0,j.Z)("pl-[10px] leading-10 hover:bg-gray-100 rounded-md","flex items-center space-x-2"),children:[(0,L.jsx)("img",{src:E,alt:""}),(0,L.jsx)("span",{children:"Transfer"})]}),(0,L.jsxs)("div",{onClick:c,className:(0,j.Z)("pl-[10px] leading-10 hover:bg-gray-100 rounded-md","flex items-center space-x-2"),children:[(0,L.jsx)("img",{src:_,alt:""}),(0,L.jsx)("span",{children:" Copy link"})]})]})]})]})]})})};var O=n(62055),F=n(62959),D=n(47200),$=n(17974);const M=e=>{let{state:t,setState:n}=e;return(0,L.jsxs)("div",{className:(0,j.Z)("gap-3 bg-white p-0.5 rounded-md","hidden sm:flex"),children:[(0,L.jsx)("div",{onClick:()=>n("grid"),className:(0,j.Z)("p-0 w-[36px] h-[36px] outline-none rounded-[4px]","hover:text-gray-100 transition-all cursor-pointer","flex justify-center items-center","grid"===t&&"bg-gray-200"),children:(0,L.jsx)(o.fJ,{className:(0,j.Z)("text-black","grid"!==t&&"!text-secondary")})}),(0,L.jsx)("div",{id:"to-table",onClick:()=>n("table"),className:(0,j.Z)("p-0 w-[36px] h-[36px] outline-none rounded-[4px]","hover:text-gray-100 transition-all cursor-pointer","flex justify-center items-center","table"===t&&"bg-gray-200"),children:(0,L.jsx)(o.B5,{className:(0,j.Z)("text-black","table"!==t&&"!text-secondary")})})]})},R=n.p+"static/media/empty.f190b907ad61d8f83d96.webp",B=e=>{let{setBlockchainFilter:t,setCollectionsFilter:n,setWalletsFilter:a,blockchainOptions:s,collectionsOptions:l,walletOptions:i,blockchainFilter:c,collectionsFilter:r,walletsFilter:d}=e;return(0,L.jsxs)("div",{className:"space-y-2",children:[(0,L.jsx)(o.TV,{label:"Blockchain",options:s,selectedValues:c,setSelectedValues:t,id:"blockchain-filter"}),(0,L.jsx)(o.TV,{options:l,label:"Collections",setSelectedValues:n,selectedValues:r,isSearch:!0,bordered:!0}),(0,L.jsx)(o.TV,{options:i,label:"Accounts",setSelectedValues:a,selectedValues:d,isSearch:!0,bordered:!0})]})};class H{static searchDeepInArray(e,t,n){return e&&t?e.filter(this.containsDeep(t)).map((e=>{const a=Object.keys(e).length?Object.keys(e)[0]:null;return a?Object.assign({},e,{[a]:e[a].filter((e=>e[n].toLowerCase().indexOf(t.toLowerCase())>-1))}):e})):null}}H.containsDeep=e=>t=>{if(!t)return!1;const n=typeof t;return"string"===n?t.toLowerCase().indexOf(e.toLowerCase())>-1:Array.isArray(t)?t.some(H.containsDeep(e)):"object"===n&&Object.values(t).some(H.containsDeep(e))};const V={"Token #":(e,t)=>Number(e.index)-Number(t.index),Wallet:(e,t)=>e.account.label.toLowerCase()<t.account.label.toLowerCase()?-1:1,Collection:(e,t)=>e.collection.name.toLowerCase()<t.collection.name.toLowerCase()?-1:1,default:()=>0};function G(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["Token #"];const n=V[t[0]];return n||console.warn(`Unknown sort method ${t[0]}`),e.sort(n||V.default)}const U=e=>{let{isLoading:t,tokens:n,applications:a}=e;const l=(0,s.useContext)(I.J),[,i]=(0,w.L)(l.transferService),[r,d]=s.useState(""),[u,p]=s.useState("grid"),[h,m]=s.useState([]),[x,g]=s.useState([]),[v,b]=s.useState([]),k=(0,y.s0)(),T=s.useMemo((()=>function(e,t){let n=e;if(t.search){const a=t.search;n=e.filter((e=>H.containsDeep(a)(e)))}return n}(n,{search:r}).filter((e=>!h.length||h.includes(e.principal.toText()))).filter((e=>!x.length||x.includes(e.collection.id))).filter((e=>!v.length||v.map((e=>e.replace(/\s+/g,""))).includes(e.blockchain.replace(/\s+/g,""))))),[n,r,h,x,v]),S=s.useMemo((()=>Object.values(function(e){return e.reduce(((e,t)=>{var n;return{...e,[t.collection.id]:{tokens:[...(null===(n=e[t.collection.id])||void 0===n?void 0:n.tokens)||[],t],collection:t.collection}}}),{})}(G(n)))),[n]),[P,_]=s.useState(["Wallet","Collection","Token #"]),[E,V]=s.useState(!1),U=s.useCallback((()=>e=>{if(P.includes(e))if(P[0]===e)V(!E);else{const t=P.map((e=>e));t.splice(t.indexOf(e),1),t.unshift(e),_(t)}}),[P,E]),W=s.useCallback((e=>{const t=n.find((t=>t.tokenId===e));t&&(i({type:"ASSIGN_SELECTED_NFT",data:t.tokenId}),i({type:"CHANGE_TOKEN_TYPE",data:"nft"}),i({type:"CHANGE_DIRECTION",data:"send"}),i("SHOW"))}),[i,n]),J=s.useMemo((()=>{const e=G(T,P).map((e=>({key:e.tokenId,val:[(0,L.jsx)(C.rU,{to:`${Z.Cb.base}/${Z.Cb.assets}/${e.tokenId}`,state:{nft:e},children:(0,L.jsx)("img",{alt:`${e.collection.name} ${e.index}`,src:e.assetPreview.url,className:(0,j.Z)("w-[74px] h-[74px] object-cover rounded")})}),(0,L.jsxs)("div",{id:`nft_token_${e.name.replace(/\s|#/g,"")}_${e.collection.id.replace(/\s/g,"")}`,children:[" ",e.name]}),(0,L.jsx)("div",{id:`nft_collection_${e.collection.id.replace(/\s/g,"")}`,className:(0,j.Z)("w-full"),children:e.collection.name}),(0,L.jsx)(C.rU,{to:`${Z.Cb.base}/${Z.Cb.assets}/${e.tokenId}`,state:{nft:e},className:"truncate block sm:w-[400px]",id:`nft_id_${e.tokenId.replace(/\s/g,"")}`,children:e.tokenId}),(0,L.jsx)("div",{className:(0,j.Z)("w-full"),id:`nft_wallet_${(0,c.w)(a,e.account.domain,e.account.accountId).replace(/\s/g,"")}`,children:(0,c.w)(a,e.account.domain,e.account.accountId)}),(0,L.jsxs)("div",{className:"flex items-center space-x-2.5 justify-center shrink-0",children:[(0,L.jsx)(o.u,{tip:"Transfer",children:(0,L.jsx)(o.Jr,{"data-tip":"Transfer",className:"w-6 transition-opacity cursor-pointer hover:opacity-50 shrink-0",onClick:()=>W(e.tokenId)})}),(0,L.jsx)(o.CK,{value:"Internet Computer"===e.blockchain?(0,f.p4)(e.collection.id,Number(e.index)):e.assetFullsize.url})]})]})));return E&&e.reverse(),e}),[T,P,E,a,W]),K=s.useMemo((()=>{const e=Object.values(function(e){return e.reduce(((e,t)=>{var n;return{...e,[t.principal.toText()]:{tokens:[...(null===(n=e[t.principal.toText()])||void 0===n?void 0:n.tokens)||[],t],account:t.account,principal:t.principal.toText()}}}),{})}(S.map((e=>e.tokens)).flat())).filter((e=>!x.length||!!e.tokens.filter((e=>x.includes(e.collection.id))).length));return Object.values(e).map((e=>({label:"-1"===e.account.accountId?"NFID Wallet":(0,c.w)(a,e.account.domain,e.account.accountId),value:e.principal,afterLabel:e.tokens.filter((e=>!x.length||x.includes(e.collection.id))).length})))}),[a,x,S]),q=s.useMemo((()=>S.filter((e=>!h.length||!!e.tokens.filter((e=>h.includes(e.principal.toText()))).length)).map((e=>{var t;return{label:e.collection.name,value:e.collection.id,icon:null===(t=e.collection)||void 0===t?void 0:t.avatar}}))),[S,h]),z=s.useMemo((()=>[...new Set(n.map((e=>e.blockchain)))].map((e=>({label:e,value:e.replace(/\s+/g,"")})))),[n]),Y=s.useCallback((()=>{b([]),g([]),m([])}),[]);return(0,L.jsxs)($.Z,{className:"!static",pageTitle:"Collectibles",icon:o.MA,iconTooltip:"Transactions history",onIconClick:()=>k(`${Z.Cb.base}/${Z.Cb.transactions}`),children:[(0,L.jsx)(F.g,{}),(0,L.jsxs)(D.Z,{className:(0,j.Z)("flex flex-col"),children:[(0,L.jsx)(D.Z,{className:(0,j.Z)("bg-gray-200 !py-5"),children:(0,L.jsxs)("div",{className:"flex items-center justify-between gap-6",children:[(0,L.jsx)(o.II,{type:"text",value:r,onChange:e=>d(e.currentTarget.value),icon:(0,L.jsx)(N.FKI,{size:"20"}),placeholder:"Search",inputClassName:"bg-white border-none",className:"w-full"}),(0,L.jsxs)("div",{className:(0,j.Z)("flex items-center space-x-6 shrink-0"),children:[(0,L.jsx)(o.EZ,{trigger:(0,L.jsx)("div",{id:"filter-nft",className:"flex items-center justify-center p-2 rounded-md md:bg-white",children:(0,L.jsx)(o.Z_,{className:"w-[21px] h-[21px] transition-opacity cursor-pointer hover:opacity-60"})}),onReset:Y,children:(0,L.jsx)(B,{collectionsOptions:q,setCollectionsFilter:g,collectionsFilter:x,walletOptions:K,setWalletsFilter:m,walletsFilter:h,blockchainFilter:v,setBlockchainFilter:b,blockchainOptions:z})}),(0,L.jsx)(M,{state:u,setState:p})]})]})}),(0,L.jsxs)("p",{id:"items-amount",className:(0,j.Z)("text-sm text-center text-secondary h-[50px] leading-[50px]",0===n.length&&"hidden"),children:[T.length," items"]}),n.length?"table"===u?(0,L.jsx)(O.ZP,{rows:J,headings:["Asset","Name","Collection","ID","Account","Actions"],sort:P,reverse:E,handleHeaderClick:U}):(0,L.jsx)("div",{className:(0,j.Z)("grid gap-5 pb-5","grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 2xl:grid-cols-4"),children:T.map((e=>(0,L.jsx)(A,{...e},`token_${e.tokenId}`)))}):(0,L.jsx)(L.Fragment,{children:t?(0,L.jsx)(o.aN,{isLoading:!0}):(0,L.jsxs)("div",{className:"flex justify-between",children:[(0,L.jsx)("span",{className:"my-16 text-sm text-gray-400",children:"You don\u2019t own any collectibles yet"}),(0,L.jsx)("img",{className:"w-[100vw] absolute md:w-[40vw] right-0",src:R})]})})]})]})},W=()=>{const{nfts:e}=k(),t=(0,a.pq)();return(0,L.jsx)(U,{isLoading:!e||t.isLoading,tokens:e||[],applications:t.applicationsMeta||[]})}},19864:(e,t,n)=>{n.d(t,{i:()=>l});var a=n(94244),s=n(8708);const l=()=>{const{data:e,isValidating:t}=(0,a.ZP)("dip20AllToken",s.o4,{dedupingInterval:36e5,focusThrottleInterval:36e5});return console.debug("useAllDip20Token",{token:e}),{token:e,isValidating:t}}},43185:(e,t,n)=>{n.d(t,{G:()=>l});var a=n(94244),s=n(76510);const l=()=>{const{data:e,...t}=(0,a.ZP)("walletExchangeRate",s.f,{dedupingInterval:36e5,focusThrottleInterval:36e5,refreshInterval:36e5});return{exchangeRate:e,...t}}},14868:(e,t,n)=>{n.d(t,{j:()=>o});var a=n(94244),s=n(94159),l=n(65794),i=n(19864);const o=()=>{const{principals:e}=(0,l.J)(),{token:t}=(0,i.i)(),{data:n,isValidating:o,mutate:c}=(0,a.ZP)(t&&e?[e,t,"AllBalanceRaw"]:null,(async e=>{let[t,n]=e;return console.debug("AllBalanceRaw",{principals:t,dip20Token:n}),await(0,s.J4)({principals:t,dip20Token:n})}),{dedupingInterval:3e4,refreshInterval:6e4});return{balances:n,isLoading:o,refreshBalances:c}}},65794:(e,t,n)=>{n.d(t,{J:()=>o});var a=n(87273),s=n(72422),l=n(21325),i=n(69491);const o=()=>{const{profile:e}=(0,i.Un)(),{accounts:t}=(0,i.xe)(),{applicationsMeta:n}=(0,i.pq)(),o=a.useMemo((()=>(0,l.XZ)(t,n)),[t,n]),{data:c}=(0,s.Z)(null!==e&&void 0!==e&&e.anchor&&o?[BigInt(e.anchor),o,e.wallet===l.TD.NFID]:null,(e=>{let[t,n,a]=e;return(0,l.bt)(t,n,a)}),{dedupingInterval:6e4,refreshInterval:6e4});return console.debug("useAllPrincipals",{principals:c}),{principals:c}}},62055:(e,t,n)=>{n.d(t,{ZP:()=>d});var a=n(18414),s=(n(87273),n(17719)),l=n(33693);const i=e=>{let{children:t}=e;return(0,l.jsx)("div",{className:(0,a.Z)("overflow-x-scroll"),children:t})},o=e=>{let{children:t,className:n}=e;return(0,l.jsx)("table",{className:(0,a.Z)("w-full text-left min-w-[640px]",null!==n&&void 0!==n?n:"table-auto"),children:t})},c=e=>{let{sort:t,reverse:n,headings:i,handleHeaderClick:o}=e;return(0,l.jsx)("thead",{className:"contents",children:(0,l.jsx)("tr",{className:(0,a.Z)("border-b border-gray-900"),children:i.map(((e,i)=>(0,l.jsx)("th",{className:(0,a.Z)("h-16 px-3",0===i&&"pl-[30px]",i===e.length-1&&"pr-[30px]",(null===t||void 0===t?void 0:t.includes(e))&&"cursor-pointer hover:bg-gray-100"),onClick:()=>o&&o(e),children:(0,l.jsxs)("div",{className:(0,a.Z)("flex h-full gap-2 items-center group whitespace-nowrap"),children:[e,(null===t||void 0===t?void 0:t[0])===e&&(0,l.jsx)(s.CSs,{className:(0,a.Z)(n&&"rotate-180")}),(null===t||void 0===t?void 0:t.includes(e))&&(null===t||void 0===t?void 0:t[0])!==e&&(0,l.jsx)("div",{className:(0,a.Z)("invisible group-hover:visible"),children:(0,l.jsx)(s.CSs,{})})]})},`heading${e}`)))})})},r=e=>{let{rows:t,headings:n}=e;return(0,l.jsx)("tbody",{children:t.map(((e,t)=>(0,l.jsx)("tr",{className:(0,a.Z)("border-b border-grey-200"),children:e.val.map(((t,s)=>(0,l.jsx)("td",{className:(0,a.Z)("h-[85px] px-3",0===s&&"pl-[30px]",s===e.val.length-1&&"pr-[30px]"),children:t},`row${e.key}cell${n[s]}`)))},`row${e.key}`)))})};function d(e){let{headings:t,rows:n,sort:a,reverse:s,handleHeaderClick:d}=e;return(0,l.jsx)(i,{children:(0,l.jsxs)(o,{children:[(0,l.jsx)(c,{headings:t,sort:a,reverse:s,handleHeaderClick:d}),(0,l.jsx)(r,{rows:n,headings:t})]})})}},4321:(e,t,n)=>{function a(e,t){return e+t.replace(/\s|#/g,"")}n.d(t,{S:()=>a})},628:(e,t,n)=>{n.d(t,{m:()=>a});class a{constructor(e){this.connectors=void 0,this.connectorsStorage=void 0,this.connectors=e,this.connectorsStorage=this.toMap(this.connectors)}getKeys(){return Array.from(this.connectorsStorage.keys())}async process(e,t){const n=this.getConnector(e);if(!n)throw Error(e+" not supported");return await this.getFunctionToCall(n).apply(n,t)}toMap(e){const t=new Map;return e.forEach((e=>{t.set(e.getTokenStandard(),e)})),t}getConnector(e){return this.connectorsStorage.get(e)}}},59362:(e,t,n)=>{n.d(t,{y:()=>f,U:()=>v});var a=n(52259),s=n(19864),l=n(87273),i=n(7863),o=n(13485),c=n(69491),r=n(75557),d=n(43185),u=n(14868);var p=n(51921),h=n(96215),m=n(21882),x=n(21325),g=n(33368);const v=e=>{const{appAccountBalance:t}=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;const{applicationsMeta:n}=(0,c.pq)(),{exchangeRate:a,isValidating:p}=(0,d.G)(),{token:h}=(0,s.i)(),{balances:m,isLoading:x}=(0,u.j)();console.debug("useUserBalances",{icpBalance:m});const g=l.useMemo((()=>{if(!p&&!x&&a&&m)return{ICP:(0,r.RJ)({balances:null!==t&&void 0!==t&&t.length?m.filter((e=>null===t||void 0===t?void 0:t.find((t=>t.principal===e.principal.toString())))):m,applications:n,exchangeRate:a,excludeEmpty:e,includeEmptyApps:["nfid.one","https://nns.ic0.app"],label:"Internet Computer",token:"ICP",icon:o.Z,toPresentation:i.T9}),...h?h.reduce(((s,l)=>{let{symbol:i,name:o,logo:c,toPresentation:d}=l;return{...s,[i]:(0,r.RJ)({toPresentation:d,balances:null!==t&&void 0!==t&&t.length?m.filter((e=>null===t||void 0===t?void 0:t.find((t=>t.principal===e.principal.toString())))):m,applications:n,icon:c,exchangeRate:"WICP"===i?a:0,excludeEmpty:e,includeEmptyApps:["nfid.one","https://nns.ic0.app"],label:o,token:i})}}),{}):{}}}),[p,x,a,m,t,n,e,h]);return console.debug("useBalanceICPAll",{isLoadingICPExchangeRate:p,isLoadingPrincipals:x,exchangeRate:a,applicationsMeta:n,appAccountBalance:g,balanceICPRaw:m}),{isLoading:x||p,appAccountBalance:g}}(!0,e),{token:n}=(0,s.i)();return[{icon:m.UC,tokenStandard:g.v.ICP,title:"Internet Computer",currency:"ICP",balance:null===t||void 0===t?void 0:t.ICP.tokenBalance,price:null===t||void 0===t?void 0:t.ICP.usdBalance,fee:BigInt(i.dH),toPresentation:i.T9,transformAmount:p.Q,blockchain:h.$O.IC},...(n?n.map((e=>{let{symbol:n,name:a,logo:s,...l}=e;return{tokenStandard:g.v.DIP20,icon:s,title:a,currency:n,balance:null===t||void 0===t?void 0:t[n].tokenBalance,price:null===t||void 0===t?void 0:t[n].usdBalance,blockchain:h.$O.IC,...l}})):[]).filter((e=>e.balance>0))]},f=async()=>{const{delegationIdentity:e}=x.fD.get();return await(0,a.iu)(e,a.qo.IC,x.KH)}},62959:(e,t,n)=>{n.d(t,{g:()=>m});var a=n(55081),s=n(18414),l=n(87273),i=n(96349),o=n(94244),c=n(21882),r=n(21325),d=n(69491),u=n(81754),p=n(59362),h=n(33693);const m=()=>{const{showMigrationWarning:e,onTransferClick:t}=(()=>{const{profile:e}=(0,d.Un)(),{data:t}=(0,o.ZP)("ICPublicDelegation",p.y),n=(0,l.useContext)(u.J),[,s]=(0,a.L)(n.transferService);return{onTransferClick:l.useCallback((async()=>{if(!t)return i.Am.warn("Please wait a few seconds and try again.");s({type:"CHANGE_TOKEN_TYPE",data:"ft"}),s({type:"CHANGE_DIRECTION",data:"send"}),s({type:"ASSIGN_RECEIVER_WALLET",data:t.getPrincipal().toText()}),s({type:"SHOW"})}),[t,s]),showMigrationWarning:(null===e||void 0===e?void 0:e.wallet)===r.TD.II}})();return e?(0,h.jsxs)("div",{className:(0,s.Z)("bg-orange-50 rounded-xl flex space-x-5 p-[30px] text-orange-900","mb-[30px]"),children:[(0,h.jsx)(c.gz,{className:"w-[22px] h-[22px] shrink-0"}),(0,h.jsxs)("div",{className:"text-sm",children:[(0,h.jsx)("p",{className:"font-bold mb-2.5",children:"NFID upgrade"}),(0,h.jsxs)("p",{className:"leading-[22px]",children:["Starting November 1, 2023, assets from external applications will not be displayed in NFID. To manage those assets in NFID, transfer them to your ",(0,h.jsx)("b",{children:"NFID Wallet"}),". Otherwise, you\u2019ll only have access through the application\u2019s website."]}),(0,h.jsx)("p",{onClick:t,className:"mt-4 font-semibold cursor-pointer text-blue",children:"Transfer assets to my NFID Wallet"})]})]}):null}},47200:(e,t,n)=>{n.d(t,{Z:()=>l});var a=n(18414),s=(n(87273),n(33693));const l=e=>{let{title:t,subTitle:n,children:l,className:i,showChildrenPadding:o=!0,id:c}=e;return(0,s.jsxs)("div",{id:c,className:(0,a.Z)("block border border-gray-200 rounded-xl","py-4 sm:py-[26px]",i),children:[(0,s.jsxs)("div",{className:"px-5",children:[t&&(0,s.jsx)("div",{className:"flex items-center justify-between mb-3 text-xl",children:t}),n&&(0,s.jsx)("div",{className:"flex items-center justify-between mb-4 text-sm leading-5 text-secondary",children:n})]}),(0,s.jsx)("div",{className:(0,a.Z)(o&&"px-5 sm:px-[30px]"),children:l})]})}}}]);
//# sourceMappingURL=625.5e9e138e.chunk.js.map