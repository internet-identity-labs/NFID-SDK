!function(e,t){"object"===typeof exports&&"undefined"!==typeof module?module.exports=t():"function"===typeof define&&define.amd?define(t):(e="undefined"!==typeof globalThis?globalThis:e||self).base64=t()}(this,(function(){"use strict";const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",r=t=>{const r="undefined"===typeof Uint8Array?[]:new Uint8Array(256);for(let n=0;n<e.length;n++)r[t.charCodeAt(n)]=n;return r},n=r(e),o=r(t),f={toArrayBuffer:(e,t)=>{const r=e.length;let f,i,a,s,c,d=.75*e.length,u=0;"="===e[e.length-1]&&(d--,"="===e[e.length-2]&&d--);const l=new ArrayBuffer(d),h=new Uint8Array(l),g=t?o:n;for(f=0;f<r;f+=4)i=g[e.charCodeAt(f)],a=g[e.charCodeAt(f+1)],s=g[e.charCodeAt(f+2)],c=g[e.charCodeAt(f+3)],h[u++]=i<<2|a>>4,h[u++]=(15&a)<<4|s>>2,h[u++]=(3&s)<<6|63&c;return l},fromArrayBuffer:(r,n)=>{const o=new Uint8Array(r);let f,i="";const a=o.length,s=n?t:e;for(f=0;f<a;f+=3)i+=s[o[f]>>2],i+=s[(3&o[f])<<4|o[f+1]>>4],i+=s[(15&o[f+1])<<2|o[f+2]>>6],i+=s[63&o[f+2]];return a%3===2?i=i.substring(0,i.length-1)+(n?"":"="):a%3===1&&(i=i.substring(0,i.length-2)+(n?"":"==")),i},toString:(e,t)=>(new TextDecoder).decode(f.toArrayBuffer(e,t)),fromString:(e,t)=>f.fromArrayBuffer((new TextEncoder).encode(e),t),validate:(e,t)=>{if(!("string"===typeof e||e instanceof String))return!1;try{return t?/^[-A-Za-z0-9\-_]*$/.test(e):/^[-A-Za-z0-9+/]*={0,3}$/.test(e)}catch(r){return!1}}};return f.base64=f,f}));